(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.9","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return an}),n.d(e,"b",function(){return Iu}),n.d(e,"c",function(){return Eu}),n.d(e,"d",function(){return wu}),n.d(e,"e",function(){return Ou}),n.d(e,"f",function(){return wc}),n.d(e,"g",function(){return hc}),n.d(e,"h",function(){return Ca}),n.d(e,"i",function(){return Uu}),n.d(e,"j",function(){return Xs}),n.d(e,"k",function(){return Au}),n.d(e,"l",function(){return ea}),n.d(e,"m",function(){return _r}),n.d(e,"n",function(){return Za}),n.d(e,"o",function(){return eo}),n.d(e,"p",function(){return bn}),n.d(e,"q",function(){return sn}),n.d(e,"r",function(){return yo}),n.d(e,"s",function(){return ya}),n.d(e,"t",function(){return va}),n.d(e,"u",function(){return ku}),n.d(e,"v",function(){return La}),n.d(e,"w",function(){return dc}),n.d(e,"x",function(){return Na}),n.d(e,"y",function(){return sc}),n.d(e,"z",function(){return Hu}),n.d(e,"A",function(){return mn}),n.d(e,"B",function(){return Tu}),n.d(e,"C",function(){return Su}),n.d(e,"D",function(){return ra}),n.d(e,"E",function(){return na}),n.d(e,"F",function(){return Cr}),n.d(e,"G",function(){return oa}),n.d(e,"H",function(){return gr}),n.d(e,"I",function(){return vn}),n.d(e,"J",function(){return bc}),n.d(e,"K",function(){return ka}),n.d(e,"L",function(){return Ku}),n.d(e,"M",function(){return un}),n.d(e,"N",function(){return aa}),n.d(e,"O",function(){return sa}),n.d(e,"P",function(){return Da}),n.d(e,"Q",function(){return V}),n.d(e,"R",function(){return ac}),n.d(e,"S",function(){return ic}),n.d(e,"T",function(){return _}),n.d(e,"U",function(){return rc}),n.d(e,"V",function(){return vc}),n.d(e,"W",function(){return Ju}),n.d(e,"X",function(){return ju}),n.d(e,"Y",function(){return ro}),n.d(e,"Z",function(){return Ds}),n.d(e,"ab",function(){return dr}),n.d(e,"bb",function(){return Yn}),n.d(e,"cb",function(){return Un}),n.d(e,"db",function(){return qn}),n.d(e,"eb",function(){return Gn}),n.d(e,"fb",function(){return zn}),n.d(e,"gb",function(){return Hn}),n.d(e,"hb",function(){return Bn}),n.d(e,"ib",function(){return Ms}),n.d(e,"jb",function(){return yc}),n.d(e,"kb",function(){return Ns}),n.d(e,"lb",function(){return Ls}),n.d(e,"mb",function(){return Fn}),n.d(e,"nb",function(){return z}),n.d(e,"ob",function(){return To}),n.d(e,"pb",function(){return Ho}),n.d(e,"qb",function(){return qo}),n.d(e,"rb",function(){return Ps}),n.d(e,"sb",function(){return At}),n.d(e,"tb",function(){return m}),n.d(e,"ub",function(){return Vn}),n.d(e,"vb",function(){return _o}),n.d(e,"wb",function(){return xt}),n.d(e,"xb",function(){return $s}),n.d(e,"yb",function(){return si}),n.d(e,"zb",function(){return ko}),n.d(e,"Ab",function(){return Ts}),n.d(e,"Bb",function(){return us}),n.d(e,"Cb",function(){return gu}),n.d(e,"Db",function(){return tt}),n.d(e,"Eb",function(){return at}),n.d(e,"Fb",function(){return E}),n.d(e,"Gb",function(){return C}),n.d(e,"Hb",function(){return it}),n.d(e,"Ib",function(){return ut}),n.d(e,"Jb",function(){return No}),n.d(e,"Kb",function(){return Uo}),n.d(e,"Lb",function(){return Vo}),n.d(e,"Mb",function(){return Do}),n.d(e,"Nb",function(){return Fo}),n.d(e,"Ob",function(){return en}),n.d(e,"Pb",function(){return Is}),n.d(e,"Qb",function(){return jn}),n.d(e,"Rb",function(){return nn}),n.d(e,"Sb",function(){return _u}),n.d(e,"Tb",function(){return zo}),n.d(e,"Ub",function(){return bu}),n.d(e,"Vb",function(){return Qo}),n.d(e,"Wb",function(){return Lo}),n.d(e,"Xb",function(){return Wo}),n.d(e,"Yb",function(){return $o}),n.d(e,"Zb",function(){return Ja}),n.d(e,"ac",function(){return hu}),n.d(e,"bc",function(){return Mo}),n.d(e,"cc",function(){return Kt}),n.d(e,"dc",function(){return br}),n.d(e,"ec",function(){return ot}),n.d(e,"fc",function(){return fu}),n.d(e,"gc",function(){return cs}),n.d(e,"hc",function(){return as}),n.d(e,"ic",function(){return Po}),n.d(e,"jc",function(){return Es}),n.d(e,"kc",function(){return Cs}),n.d(e,"lc",function(){return xs}),n.d(e,"mc",function(){return Ss}),n.d(e,"nc",function(){return du});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function b(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function m(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(m).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function y(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const v=g({__forward_ref__:g});function _(t){return t.__forward_ref__=_,t.toString=function(){return m(this())},t}function w(t){return O(t)?t():t}function O(t){return"function"==typeof t&&t.hasOwnProperty(v)&&t.__forward_ref__===_}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function x(t){return S(t,I)||S(t,k)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(j)||t.hasOwnProperty(A))?t[j]:null}const I=g({"\u0275prov":g}),j=g({"\u0275inj":g}),k=g({ngInjectableDef:g}),A=g({ngInjectorDef:g});var P=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let M;function N(t){const e=M;return M=t,e}function L(t,e,n){const r=x(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&P.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${m(t)}]`)}function R(t){return{toString:t}.toString()}var D=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),V=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const U="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,z=U||H||F||q,B={},G=[],Q=g({"\u0275cmp":g}),W=g({"\u0275dir":g}),$=g({"\u0275pipe":g}),K=g({"\u0275mod":g}),Y=g({"\u0275loc":g}),X=g({"\u0275fac":g}),J=g({__NG_ELEMENT_ID__:g});let Z=0;function tt(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===D.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||V.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Z++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[W]||null}(t)}function nt(t){return function(t){return t[$]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{rt[t.id]=t.type}),e}function ot(t,e){return R(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[Q]||null}function lt(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${m(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function bt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(X)?t[X]:null}class _t extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function wt(t){return"string"==typeof t?t:null==t?"":String(t)}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():wt(t)}function Et(t,e){const n=e?" in "+e:"";throw new _t("201",`No provider for ${Ot(t)} found${n}`)}class Ct{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function xt(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=It),Tt}function Tt(){const t=jt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function It(t,e,n,r){const i=jt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Ct(u&&u.currentValue,e,s===B),t[r]=e}function jt(t){return t.__ngSimpleChanges__||null}xt.ngInherit=!0;let kt=void 0;function At(t){kt=t}function Pt(t){return!!t.listen}const Mt={createRenderer:(t,e)=>void 0!==kt?kt:"undefined"!=typeof document?document:void 0};function Nt(t){for(;Array.isArray(t);)t=t[0];return t}function Lt(t,e){return Nt(e[t])}function Rt(t,e){return Nt(e[t.index])}function Dt(t,e){return t.data[e]}function Vt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ut(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function qt(t){return 128==(128&t[2])}function Ht(t,e){return null==e?null:t[e]}function zt(t){t[18]=0}function Bt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Gt={lFrame:fe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qt(){return Gt.bindingsEnabled}function Wt(){return Gt.lFrame.lView}function $t(){return Gt.lFrame.tView}function Kt(t){Gt.lFrame.contextLView=t}function Yt(){let t=Xt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xt(){return Gt.lFrame.currentTNode}function Jt(t,e){const n=Gt.lFrame;n.currentTNode=t,n.isParent=e}function Zt(){return Gt.lFrame.isParent}function te(){return Gt.isInCheckNoChangesMode}function ee(t){Gt.isInCheckNoChangesMode=t}function ne(){return Gt.lFrame.bindingIndex++}function re(t){const e=Gt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t,e){const n=Gt.lFrame;n.bindingIndex=n.bindingRootIndex=t,oe(e)}function oe(t){Gt.lFrame.currentDirectiveIndex=t}function se(){return Gt.lFrame.currentQueryIndex}function ae(t){Gt.lFrame.currentQueryIndex=t}function ue(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ce(t,e,n){if(n&P.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&P.Host||(r=ue(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Gt.lFrame=he();return r.currentTNode=e,r.lView=t,!0}function le(t){const e=he(),n=t[1];Gt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function he(){const t=Gt.lFrame,e=null===t?null:t.child;return null===e?fe(t):e}function fe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function de(){const t=Gt.lFrame;return Gt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pe=de;function ge(){const t=de();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function be(){return Gt.lFrame.selectedIndex}function me(t){Gt.lFrame.selectedIndex=t}function ye(){const t=Gt.lFrame;return Dt(t.tView,t.selectedIndex)}function ve(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function _e(t,e,n){Ee(t,e,3,n)}function we(t,e,n,r){(3&t[2])===n&&Ee(t,e,n,r)}function Oe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ee(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ce(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ce(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const xe=-1;class Se{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=Pt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];je(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ie(t){return 3===t||4===t||6===t}function je(t){return 64===t.charCodeAt(0)}function ke(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ae(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ae(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Pe(t){return t!==xe}function Me(t){return 32767&t}function Ne(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Le=!0;function Re(t){const e=Le;return Le=t,e}let De=0;function Ve(t,e){const n=Fe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ue(r.data,t),Ue(e,null),Ue(r.blueprint,null));const i=qe(t,e),o=t.injectorIndex;if(Pe(i)){const t=Me(i),n=Ne(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Ue(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Fe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return xe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xe}function He(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(J)&&(r=n[J]),null==r&&(r=n[J]=De++);const i=255&r,o=1<<i,s=64&i,a=32&i,u=e.data;128&i?s?a?u[t+7]|=o:u[t+6]|=o:a?u[t+5]|=o:u[t+4]|=o:s?a?u[t+3]|=o:u[t+2]|=o:a?u[t+1]|=o:u[t]|=o}(t,e,n)}function ze(t,e,n){if(n&P.Optional)return t;Et(e,"NodeInjector")}function Be(t,e,n,r){if(n&P.Optional&&void 0===r&&(r=null),0==(n&(P.Self|P.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&P.Optional):L(e,r,n&P.Optional)}finally{N(o)}}return ze(r,e,n)}function Ge(t,e,n,r=P.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(J)?t[J]:void 0;return"number"==typeof e?e>=0?255&e:We:e}(n);if("function"==typeof o){if(!ce(e,t,r))return r&P.Host?ze(i,n,r):Be(e,n,r,i);try{const t=o();if(null!=t||r&P.Optional)return t;Et(n)}finally{pe()}}else if("number"==typeof o){let i=null,s=Fe(t,e),a=xe,u=r&P.Host?e[16][6]:null;for((-1===s||r&P.SkipSelf)&&(a=-1===s?qe(t,e):e[s+8],a!==xe&&Je(r,!1)?(i=e[1],s=Me(a),e=Ne(a,e)):s=-1);-1!==s;){const t=e[1];if(Xe(o,s,t.data)){const t=$e(s,e,n,i,r,u);if(t!==Qe)return t}a=e[s+8],a!==xe&&Je(r,e[1].data[s+8]===u)&&Xe(o,s,e)?(i=t,s=Me(a),e=Ne(a,e)):s=-1}}}return Be(e,n,r,i)}const Qe={};function We(){return new Ze(Yt(),Wt())}function $e(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Ke(a,s,n,null==r?bt(a)&&Le:r!=s&&0!=(3&a.type),i&P.Host&&o===a);return null!==u?Ye(e,s,u,a):Qe}function Ke(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&yt(t)&&t.type===n)return u}return null}function Ye(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Se){const s=i;s.resolving&&function(t,e){throw new _t("200","Circular dependency in DI detected for "+t)}(Ot(o[n]));const a=Re(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?N(s.injectImpl):null;ce(t,r,P.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&N(u),Re(a),s.resolving=!1,pe()}}return i}function Xe(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Je(t,e){return!(t&P.Self||t&P.Host&&e)}class Ze{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ge(this._tNode,this._lView,t,void 0,e)}}function tn(t){const e=t;if(O(t))return()=>{const t=tn(w(e));return t?t():null};let n=vt(e);if(null===n){const t=T(e);n=t&&t.factory}return n||null}function en(t){return R(()=>{const e=t.prototype.constructor,n=e[X]||tn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[X]||tn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function nn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ie(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Yt(),t)}const rn="__parameters__";function on(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(rn)?t[rn]:Object.defineProperty(t,rn,{value:[]})[rn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class sn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const an=new sn("AnalyzeForEntryComponents"),un=Function;function cn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),cn(r,e)):e!==t&&e.push(r)}return e}function ln(t,e){t.forEach(t=>Array.isArray(t)?ln(t,e):e(t))}function hn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dn(t,e,n){let r=gn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pn(t,e){const n=gn(t,e);if(n>=0)return t[1|n]}function gn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const bn=on("Inject",t=>({token:t})),mn=on("Optional"),yn=on("Self"),vn=on("SkipSelf"),_n=on("Host"),wn={},On=/\n/gm,En="__source",Cn=g({provide:String,useValue:g});let xn,Sn=void 0;function Tn(t){const e=Sn;return Sn=t,e}function In(t,e=P.Default){if(void 0===Sn)throw new Error("inject() must be called from an injection context");return null===Sn?L(t,void 0,e):Sn.get(t,e&P.Optional?null:void 0,e)}function jn(t,e=P.Default){return(M||In)(w(t),e)}function kn(t){const e=[];for(let n=0;n<t.length;n++){const r=w(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=P.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof mn||"Optional"===i.ngMetadataName||i===mn?n|=P.Optional:i instanceof vn||"SkipSelf"===i.ngMetadataName||i===vn?n|=P.SkipSelf:i instanceof yn||"Self"===i.ngMetadataName||i===yn?n|=P.Self:i instanceof _n||"Host"===i.ngMetadataName||i===_n?n|=P.Host:t=i instanceof bn||i===bn?i.token:i}e.push(jn(t,n))}else e.push(jn(r))}return e}function An(t){var e;return(null===(e=function(){if(void 0===xn&&(xn=null,z.trustedTypes))try{xn=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return xn}())||void 0===e?void 0:e.createHTML(t))||t}class Pn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Mn extends Pn{getTypeName(){return"HTML"}}class Nn extends Pn{getTypeName(){return"Style"}}class Ln extends Pn{getTypeName(){return"Script"}}class Rn extends Pn{getTypeName(){return"URL"}}class Dn extends Pn{getTypeName(){return"ResourceURL"}}function Vn(t){return t instanceof Pn?t.changingThisBreaksApplicationSecurity:t}function Un(t,e){const n=Fn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Fn(t){return t instanceof Pn&&t.getTypeName()||null}function qn(t){return new Mn(t)}function Hn(t){return new Nn(t)}function zn(t){return new Ln(t)}function Bn(t){return new Rn(t)}function Gn(t){return new Dn(t)}class Qn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(An(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Wn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=An(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=An(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const $n=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match($n)||t.match(Kn)?t:"unsafe:"+t}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Jn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Zn=Xn("area,br,col,hr,img,wbr"),tr=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),er=Xn("rp,rt"),nr=Jn(er,tr),rr=Jn(Zn,Jn(tr,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jn(er,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nr),ir=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),or=Xn("srcset"),sr=Jn(ir,or,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ar=Xn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!rr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ar.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!sr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ir[o]&&(s=Yn(s)),or[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Yn(t.trim())).join(", ")),this.buf.push(" ",e,'="',hr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();rr.hasOwnProperty(e)&&!Zn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(hr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,lr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(lr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fr;function dr(t,e){let n=null;try{fr=fr||function(t){const e=new Wn(t);return function(){try{return!!(new window.DOMParser).parseFromString(An(""),"text/html")}catch(t){return!1}}()?new Qn(e):e}(t);let r=e?String(e):"";n=fr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=fr.getInertBodyElement(r)}while(r!==o);return(new ur).sanitizeChildren(pr(n)||n)}finally{if(n){const t=pr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function pr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var gr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function br(t){const e=function(){const t=Wt();return t&&t[12]}();return e?e.sanitize(gr.URL,t)||"":Un(t,"URL")?Vn(t):Yn(wt(t))}function mr(t){return t.ngDebugContext}function yr(t){return t.ngOriginalError}function vr(t,...e){t.error(...e)}class _r{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||vr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?mr(t)?mr(t):this._findContext(yr(t)):null}_findOriginalError(t){let e=yr(t);for(;e&&yr(e);)e=yr(e);return e}}function wr(t,e){t.__ngContext__=e}const Or=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Er(t){return t instanceof Function?t():t}var Cr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function xr(t,e){return(void 0)(t,e)}function Sr(t){const e=t[3];return pt(e)?e[3]:e}function Tr(t){return jr(t[13])}function Ir(t){return jr(t[4])}function jr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function kr(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=Nt(r);0===t&&null!==n?null==i?Dr(e,n,a):Rr(e,n,a,i||null,!0):1===t&&null!==n?Rr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Ur(t,e);r&&function(t,e,n,r){Pt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Nt(n)&&kr(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];Br(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ar(t,e,n){return Pt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Pr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Bt(i,-1)),n.splice(r,1)}function Mr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Pr(o,r),e>0&&(t[n-1][4]=r[4]);const s=fn(t,ft+e);Br(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Nr(t,e){if(!(256&e[2])){const n=e[11];Pt(n)&&n.destroyNode&&Br(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Lr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Lr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Lr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Lr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Se)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Nt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Pt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Pr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Rr(t,e,n,r,i){Pt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Dr(t,e,n){Pt(t)?t.appendChild(e,n):e.appendChild(n)}function Vr(t,e,n,r,i){null!==r?Rr(t,e,n,r,i):Dr(t,e,n)}function Ur(t,e){return Pt(t)?t.parentNode(e):e.parentNode}function Fr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===V.None||e===V.Emulated)return null}return Rt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Rt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Vr(o,i,n[a],s,!1);else Vr(o,i,n,s,!1)}function qr(t,e){if(null!==e){const n=e.type;if(3&n)return Rt(e,t);if(4&n)return Hr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return qr(t,n);{const n=t[e.index];return pt(n)?Hr(-1,n):Nt(n)}}if(32&n)return xr(e,t)()||Nt(t[e.index]);{const n=t[16],r=n[6],i=Sr(n),o=r.projection[e.projection];return null!=o?qr(i,o):qr(t,e.next)}}return null}function Hr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return qr(t,r)}return e[7]}function zr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&wr(Nt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)zr(t,e,n.child,r,i,o,!1),kr(e,t,i,a,o);else if(32&u){const s=xr(n,r);let u;for(;u=s();)kr(e,t,i,u,o);kr(e,t,i,a,o)}else 16&u?Gr(t,e,r,n,i,o):kr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Br(t,e,n,r,i,o){zr(n,r,t.firstChild,e,i,o,!1)}function Gr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)kr(e,t,i,a[u],o);else zr(t,e,a,s[3],i,o,!0)}function Qr(t,e,n){Pt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Wr(t,e,n){Pt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function $r(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Kr="ng-template";function Yr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==$r(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Xr(t){return 4===t.type&&t.value!==Kr}function Jr(t,e,n){return e===(4!==t.type||n?t.value:Kr)}function Zr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ie(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Jr(t,u,n)||""===u&&1===e.length){if(ti(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Yr(t.attrs,c,n)){if(ti(r))return!1;s=!0}continue}const l=ei(8&r?"class":u,i,Xr(t),n);if(-1===l){if(ti(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==$r(e,c,0)||2&r&&c!==t){if(ti(r))return!1;s=!0}}}}else{if(!s&&!ti(r)&&!ti(u))return!1;if(s&&ti(u))continue;s=!1,r=u|1&r}}return ti(r)||s}function ti(t){return 0==(1&t)}function ei(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ni(t,e,n=!1){for(let r=0;r<e.length;r++)if(Zr(t,e[r],n))return!0;return!1}function ri(t,e){return t?":not("+e.trim()+")":e}function ii(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ti(s)||(e+=ri(o,i),i=""),r=s,o=o||!ti(r);n++}return""!==i&&(e+=ri(o,i)),e}const oi={};function si(t){ai($t(),Wt(),be()+t,te())}function ai(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&_e(e,r,n)}else{const r=t.preOrderHooks;null!==r&&we(e,r,0,n)}me(n)}function ui(t,e){return t<<17|e<<2}function ci(t){return t>>17&32767}function li(t){return 2|t}function hi(t){return(131068&t)>>2}function fi(t,e){return-131069&t|e<<2}function di(t){return 1|t}function pi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ae(i),n.contentQueries(2,e[o],o)}}}function gi(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,zt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function bi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Xt(),s=Zt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Gt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Gt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Jt(o,!0),o}function mi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function yi(t,e,n){le(e);try{const r=t.viewQuery;null!==r&&Wi(1,r,n);const i=t.template;null!==i&&wi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&pi(t,e),t.staticViewQueries&&Wi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Hi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ge()}}function vi(t,e,n,r){const i=e[2];if(256==(256&i))return;le(e);const o=te();try{zt(e),Gt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&wi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&_e(e,n,null)}else{const n=t.preOrderHooks;null!==n&&we(e,n,0,null),Oe(e,0)}if(function(t){for(let e=Tr(t);null!==e;e=Ir(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Bt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Tr(t);null!==e;e=Ir(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];qt(n)&&vi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&pi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&_e(e,n)}else{const n=t.contentHooks;null!==n&&we(e,n,1),Oe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)me(~r);else{const i=r,o=n[++t],s=n[++t];ie(o,i),s(2,e[i])}}}finally{me(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Fi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Wi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&_e(e,n)}else{const n=t.viewHooks;null!==n&&we(e,n,2),Oe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bt(e[3],-1))}finally{ge()}}function _i(t,e,n,r){const i=e[10],o=!te(),s=Ft(e);try{o&&!s&&i.begin&&i.begin(),s&&yi(t,e,r),vi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function wi(t,e,n,r,i){const o=be();try{me(-1),2&r&&e.length>ht&&ai(t,e,ht,te()),n(r,i)}finally{me(o)}}function Oi(t,e,n){Qt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ve(n,e),wr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=yt(r);o&&Ri(e,n,r);const u=Ye(e,t,a,n);wr(u,e),null!==s&&Di(0,a-i,u,r,0,s),o&&(Vt(n.index,e)[8]=u)}}(t,e,n,Rt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Gt.lFrame.currentDirectiveIndex;try{me(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];oe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ai(r,i)}}finally{me(-1),oe(s)}}(t,e,n))}function Ei(t,e,n=Rt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Ci(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=xi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function xi(t,e,n,r,i,o,s,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:oi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Si(t,e,n,r){const i=Ki(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Yi(t).push(r,i.length-1))}function Ti(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ii(t,e,n,r,i,o,s,a){const u=Rt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Ji(t,n,c,r,i),bt(e)&&function(t,e){const n=Vt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Pt(o)?o.setProperty(u,r,i):je(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ji(t,e,n,r){let i=!1;if(Qt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ni(n,s.selectors,!1)&&(i||(i=[]),He(Ve(n,e),t,s.type),yt(s)?(Pi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ni(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=mi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=ke(n.mergedAttrs,c.hostAttrs),Li(t,n,e,u,c),Mi(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Xr(e)?null:Vi(n,i);o.push(c),s=Ti(n,u,s),a=Ti(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new _t("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=ke(n.mergedAttrs,n.attrs),i}function ki(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ai(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Pi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Mi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function Ni(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Li(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=vt(i.type)),s=new Se(o,yt(i),null);t.blueprint[r]=s,n[r]=s,ki(t,e,0,r,mi(t,n,i.hostVars,oi),i)}function Ri(t,e,n){const r=Rt(e,t),i=Ci(n),o=t[10],s=zi(t,gi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Di(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ui(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Fi(t,e){const n=Vt(e,t);if(qt(n)){const t=n[1];80&n[2]?vi(t,n,t.template,n[8]):n[5]>0&&qi(n)}}function qi(t){for(let n=Tr(t);null!==n;n=Ir(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];vi(t,e,t.template,e[8])}else e[5]>0&&qi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Vt(e[n],t);qt(r)&&r[5]>0&&qi(r)}}function Hi(t,e){const n=Vt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),yi(r,n,n[8])}function zi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Bi(t){for(;t;){t[2]|=64;const e=Sr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Gi(t,e,n){const r=e[10];r.begin&&r.begin();try{vi(t,e,t.template,n)}catch(i){throw Xi(e,i),i}finally{r.end&&r.end()}}function Qi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ut(n),i=r[1];_i(i,r,i.template,n)}}(t[8])}function Wi(t,e,n){ae(0),e(t,n)}const $i=(()=>Promise.resolve(null))();function Ki(t){return t[7]||(t[7]=[])}function Yi(t){return t.cleanup||(t.cleanup=[])}function Xi(t,e){const n=t[9],r=n?n.get(_r,null):null;r&&r.handleError(e)}function Ji(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Zi(t,e,n){const r=Lt(e,t);!function(t,e,n){Pt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function to(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=y(i,t):2==o&&(r=y(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const eo=new sn("INJECTOR",-1);class no{get(t,e=wn){if(e===wn){const e=new Error(`NullInjectorError: No provider for ${m(t)}!`);throw e.name="NullInjectorError",e}return e}}const ro=new sn("Set Injector scope."),io={},oo={},so=[];let ao=void 0;function uo(){return void 0===ao&&(ao=new no),ao}function co(t,e=null,n=null,r){return new lo(t,n,e||uo(),r)}class lo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ln(e,n=>this.processProvider(n,t,e)),ln([t],t=>this.processInjectorType(t,[],i)),this.records.set(eo,po(void 0,this));const o=this.records.get(ro);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:m(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=wn,n=P.Default){this.assertNotDestroyed();const r=Tn(this);try{if(!(n&P.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof sn)&&x(t);e=n&&this.injectableDefInScope(n)?po(ho(t),io):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&P.Self?uo():this.parent).get(t,e=n&P.Optional&&e===wn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(m(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[En]&&i.unshift(e[En]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=m(e);if(Array.isArray(e))i=e.map(m).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):m(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(On,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Tn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(m(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=w(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ln(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ln(r,t=>this.processProvider(t,n,r||so))}}this.injectorDefTypes.add(o),this.records.set(o,po(r.factory,io));const a=r.providers;if(null!=a&&!s){const e=t;ln(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=bo(t=w(t))?t:w(t&&t.provide);const i=function(t,e,n){return go(t)?po(void 0,t.useValue):po(fo(t),io)}(t);if(bo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=po(void 0,io,!0),e.factory=()=>kn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===io&&(e.value=oo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ho(t){const e=x(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;const r=T(t);if(null!==r)return r.factory;if(t instanceof sn)throw new Error(`Token ${m(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${m(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[I]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function fo(t,e,n){let r=void 0;if(bo(t)){const e=w(t);return vt(e)||ho(e)}if(go(t))r=()=>w(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...kn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>jn(w(t.useExisting));else{const e=w(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||ho(e);r=()=>new e(...kn(t.deps))}var i;return r}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function go(t){return null!==t&&"object"==typeof t&&Cn in t}function bo(t){return"function"==typeof t}const mo=function(t,e,n){return function(t,e=null,n=null,r){const i=co(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let yo=(()=>{class t{static create(t,e){return Array.isArray(t)?mo(t,e,""):mo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=wn,t.NULL=new no,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>jn(eo)}),t.__NG_ELEMENT_ID__=-1,t})();function vo(t,e){ve(Ut(t)[1],Yt())}function _o(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=wo(t.inputs),e.declaredInputs=wo(t.declaredInputs),e.outputs=wo(t.outputs);const n=i.hostBindings;n&&Co(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Oo(t,o),s&&Eo(t,s),b(t.inputs,i.inputs),b(t.declaredInputs,i.declaredInputs),b(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===_o&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ke(i.hostAttrs,n=ke(n,i.hostAttrs))}}(r)}function wo(t){return t===B?{}:t===G?[]:t}function Oo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Eo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Co(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let xo=null;function So(){if(!xo){const t=z.Symbol;if(t&&t.iterator)xo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(xo=n)}}}return xo}function To(t){return!!Io(t)&&(Array.isArray(t)||!(t instanceof Map)&&So()in t)}function Io(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ko(t,e,n,r){const i=Wt();return jo(i,ne(),e)&&($t(),function(t,e,n,r,i,o){const s=Rt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Pt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?wt(o):s(o,r||"",i);Pt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(ye(),i,t,e,n,r)),ko}function Ao(t,e,n,r){return jo(t,ne(),n)?e+wt(n)+r:oi}function Po(t,e,n,r,i,o,s,a){const u=Wt(),c=$t(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=bi(e,t,4,s||null,Ht(c,a));ji(e,n,l,Ht(c,u)),ve(e,l);const h=l.tViews=xi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Jt(h,!1);const f=u[11].createComment("");Fr(c,u,f,h),wr(f,u),zi(u,u[l]=Ui(f,u,f,h)),mt(h)&&Oi(c,u,h),null!=s&&Ei(u,h,a)}function Mo(t){return function(t,e){return t[e]}(Gt.lFrame.contextLView,ht+t)}function No(t,e=P.Default){const n=Wt();return null===n?jn(t,e):Ge(Yt(),n,w(t),e)}function Lo(t,e,n){const r=Wt();return jo(r,ne(),e)&&Ii($t(),ye(),r,t,e,r[11],n,!1),Lo}function Ro(t,e,n,r,i){const o=i?"class":"style";Ji(t,n,e.inputs[o],o,r)}function Do(t,e,n,r){const i=Wt(),o=$t(),s=ht+t,a=i[11],u=i[s]=Ar(a,e,Gt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=bi(e,t,2,i,Ht(a,o));return ji(e,n,u,Ht(a,s)),null!==u.attrs&&to(u,u.attrs,!1),null!==u.mergedAttrs&&to(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Jt(c,!0);const l=c.mergedAttrs;null!==l&&Te(a,u,l);const h=c.classes;null!==h&&Wr(a,u,h);const f=c.styles;null!==f&&Qr(a,u,f),64!=(64&c.flags)&&Fr(o,i,u,c),0===Gt.lFrame.elementDepthCount&&wr(u,i),Gt.lFrame.elementDepthCount++,mt(c)&&(Oi(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Ei(i,c)}function Vo(){let t=Yt();Zt()?Gt.lFrame.isParent=!1:(t=t.parent,Jt(t,!1));const e=t;Gt.lFrame.elementDepthCount--;const n=$t();n.firstCreatePass&&(ve(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ro(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ro(n,e,Wt(),e.stylesWithoutHost,!1)}function Uo(t,e,n,r){Do(t,e,n,r),Vo()}function Fo(){return Wt()}function qo(t){return!!t&&"function"==typeof t.then}function Ho(t){return!!t&&"function"==typeof t.subscribe}function zo(t,e,n=!1,r){const i=Wt(),o=$t(),s=Yt();return function(t,e,n,r,i,o,s=!1,a){const u=mt(r),c=t.firstCreatePass&&Yi(t),l=Ki(e);let h=!0;if(3&r.type){const f=Rt(r,e),d=a?a(f):B,p=d.target||f,g=l.length,b=a?t=>a(Nt(t[r.index])).target:r.index;if(Pt(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Go(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,b,g,g+1)}}else o=Go(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,b,g,s)}else o=Go(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),zo}function Bo(t,e,n){try{return!1!==e(n)}catch(r){return Xi(t,r),!1}}function Go(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Vt(t.index,e):e;0==(32&e[2])&&Bi(s);let a=Bo(e,n,o),u=i.__ngNextListenerFn__;for(;u;)a=Bo(e,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Qo(t=1){return function(t){return(Gt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Gt.lFrame.contextLView))[8]}(t)}function Wo(t,e,n){return $o(t,"",e,"",n),Wo}function $o(t,e,n,r,i){const o=Wt(),s=Ao(o,e,n,r);return s!==oi&&Ii($t(),ye(),o,t,s,o[11],i,!1),$o}const Ko=[];function Yo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ci(o):hi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];Xo(t[a],e)&&(u=!0,t[a+1]=r?di(n):li(n)),a=r?ci(n):hi(n)}u&&(t[n+1]=r?li(o):di(o))}function Xo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&gn(t,e)>=0}const Jo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zo(t){return t.substring(Jo.key,Jo.keyEnd)}function ts(t){return t.substring(Jo.value,Jo.valueEnd)}function es(t,e){const n=Jo.textEnd;return n===e?-1:(e=Jo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Jo.key=e,n),is(t,e,n))}function ns(t,e){const n=Jo.textEnd;let r=Jo.key=is(t,e,n);return n===r?-1:(r=Jo.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=os(t,r,n),r=Jo.value=is(t,r,n),r=Jo.valueEnd=function(t,e,n){let r=-1,i=-1,o=-1,s=e,a=s;for(;s<n;){const u=t.charCodeAt(s++);if(59===u)return a;34===u||39===u?a=s=ss(t,u,s,n):e===s-4&&85===o&&82===i&&76===r&&40===u?a=s=ss(t,41,s,n):u>32&&(a=s),o=i,i=r,r=-33&u}return a}(t,r,n),os(t,r,n))}function rs(t){Jo.key=0,Jo.keyEnd=0,Jo.value=0,Jo.valueEnd=0,Jo.textEnd=t.length}function is(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function os(t,e,n,r){return(e=is(t,e,n))<n&&e++,e}function ss(t,e,n,r){let i=-1,o=n;for(;o<r;){const n=t.charCodeAt(o++);if(n==e&&92!==i)return o;i=92==n&&92===i?0:n}throw new Error}function as(t,e,n){return fs(t,e,n,!1),as}function us(t,e){return fs(t,e,null,!0),us}function cs(t){ds(ys,ls,t,!1)}function ls(t,e){for(let n=function(t){return rs(t),ns(t,is(t,0,Jo.textEnd))}(e);n>=0;n=ns(e,n))ys(t,Zo(e),ts(e))}function hs(t,e){for(let n=function(t){return rs(t),es(t,is(t,0,Jo.textEnd))}(e);n>=0;n=es(e,n))dn(t,Zo(e),!0)}function fs(t,e,n,r){const i=Wt(),o=$t(),s=re(2);o.firstUpdatePass&&gs(o,t,s,r),e!==oi&&jo(i,s,e)&&vs(o,o.data[be()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=m(Vn(t)))),t}(e,n),r,s)}function ds(t,e,n,r){const i=$t(),o=re(2);i.firstUpdatePass&&gs(i,null,o,r);const s=Wt();if(n!==oi&&jo(s,o,n)){const a=i.data[be()];if(Os(a,r)&&!ps(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=y(t,n||"")),Ro(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===oi&&(i=Ko);let u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0;let p=null,g=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,g=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,g=d),null!==p&&vs(t,e,n,r,p,g,s,a),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return Ko;const r=[],i=Vn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function ps(t,e){return e>=t.expandoStartIndex}function gs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[be()],s=ps(t,n);Os(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Gt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ms(n=bs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=bs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==hi(r))return t[ci(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=bs(null,t,e,n[1],r),n=ms(n,e.attrs,r),function(t,e,n,r){t[ci(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ms(r,t[o].hostAttrs,n);return ms(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ci(s),u=hi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||gn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ci(t[a+1]);t[r+1]=ui(e,a),0!==e&&(t[e+1]=fi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ui(a,0),0!==a&&(t[a+1]=fi(t[a+1],r)),a=r;else t[r+1]=ui(u,0),0===a?a=r:t[u+1]=fi(t[u+1],r),u=r;l&&(t[r+1]=li(t[r+1])),Yo(t,c,r,!0),Yo(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&gn(o,e)>=0&&(n[r+1]=di(n[r+1]))}(e,c,t,r,o),s=ui(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function bs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=ms(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function ms(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),dn(t,s,!!n||e[++o]))}return void 0===t?null:t}function ys(t,e,n){dn(t,e,Vn(n))}function vs(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];ws(1==(1&c)?_s(u,e,n,i,hi(c),s):void 0)||(ws(o)||2==(2&c)&&(o=_s(u,null,n,i,a,s)),function(t,e,n,r,i){const o=Pt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Cr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Cr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Lt(be(),n),i,o))}function _s(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===oi&&(l=c?Ko:void 0);let h=c?pn(l,r):u===r?l:void 0;if(o&&!ws(h)&&(h=pn(e,r)),ws(h)&&(a=h,s))return a;const f=t[i+1];i=s?ci(f):hi(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=pn(t,r))}return a}function ws(t){return void 0!==t}function Os(t,e){return 0!=(t.flags&(e?16:32))}function Es(t,e=""){const n=Wt(),r=$t(),i=t+ht,o=r.firstCreatePass?bi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Pt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Fr(r,n,s,o),Jt(o,!1)}function Cs(t){return xs("",t,""),Cs}function xs(t,e,n){const r=Wt(),i=Ao(r,t,e,n);return i!==oi&&Zi(r,be(),i),xs}function Ss(t,e,n,r,i){const o=Wt(),s=function(t,e,n,r,i,o){const s=function(t,e,n,r){const i=jo(t,e,n);return jo(t,e+1,r)||i}(t,Gt.lFrame.bindingIndex,n,i);return re(2),s?e+wt(n)+r+wt(i)+o:oi}(o,t,e,n,r,i);return s!==oi&&Zi(o,be(),s),Ss}function Ts(t,e,n){ds(dn,hs,Ao(Wt(),t,e,n),!0)}function Is(t,e,n){const r=Wt();return jo(r,ne(),e)&&Ii($t(),ye(),r,t,e,r[11],n,!0),Is}const js=void 0;var ks=["en",[["a","p"],["AM","PM"],js],[["AM","PM"],js,js],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],js,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],js,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",js,"{1} 'at' {0}",js],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let As={};function Ps(t,e,n){"string"!=typeof e&&(n=e,e=t[Ds.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),As[e]=t,n&&(As[e][Ds.ExtraData]=n)}function Ms(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Rs(e);if(n)return n;const r=e.split("-")[0];if(n=Rs(r),n)return n;if("en"===r)return ks;throw new Error(`Missing locale data for the locale "${t}".`)}function Ns(t){return Ms(t)[Ds.CurrencyCode]||null}function Ls(t){return Ms(t)[Ds.PluralCase]}function Rs(t){return t in As||(As[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),As[t]}var Ds=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Vs="en-US";let Us=Vs;function Fs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Us=t.toLowerCase().replace(/_/g,"-"))}function qs(t,e,n,r,i){if(t=w(t),Array.isArray(t))for(let o=0;o<t.length;o++)qs(t[o],e,n,r,i);else{const o=$t(),s=Wt();let a=bo(t)?t:w(t.provide),u=fo(t);const c=Yt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(bo(t)||!t.multi){const r=new Se(u,i,No),d=Bs(a,e,i?l:l+f,h);-1===d?(He(Ve(c,s),o,a),Hs(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Bs(a,e,l+f,h),p=Bs(a,e,l,l+f),g=d>=0&&n[d],b=p>=0&&n[p];if(i&&!b||!i&&!g){He(Ve(c,s),o,a);const l=function(t,e,n,r,i){const o=new Se(t,n,No);return o.multi=[],o.index=e,o.componentProviders=0,zs(o,i,r&&!n),o}(i?Qs:Gs,n.length,i,r,u);!i&&b&&(n[p].providerFactory=l),Hs(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else Hs(o,t,d>-1?d:p,zs(n[i?p:d],u,!i&&r));!i&&r&&b&&n[p].componentProviders++}}}function Hs(t,e,n,r){const i=bo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function zs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Bs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Gs(t,e,n,r){return Ws(this.multi,[])}function Qs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ye(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ws(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ws(i,o);return o}function Ws(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $s(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=$t();if(r.firstCreatePass){const i=yt(t);qs(n,r.data,r.blueprint,i,!0),qs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ks{}class Ys{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${m(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Xs=(()=>{class t{}return t.NULL=new Ys,t})();function Js(...t){}function Zs(t,e){return new ea(Rt(t,e))}const ta=function(){return Zs(Yt(),Wt())};let ea=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ta,t})();class na{}let ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ia(),t})();const ia=function(){const t=Wt(),e=Vt(Yt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let oa=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class sa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const aa=new sa("11.0.9");class ua{constructor(){}supports(t){return To(t)}create(t){return new la(t)}}const ca=(t,e)=>e;class la{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ca}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<pa(n,r,i)?e:n,s=pa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!To(t))throw new Error(`Error trying to diff '${m(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[So()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new ha(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new da),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new da),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ha{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class da{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new fa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ga{constructor(){}supports(t){return t instanceof Map||Io(t)}create(){return new ba}}class ba{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Io(t)))throw new Error(`Error trying to diff '${m(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ma(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ma{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ya=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new vn,new mn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new ua])}),t})(),va=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new vn,new mn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new ga])}),t})();function _a(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Nt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&_a(e[1],e,n,r)}const s=n.type;if(8&s)_a(t,e,n.child,r);else if(32&s){const t=xr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Sr(t);_a(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class wa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return _a(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Mr(t,n),fn(e,n))}this._attachedToViewContainer=!1}Nr(this._lView[1],this._lView)}onDestroy(t){Si(this._lView[1],this._lView,null,t)}markForCheck(){Bi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{Gi(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Br(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Oa extends wa{constructor(t){super(t),this._view=t}detectChanges(){Qi(this._view)}checkNoChanges(){!function(t){ee(!0);try{Qi(t)}finally{ee(!1)}}(this._view)}get context(){return null}}const Ea=xa;let Ca=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ea,t.__ChangeDetectorRef__=!0,t})();function xa(t=!1){return function(t,e,n){if(!n&&bt(t)){const n=Vt(t.index,e);return new wa(n,n)}return 47&t.type?new wa(e[16],e):null}(Yt(),Wt(),t)}const Sa=[new ga],Ta=new ya([new ua]),Ia=new va(Sa),ja=function(){return Ma(Yt(),Wt())};let ka=(()=>{class t{}return t.__NG_ELEMENT_ID__=ja,t})();const Aa=ka,Pa=class extends Aa{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=gi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),yi(e,n,t),new wa(n)}};function Ma(t,e){return 4&t.type?new Pa(e,t,Zs(t,e)):null}class Na{}class La{}const Ra=function(){return Ha(Yt(),Wt())};let Da=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ra,t})();const Va=Da,Ua=class extends Va{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Zs(this._hostTNode,this._hostLView)}get injector(){return new Ze(this._hostTNode,this._hostLView)}get parentInjector(){const t=qe(this._hostTNode,this._hostLView);if(Pe(t)){const e=Ne(t,this._hostLView),n=Me(t);return new Ze(e[1].data[n+8],e)}return new Ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Fa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Na,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ua(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],hn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Hr(i,o),a=n[11],u=Ur(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Br(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),hn(qa(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Fa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e);n&&(fn(qa(this._lContainer),e),Nr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Mr(this._lContainer,e);return n&&null!=fn(qa(this._lContainer),e)?new wa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Fa(t){return t[8]}function qa(t){return t[8]||(t[8]=[])}function Ha(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Nt(r);else{const n=e[11];i=n.createComment("");const r=Rt(t,e);Rr(n,Ur(n,r),i,function(t,e){return Pt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ui(r,e,i,t),zi(e,n)}return new Ua(n,t,e)}const za={};class Ba extends Xs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new Wa(e,this.ngModule)}}function Ga(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Qa=new sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Or});class Wa extends Ks{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ii).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ga(this.componentDef.inputs)}get outputs(){return Ga(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,za,i);return o!==za||r===za?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(na,Mt),s=i.get(oa,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Pt(t))return t.selectRootElement(e,n===V.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ar(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Or,clean:$i,playerHandler:null,flags:0},f=xi(0,null,null,1,0,null,null,null,null,null),d=gi(null,f,h,l,null,null,o,a,s,i);let p,g;le(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=bi(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(to(a,u,!0),null!==t&&(Te(i,t,u),null!==a.classes&&Wr(i,t,a.classes),null!==a.styles&&Qr(i,t,a.styles)));const c=r.createRenderer(t,e),l=gi(n,Ci(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(He(Ve(a,n),s,e.type),Pi(s,a),Ni(a,n.length,1)),zi(n,l),n[20]=l}(c,this.componentDef,d,o,a);if(c)if(n)Te(a,c,["ng-version",aa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ti(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(a,c,t),e&&e.length>0&&Wr(a,c,e.join(" "))}if(g=Dt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Yt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Li(t,r,e,mi(t,e,1,null),n));const i=Ye(e,t,r.directiveStart,r);wr(i,e);const o=Rt(r,e);return o&&wr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Yt();e.contentQueries(1,s,t.directiveStart)}const a=Yt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(me(a.index),ki(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ai(e,s)),s}(t,this.componentDef,d,h,[vo]),yi(f,d,null)}finally{ge()}return new $a(this.componentType,p,Zs(g,d),d,g)}}class $a extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Oa(r),this.componentType=t}get injector(){return new Ze(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ka=new Map;class Ya extends Na{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ba(this);const n=lt(t),r=t[Y]||null;r&&Fs(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=co(t,e,[{provide:Na,useValue:this},{provide:Xs,useValue:this.componentFactoryResolver}],m(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=yo.THROW_IF_NOT_FOUND,n=P.Default){return t===yo||t===Na||t===eo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Xa extends La{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${m(e)} vs ${m(e.name)}`)}(i,Ka.get(i),n),Ka.set(i,n));const o=Er(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Ya(this.moduleType,t)}}function Ja(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return jo(t,s,i)?function(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===oi?void 0:n}(t,s+1)}(Wt(),function(){const t=Gt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}const Za=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function tu(){return this._results[So()]()}class eu{constructor(){this.dirty=!0,this._results=[],this.changes=new Za,this.length=0;const t=So(),e=eu.prototype;e[t]||(e[t]=tu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=cn(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class nu{constructor(t){this.queryList=t,this.matches=null}clone(){return new nu(this.queryList)}setDirty(){this.queryList.setDirty()}}class ru{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ru(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==vu(t,e).matches&&this.queries[e].setDirty()}}class iu{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class ou{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new ou(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class su{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new su(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,au(e,i)),this.matchTNodeWithReadOption(t,e,Ke(e,t,i,!1,!1))}else n===ka?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ke(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ea||r===Da||r===ka&&4&e.type)this.addMatch(e.index,-2);else{const n=Ke(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function au(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function uu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Zs(t,e):4&t.type?Ma(t,e):null}(e,t):-2===n?function(t,e,n){return n===ea?Zs(e,t):n===ka?Ma(e,t):n===Da?Ha(e,t):void 0}(t,e,r):Ye(t,t[1],n,e)}function cu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:uu(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function lu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=cu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&lu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];lu(n[1],n,i,r)}}}}}return r}function hu(t){const e=Wt(),n=$t(),r=se();ae(r+1);const i=vu(n,r);if(t.dirty&&Ft(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?lu(n,e,r,[]):cu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function fu(t,e,n){pu($t(),Wt(),t,e,n,!0)}function du(t,e,n){pu($t(),Wt(),t,e,n,!1)}function pu(t,e,n,r,i,o){t.firstCreatePass&&(yu(t,new iu(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),mu(t,e)}function gu(t,e,n,r){!function(t,e,n,r,i,o,s,a){t.firstCreatePass&&(yu(t,new iu(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),mu(t,e)}($t(),Wt(),e,n,r,0,Yt(),t)}function bu(){return t=Wt(),e=se(),t[19].queries[e].queryList;var t,e}function mu(t,e){const n=new eu;Si(t,e,n,n.destroy),null===e[19]&&(e[19]=new ru),e[19].queries.push(new nu(n))}function yu(t,e,n){null===t.queries&&(t.queries=new ou),t.queries.track(new su(e,n))}function vu(t,e){return t.queries.getByIndex(e)}function _u(t=P.Default){const e=xa(!0);if(null!=e||t&P.Optional)return e;Et("ChangeDetectorRef")}const wu=new sn("Application Initializer");let Ou=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Js,this.reject=Js,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();qo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(jn(wu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Eu=new sn("AppId"),Cu={provide:Eu,useFactory:function(){return`${xu()}${xu()}${xu()}`},deps:[]};function xu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Su=new sn("Platform Initializer"),Tu=new sn("Platform ID"),Iu=new sn("appBootstrapListener");let ju=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const ku=new sn("LocaleId"),Au=new sn("DefaultCurrencyCode");class Pu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Mu=function(t){return new Xa(t)},Nu=Mu,Lu=function(t){return Promise.resolve(Mu(t))},Ru=function(t){const e=Mu(t),n=Er(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new Wa(n)),t},[]);return new Pu(e,n)},Du=Ru,Vu=function(t){return Promise.resolve(Ru(t))};let Uu=(()=>{class t{constructor(){this.compileModuleSync=Nu,this.compileModuleAsync=Lu,this.compileModuleAndAllComponentsSync=Du,this.compileModuleAndAllComponentsAsync=Vu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Fu=(()=>Promise.resolve(0))();function qu(t){"undefined"==typeof Zone?Fu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Hu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Za(!1),this.onMicrotaskEmpty=new Za(!1),this.onStable=new Za(!1),this.onError=new Za(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Gu(t),Bu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Gu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Qu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Wu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Qu(t),e.invoke(r,i,o,s,a)}finally{Wu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Gu(t),Bu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Hu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,zu,Js,Js);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const zu={};function Bu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Gu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Qu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Wu(t){t._nesting--,Bu(t)}class $u{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Za,this.onMicrotaskEmpty=new Za,this.onStable=new Za,this.onError=new Za}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ku=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hu.assertNotInAngularZone(),qu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(jn(Hu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),Yu=(()=>{class t{constructor(){this._applications=new Map,tc.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return tc.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class Xu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ju(t){tc=t}let Zu,tc=new Xu,ec=!0,nc=!1;function rc(){return nc=!0,ec}function ic(){if(nc)throw new Error("Cannot enable prod mode after platform setup.");ec=!1}const oc=new sn("AllowMultipleToken");class sc{constructor(t,e){this.name=t,this.token=e}}function ac(t,e,n=[]){const r="Platform: "+e,i=new sn(r);return(e=[])=>{let o=uc();if(!o||o.injector.get(oc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ro,useValue:"platform"});!function(t){if(Zu&&!Zu.destroyed&&!Zu.injector.get(oc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Zu=t.get(cc);const e=t.get(Su,null);e&&e.forEach(t=>t())}(yo.create({providers:t,name:r}))}return function(t){const e=uc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function uc(){return Zu&&!Zu.destroyed?Zu:null}let cc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new $u:("zone.js"===t?void 0:t)||new Hu({enableLongStackTrace:rc(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Hu,useValue:n}];return n.run(()=>{const e=yo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(_r,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{fc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return qo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Ou);return t.runInitializers(),t.donePromise.then(()=>(Fs(i.injector.get(ku,Vs)||Vs),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=lc({},e);return function(t,e,n){const r=new Xa(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(hc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${m(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(jn(yo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function lc(t,e){return Array.isArray(e)?e.reduce(lc,t):Object.assign(Object.assign({},t),e)}let hc=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Hu.assertNotInAngularZone(),qu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Hu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ks?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Na),i=n.create(yo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Ku,null),a=s&&i.injector.get(Yu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),fc(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),rc()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;fc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Iu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(jn(Hu),jn(ju),jn(yo),jn(_r),jn(Xs),jn(Ou))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function fc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dc{}class pc{}const gc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let bc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||gc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>mc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>mc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(jn(Uu),jn(pc,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function mc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const yc=function(t){return null},vc=ac(null,"core",[{provide:Tu,useValue:"unknown"},{provide:cc,deps:[yo]},{provide:Yu,deps:[]},{provide:ju,deps:[]}]),_c=[{provide:hc,useClass:hc,deps:[Hu,ju,yo,_r,Xs,Ou]},{provide:Qa,deps:[Hu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ou,useClass:Ou,deps:[[new mn,wu]]},{provide:Uu,useClass:Uu,deps:[]},Cu,{provide:ya,useFactory:function(){return Ta},deps:[]},{provide:va,useFactory:function(){return Ia},deps:[]},{provide:ku,useFactory:function(t){return Fs(t=t||"undefined"!=typeof $localize&&$localize.locale||Vs),t},deps:[[new bn(ku),new mn,new vn]]},{provide:Au,useValue:"USD"}];let wc=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=C({factory:function(e){return new(e||t)(jn(hc))},providers:_c}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return m}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return w}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return u}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return g});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return a().indexOf("MSAppHost/")>=0}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,m.prototype.create),o}return Object(r.c)(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?y(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new b(i,a,r);return u},t}();function y(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return y}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return m}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return b}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const g=["ngOnDestroy"],b=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),m=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new u.q("angularfire2.app.options"),v=new u.q("angularfire2.app.nameOrConfig"),_=new u.O("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(u.U)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const x={provide:class{},useFactory:w,deps:[y,u.z,[new u.A,v]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)(u.Qb(u.B))},providers:[x]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function b(t,e=0){return function(n){return n.lift(new m(t,e))}}class m{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var b=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.d)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.g)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=b.initializeApp;b.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=b;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new m(t)},"PRIVATE")),t.registerVersion(h,"0.6.15",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyA9quTPDU5KdS3mo9Rdjq4-UOYlzX3s-EE",authDomain:"auth.rently.studio",databaseURL:"https://rently-3f001.firebaseio.com",projectId:"rently-3f001",storageBucket:"rently-3f001.appspot.com",messagingSenderId:"694109710850"};let o=null;function s(){return o}const a=new r.q("DocumentToken");let u=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Qb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends u{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a))},t.\u0275prov=Object(r.Fb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Qb)(a))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function b(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Fb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Qb)(a).location;return new _(Object(r.Qb)(u),e&&e.origin||"")}const v=new r.q("appBaseHref");let _=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+b(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+b(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(u),r.Qb(v,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+b(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(u),r.Qb(v,8))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(C(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+b(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,C(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+b(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(m),r.Qb(u))},t.normalizeQueryParams=b,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Fb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Qb)(m),Object(r.Qb)(u))}function C(t){return t.replace(/\/index.html$/,"")}var x=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.lb;class T{}let I=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case x.Zero:return"zero";case x.One:return"one";case x.Two:return"two";case x.Few:return"few";case x.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.u))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class j{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new j(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new A(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new A(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.P),r.Jb(r.K),r.Jb(r.s))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class A{constructor(t,e){this.record=t,this.view=e}}let P=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:I}]}),t})();function M(t){return"server"===t}let N=(()=>{class t{}return t.\u0275prov=Object(r.Fb)({token:t,providedIn:"root",factory:()=>new L(Object(r.Qb)(a),window)}),t})();class L{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=R(this.window.history)||R(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function R(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class D extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new D,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=U||(U=document.querySelector("base"),U)?U.getAttribute("href"):null;return null==e?null:(n=e,V||(V=document.createElement("a")),V.setAttribute("href",n),"/"===V.pathname.charAt(0)?V.pathname:"/"+V.pathname);var n}resetBaseElement(){U=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let V,U=null;const F=new r.q("TRANSITION_ID"),q=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[F,a,r.r],multi:!0}];class H{static init(){Object(r.W)(new H)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const z=new r.q("EventManagerPlugins");let B=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(z),r.Qb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class G{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Q=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),W=(()=>{class t extends Q{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const $={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},K=/%COMP%/g;function Y(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Y(t,i,n):(i=i.replace(K,t),n.push(i))}return n}function X(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let J=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Z(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new tt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new et(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Y(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(B),r.Qb(W),r.Qb(r.c))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();class Z{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS($[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=$[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=$[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,X(n)):this.eventManager.addEventListener(t,e,X(n))}}class tt extends Z{constructor(t,e,n,r){super(t),this.component=n;const i=Y(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(K,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(K,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class et extends Z{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Y(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let nt=(()=>{class t extends G{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const rt=["alt","control","meta","shift"],it={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ot={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},st={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let at=(()=>{class t extends G{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(rt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ot.hasOwnProperty(e)&&(e=ot[e]))}return it[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),rt.forEach(r=>{r!=n&&(0,st[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(a))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const ut=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){D.makeCurrent(),H.init()},multi:!0},{provide:a,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],ct=Object(r.R)(r.V,"browser",ut),lt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:z,useClass:nt,multi:!0,deps:[a,r.z,r.B]},{provide:z,useClass:at,multi:!0,deps:[a]},[],{provide:J,useClass:J,deps:[B,W,r.c]},{provide:r.E,useExisting:J},{provide:Q,useExisting:W},{provide:W,useClass:W,deps:[a]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:B,useClass:B,deps:[z,r.z]},[]];let ht=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:F,useExisting:r.c},q]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Qb(t,12))},providers:lt,imports:[P,r.f]}),t})();"undefined"!=typeof window&&window;var ft=n("Cfvw"),dt=n("LRne"),pt=n("XNiG"),gt=n("9ppp");class bt extends pt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new gt.a;return this._value}next(t){super.next(this._value=t)}}var mt=n("z+Ro"),yt=n("DH7j"),vt=n("7o/Q");class _t extends vt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class wt extends vt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ot=n("SeVD"),Et=n("HDdC");function Ct(t,e,n,r,i=new wt(t,n,r)){if(!i.closed)return e instanceof Et.a?e.subscribe(i):Object(Ot.a)(e)(i)}var xt=n("yCtX");const St={};class Tt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new It(t,this.resultSelector))}}class It extends _t{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(St),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Ct(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===St?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const jt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var kt=n("bHdf");function At(...t){return Object(kt.a)(1)(Object(dt.a)(...t))}var Pt=n("EY2u");function Mt(t){return new Et.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(ft.a)(n):Object(Pt.b)()).subscribe(e)})}var Nt=n("lJxs"),Lt=n("zx2A");function Rt(t,e){return"function"==typeof e?n=>n.pipe(Rt((n,r)=>Object(ft.a)(t(n,r)).pipe(Object(Nt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Dt(t))}class Dt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Vt(t,this.project))}}class Vt extends Lt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Lt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Lt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Ut=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Ft(t){return e=>0===t?Object(Pt.b)():e.lift(new qt(t))}class qt{constructor(t){if(this.total=t,this.total<0)throw new Ut}call(t,e){return e.subscribe(new Ht(t,this.total))}}class Ht extends vt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function zt(...t){const e=t[t.length-1];return Object(mt.a)(e)?(t.pop(),n=>At(t,n,e)):e=>At(t,e)}function Bt(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Gt(t,e,n))}}class Gt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Qt(t,this.accumulator,this.seed,this.hasSeed))}}class Qt extends vt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Wt(t,e){return function(n){return n.lift(new $t(t,e))}}class $t{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Kt(t,this.predicate,this.thisArg))}}class Kt extends vt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Yt(t){return function(e){const n=new Xt(t),r=e.lift(n);return n.caught=r}}class Xt{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Jt(t,this.selector,this.caught))}}class Jt extends Lt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Lt.a(this);this.add(r);const i=Object(Lt.c)(n,r);i!==r&&this.add(i)}}}var Zt=n("5+tZ");function te(t,e){return Object(Zt.a)(t,e,1)}function ee(t){return function(e){return 0===t?Object(Pt.b)():e.lift(new ne(t))}}class ne{constructor(t){if(this.total=t,this.total<0)throw new Ut}call(t,e){return e.subscribe(new re(t,this.total))}}class re extends vt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ie(t=ae){return e=>e.lift(new oe(t))}class oe{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new se(t,this.errorFactory))}}class se extends vt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(qy){t=qy}this.destination.error(t)}}}function ae(){return new jt}function ue(t=null){return e=>e.lift(new ce(t))}class ce{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new le(t,this.defaultValue))}}class le extends vt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var he=n("SpAZ");function fe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Wt((e,n)=>t(e,n,r)):he.a,Ft(1),n?ue(e):ie(()=>new jt))}var de=n("vkgz"),pe=n("quSY");class ge{constructor(t){this.callback=t}call(t,e){return e.subscribe(new be(t,this.callback))}}class be extends vt.a{constructor(t,e){super(t),this.add(new pe.a(e))}}class me{constructor(t,e){this.id=t,this.url=e}}class ye extends me{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ve extends me{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _e extends me{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class we extends me{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Oe extends me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ee extends me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ce extends me{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xe extends me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Se extends me{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Te{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ie{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class je{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ke{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ae{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Me{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ne="primary";class Le{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Re(t){return new Le(t)}function De(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ve(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ue(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Fe(t[i],e[i]))return!1;return!0}function Fe(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function qe(t){return Array.prototype.concat.apply([],t)}function He(t){return t.length>0?t[t.length-1]:null}function ze(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Be(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(ft.a)(Promise.resolve(t)):Object(dt.a)(t)}function Ge(t,e,n){return n?function(t,e){return Ue(t,e)}(t.queryParams,e.queryParams)&&Qe(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Fe(t[n],e[n]))}(t.queryParams,e.queryParams)&&We(t.root,e.root)}function Qe(t,e){if(!Je(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Qe(t.children[n],e.children[n]))return!1}return!0}function We(t,e){return $e(t,e,e.segments)}function $e(t,e,n){if(t.segments.length>n.length)return!!Je(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Je(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!We(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Je(t.segments,r)&&!!t.children.primary&&$e(t.children.primary,e,i)}}class Ke{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Re(this.queryParams)),this._queryParamMap}toString(){return en.serialize(this)}}class Ye{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ze(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nn(this)}}class Xe{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Re(this.parameters)),this._parameterMap}toString(){return ln(this)}}function Je(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Ze{}class tn{parse(t){const e=new gn(t);return new Ke(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+rn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${sn(e)}=${sn(t)}`).join("&"):`${sn(e)}=${sn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const en=new tn;function nn(t){return t.segments.map(t=>ln(t)).join("/")}function rn(t,e){if(!t.hasChildren())return nn(t);if(e){const e=t.children.primary?rn(t.children.primary,!1):"",n=[];return ze(t.children,(t,e)=>{e!==Ne&&n.push(`${e}:${rn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return ze(t.children,(t,r)=>{r===Ne&&(n=n.concat(e(t,r)))}),ze(t.children,(t,r)=>{r!==Ne&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Ne?[rn(t.children.primary,!1)]:[`${n}:${rn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${nn(t)}/${e[0]}`:`${nn(t)}/(${e.join("//")})`}}function on(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sn(t){return on(t).replace(/%3B/gi,";")}function an(t){return on(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function un(t){return decodeURIComponent(t)}function cn(t){return un(t.replace(/\+/g,"%20"))}function ln(t){return`${an(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${an(t)}=${an(e[t])}`).join("")}`;var e}const hn=/^[^\/()?;=#]+/;function fn(t){const e=t.match(hn);return e?e[0]:""}const dn=/^[^=?&#]+/,pn=/^[^?&#]+/;class gn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Ye(t,e)),n}parseSegment(){const t=fn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Xe(un(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=fn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=fn(this.remaining);t&&(n=t,this.capture(n))}t[un(e)]=un(n)}parseQueryParam(t){const e=function(t){const e=t.match(dn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(pn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=cn(e),i=cn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=fn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ne);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Ye([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class bn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=mn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=mn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=yn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return yn(t,this._root).map(t=>t.value)}}function mn(t,e){if(t===e.value)return e;for(const n of e.children){const e=mn(t,n);if(e)return e}return null}function yn(t,e){if(t===e.value)return[e];for(const n of e.children){const r=yn(t,n);if(r.length)return r.unshift(e),r}return[]}class vn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function _n(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class wn extends bn{constructor(t,e){super(t),this.snapshot=e,Tn(this,t)}toString(){return this.snapshot.toString()}}function On(t,e){const n=function(t,e){const n=new xn([],{},{},"",{},Ne,e,null,t.root,-1,{});return new Sn("",new vn(n,[]))}(t,e),r=new bt([new Xe("",{})]),i=new bt({}),o=new bt({}),s=new bt({}),a=new bt(""),u=new En(r,i,s,a,o,Ne,e,n.root);return u.snapshot=n.root,new wn(new vn(u,[]),n)}class En{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Nt.a)(t=>Re(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Nt.a)(t=>Re(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class xn{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Re(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Re(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sn extends bn{constructor(t,e){super(e),this.url=t,Tn(this,e)}toString(){return In(this._root)}}function Tn(t,e){e.value._routerState=t,e.children.forEach(e=>Tn(t,e))}function In(t){const e=t.children.length>0?` { ${t.children.map(In).join(", ")} } `:"";return`${t.value}${e}`}function jn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ue(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ue(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ue(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ue(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function kn(t,e){return Ue(t.params,e.params)&&function(t,e){return Je(t,e)&&t.every((t,n)=>Ue(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||kn(t.parent,e.parent))}function An(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return An(t,e,r);return An(t,e)})}(t,e,n);return new vn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Pn(e,t),t}{const n=new En(new bt((r=e.value).url),new bt(r.params),new bt(r.queryParams),new bt(r.fragment),new bt(r.data),r.outlet,r.component,r),i=e.children.map(e=>An(t,e));return new vn(n,i)}}var r}function Pn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Pn(t.children[n],e.children[n])}function Mn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Nn(t){return"object"==typeof t&&null!=t&&t.outlets}function Ln(t,e,n,r,i){let o={};return r&&ze(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Ke(n.root===t?e:Rn(n.root,t,e),o,i)}function Rn(t,e,n){const r={};return ze(t.children,(t,i)=>{r[i]=t===e?n:Rn(t,e,n)}),new Ye(t.segments,r)}class Dn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Mn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Nn);if(r&&r!==He(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Un(t,e,n){if(t||(t=new Ye([],{})),0===t.segments.length&&t.hasChildren())return Fn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Nn(s))break;const a=""+s,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Bn(a,u,e))return o;r+=2}else{if(!Bn(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ye(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Ye(t.segments.slice(r.pathIndex),t.children),Fn(e,0,i)}return r.match&&0===i.length?new Ye(t.segments,{}):r.match&&!t.hasChildren()?qn(t,e,n):r.match?Fn(t,0,i):qn(t,e,n)}function Fn(t,e,n){if(0===n.length)return new Ye(t.segments,{});{const r=function(t){return Nn(t[0])?t[0].outlets:{[Ne]:t}}(n),i={};return ze(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Un(t.children[r],e,n))}),ze(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ye(t.segments,i)}}function qn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Nn(o)){const t=Hn(o.outlets);return new Ye(r,t)}if(0===i&&Mn(n[0])){r.push(new Xe(t.segments[e].path,n[0])),i++;continue}const s=Nn(o)?o.outlets.primary:""+o,a=i<n.length-1?n[i+1]:null;s&&a&&Mn(a)?(r.push(new Xe(s,zn(a))),i+=2):(r.push(new Xe(s,{})),i++)}return new Ye(r,{})}function Hn(t){const e={};return ze(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=qn(new Ye([],{}),0,t))}),e}function zn(t){const e={};return ze(t,(t,n)=>e[n]=""+t),e}function Bn(t,e,n){return t==n.path&&Ue(e,n.parameters)}class Gn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),jn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=_n(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),ze(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=_n(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=_n(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Pe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ke(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(jn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Qn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Qn(t){jn(t.value),t.children.forEach(Qn)}class Wn{constructor(t,e){this.routes=t,this.module=e}}function $n(t){return"function"==typeof t}function Kn(t){return t instanceof Ke}const Yn=Symbol("INITIAL_VALUE");function Xn(){return Rt(t=>function(...t){let e=void 0,n=void 0;return Object(mt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(yt.a)(t[0])&&(t=t[0]),Object(xt.a)(t,n).lift(new Tt(e))}(t.map(t=>t.pipe(Ft(1),zt(Yn)))).pipe(Bt((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Yn)return t;if(r===Yn&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Kn(r))return r}return t},t)},Yn),Wt(t=>t!==Yn),Object(Nt.a)(t=>Kn(t)?t:!0===t),Ft(1)))}let Jn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Kb(0,"router-outlet")},directives:function(){return[Gr]},encapsulation:2}),t})();function Zn(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];tr(r,er(e,r))}}function tr(t,e){t.children&&Zn(t.children,e)}function er(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function nr(t){const e=t.children&&t.children.map(nr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ne&&(n.component=Jn),n}function rr(t){return t.outlet||Ne}function ir(t,e){const n=t.filter(t=>rr(t)===e);return n.push(...t.filter(t=>rr(t)!==e)),n}const or={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function sr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},or):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ve)(n,t,e);if(!i)return Object.assign({},or);const o={};ze(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ar(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>ur(t,e,n)&&rr(n)!==Ne)}(t,n,r)){const i=new Ye(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&rr(o)!==Ne){const n=new Ye([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[rr(o)]=n}return i}(t,e,r,new Ye(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ur(t,e,n))}(t,n,r)){const o=new Ye(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(ur(t,n,a)&&!i[rr(a)]){const n=new Ye([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[rr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ye(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function ur(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function cr(t,e,n,r){return!!(rr(t)===r||r!==Ne&&ur(e,n,t))&&("**"===t.path||sr(e,t,n).matched)}function lr(t,e,n){return 0===e.length&&!t.children[n]}class hr{constructor(t){this.segmentGroup=t||null}}class fr{constructor(t){this.urlTree=t}}function dr(t){return new Et.a(e=>e.error(new hr(t)))}function pr(t){return new Et.a(e=>e.error(new fr(t)))}function gr(t){return new Et.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class br{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=ar(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ye(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ne).pipe(Object(Nt.a)(t=>this.createUrlTree(mr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yt(t=>{if(t instanceof fr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof hr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ne).pipe(Object(Nt.a)(e=>this.createUrlTree(mr(e),t.queryParams,t.fragment))).pipe(Yt(t=>{if(t instanceof hr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ye([],{[Ne]:t}):t;return new Ke(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Nt.a)(t=>new Ye([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(ft.a)(r).pipe(te(r=>{const i=n.children[r],o=ir(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Nt.a)(t=>({segment:t,outlet:r})))}),Bt((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Wt((e,n)=>t(e,n,r)):he.a,ee(1),n?ue(e):ie(()=>new jt))}())}expandSegment(t,e,n,r,i,o){return Object(ft.a)(n).pipe(te(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Yt(t=>{if(t instanceof hr)return Object(dt.a)(null);throw t}))),fe(t=>!!t),Yt((t,n)=>{if(t instanceof jt||"EmptyError"===t.name){if(lr(e,r,i))return Object(dt.a)(new Ye([],{}));throw new hr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return cr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):dr(e):dr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?pr(i):this.lineralizeSegments(n,i).pipe(Object(Zt.a)(n=>{const i=new Ye(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=sr(e,r,i);if(!s)return dr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?pr(l):this.lineralizeSegments(r,l).pipe(Object(Zt.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Nt.a)(t=>(n._loadedConfig=t,new Ye(r,{})))):Object(dt.a)(new Ye(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=sr(e,n,r);if(!o)return dr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Zt.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=ar(e,s,u,o),l=new Ye(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Nt.a)(t=>new Ye(s,t)));if(0===o.length&&0===c.length)return Object(dt.a)(new Ye(s,{}));const h=rr(n)===i;return this.expandSegment(r,l,o,c,h?Ne:i,!0).pipe(Object(Nt.a)(t=>new Ye(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(dt.a)(new Wn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(dt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Zt.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Nt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Et.a(e=>e.error(De(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(dt.a)(new Wn([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(dt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&$n(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!$n(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Be(o)});return Object(dt.a)(i).pipe(Xn(),Object(de.a)(t=>{if(!Kn(t))return;const e=De(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Nt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(dt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return gr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ke(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return ze(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return ze(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ye(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function mr(t){const e={};for(const n of Object.keys(t.children)){const r=mr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Ye(t.segments.concat(e.segments),e.children)}return t}(new Ye(t.segments,e))}class yr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class vr{constructor(t,e){this.component=t,this.route=e}}function _r(t,e,n){const r=t._root;return Or(r,e?e._root:null,n,[r.value])}function wr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Or(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=_n(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Je(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Je(t.url,e.url)||!Ue(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kn(t,e)||!Ue(t.queryParams,e.queryParams);case"paramsChange":default:return!kn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yr(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Or(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new vr(a.outlet.component,s))}else s&&Er(e,a,i),i.canActivateChecks.push(new yr(r)),Or(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),ze(o,(t,e)=>Er(t,n.getContext(e),i)),i}function Er(t,e,n){const r=_n(t),i=t.value;ze(r,(t,r)=>{Er(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new vr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Cr{}function xr(t){return new Et.a(e=>e.error(t))}class Sr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=ar(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ne);if(null===e)return null;const n=new xn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ne,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new vn(n,e),i=new Sn(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Cn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=ir(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!Tr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Ne?-1:e.value.outlet===Ne?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return lr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!cr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?He(n).parameters:{};i=new xn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kr(t),rr(t),t.component,t,Ir(e),jr(e)+n.length,Ar(t))}else{const r=sr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new xn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,kr(t),rr(t),t.component,t,Ir(e),jr(e)+o.length,Ar(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=ar(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new vn(i,t)]}if(0===a.length&&0===c.length)return[new vn(i,[])];const l=rr(t)===r,h=this.processSegment(a,u,c,l?Ne:r);return null===h?null:[new vn(i,h)]}}function Tr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ir(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function jr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function kr(t){return t.data||{}}function Ar(t){return t.resolve||{}}function Pr(t){return Rt(e=>{const n=t(e);return n?Object(ft.a)(n).pipe(Object(Nt.a)(()=>e)):Object(dt.a)(e)})}class Mr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Nr=new r.q("ROUTES");class Lr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Nt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Wn(qe(r.injector.get(Nr)).map(nr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(ft.a)(this.loader.load(t)):Be(t()).pipe(Object(Zt.a)(t=>t instanceof r.v?Object(dt.a)(t):Object(ft.a)(this.compiler.compileModuleAsync(t))))}}class Rr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Dr,this.attachRef=null}}class Dr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Rr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Vr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ur(t){throw t}function Fr(t,e,n){return e.parse("/")}function qr(t,e){return Object(dt.a)(null)}let Hr=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new pt.a,this.errorHandler=Ur,this.malformedUriErrorHandler=Fr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:qr,afterPreactivation:qr},this.urlHandlingStrategy=new Vr,this.routeReuseStrategy=new Mr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Ke(new Ye([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Lr(s,a,t=>this.triggerEvent(new Te(t)),t=>this.triggerEvent(new Ie(t))),this.routerState=On(this.currentUrlTree,this.rootComponentType),this.transitions=new bt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Wt(t=>0!==t.id),Object(Nt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Rt(t=>{let n=!1,r=!1;return Object(dt.a)(t).pipe(Object(de.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Rt(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(dt.a)(t).pipe(Rt(t=>{const n=this.transitions.getValue();return e.next(new ye(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Pt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Rt(t=>function(t,e,n,r,i){return new br(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Nt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(de.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Zt.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Sr(t,e,n,r,i,o).recognize();return null===s?xr(new Cr):Object(dt.a)(s)}catch(qy){return xr(qy)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Nt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(de.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Oe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new ye(n,this.serializeUrl(r),i,o);e.next(a);const u=On(r,this.rootComponentType).snapshot;return Object(dt.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Pt.a}),Pr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(de.a)(t=>{const e=new Ee(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Nt.a)(t=>Object.assign(Object.assign({},t),{guards:_r(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Zt.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(dt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(ft.a)(t).pipe(Object(Zt.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(dt.a)(!0);const s=o.map(o=>{const s=wr(o,e,i);let a;if(function(t){return t&&$n(t.canDeactivate)}(s))a=Be(s.canDeactivate(t,e,n,r));else{if(!$n(s))throw new Error("Invalid CanDeactivate guard");a=Be(s(t,e,n,r))}return a.pipe(fe())});return Object(dt.a)(s).pipe(Xn())}(t.component,t.route,n,e,r)),fe(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Zt.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(ft.a)(e).pipe(te(e=>At(function(t,e){return null!==t&&e&&e(new je(t)),Object(dt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Ae(t)),Object(dt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Mt(()=>{const i=e.guards.map(i=>{const o=wr(i,e.node,n);let s;if(function(t){return t&&$n(t.canActivateChild)}(o))s=Be(o.canActivateChild(r,t));else{if(!$n(o))throw new Error("Invalid CanActivateChild guard");s=Be(o(r,t))}return s.pipe(fe())});return Object(dt.a)(i).pipe(Xn())}));return Object(dt.a)(i).pipe(Xn())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(dt.a)(!0);const i=r.map(r=>Mt(()=>{const i=wr(r,e,n);let o;if(function(t){return t&&$n(t.canActivate)}(i))o=Be(i.canActivate(e,t));else{if(!$n(i))throw new Error("Invalid CanActivate guard");o=Be(i(e,t))}return o.pipe(fe())}));return Object(dt.a)(i).pipe(Xn())}(t,e.route,n))),fe(t=>!0!==t,!0))}(r,o,t,e):Object(dt.a)(n)),Object(Nt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(de.a)(t=>{if(Kn(t.guardsResult)){const e=De(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Ce(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Wt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new _e(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Pr(t=>{if(t.guards.canActivateChecks.length)return Object(dt.a)(t).pipe(Object(de.a)(t=>{const e=new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Rt(t=>{let n=!1;return Object(dt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Zt.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(dt.a)(t);let o=0;return Object(ft.a)(n).pipe(te(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(dt.a)({});const o={};return Object(ft.a)(i).pipe(Object(Zt.a)(i=>function(t,e,n,r){const i=wr(t,e,r);return Be(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(de.a)(t=>{o[i]=t}))),ee(1),Object(Zt.a)(()=>Object.keys(o).length===i.length?Object(dt.a)(o):Pt.a))}(t._resolve,t,e,r).pipe(Object(Nt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Cn(t,n).resolve),null)))}(t.route,e,r,i)),Object(de.a)(()=>o++),ee(1),Object(Zt.a)(e=>o===n.length?Object(dt.a)(t):Pt.a))})),Object(de.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new _e(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(de.a)(t=>{const e=new Se(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Pr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Nt.a)(t=>{const e=function(t,e,n){const r=An(t,e._root,n?n._root:void 0);return new wn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(de.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Nt.a)(t=>(new Gn(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),Object(de.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new _e(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new ge(i))),Yt(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Kn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new _e(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new we(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(cl){t.reject(cl)}}var i;return Pt.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Zn(t),this.config=t.map(nr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Ln(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Dn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return ze(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Dn(n,e,r)}(n);if(o.toRoot())return Ln(e.root,new Ye([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Vn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Vn(t,t===e.root,0)}const r=Mn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Vn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Fn(s.segmentGroup,s.index,o.commands):Un(s.segmentGroup,s.index,o.commands);return Ln(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Kn(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(qy){e=this.malformedUriErrorHandler(qy,this.urlSerializer,t)}return e}isActive(t,e){if(Kn(t))return Ge(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ge(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.M),r.Qb(Ze),r.Qb(Dr),r.Qb(O),r.Qb(r.r),r.Qb(r.w),r.Qb(r.i),r.Qb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),zr=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new pt.a,this.subscription=t.events.subscribe(t=>{t instanceof ve&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Br(this.skipLocationChange),replaceUrl:Br(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Br(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Hr),r.Jb(En),r.Jb(m))},t.\u0275dir=r.Eb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Tb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Pb("href",e.href,r.dc),r.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function Br(t){return""===t||!!t}let Gr=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Ne,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Qr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Dr),r.Jb(r.P),r.Jb(r.j),r.Rb("name"),r.Jb(r.h))},t.\u0275dir=r.Eb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Qr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===En?this.route:t===Dr?this.childContexts:this.parent.get(t,e)}}class Wr{}class $r{preload(t,e){return Object(dt.a)(null)}}let Kr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Lr(e,n,e=>t.triggerEvent(new Te(e)),e=>t.triggerEvent(new Ie(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Wt(t=>t instanceof ve),te(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(ft.a)(n).pipe(Object(kt.a)(),Object(Nt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Zt.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Hr),r.Qb(r.w),r.Qb(r.i),r.Qb(r.r),r.Qb(Wr))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Yr=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ye?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ve&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Me&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Me(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Hr),r.Qb(N),r.Qb(void 0))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();const Xr=new r.q("ROUTER_CONFIGURATION"),Jr=new r.q("ROUTER_FORROOT_GUARD"),Zr=[O,{provide:Ze,useClass:tn},{provide:Hr,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Hr(null,t,e,n,r,i,o,qe(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Ze,Dr,O,r.r,r.w,r.i,Nr,Xr,[class{},new r.A],[class{},new r.A]]},Dr,{provide:En,useFactory:function(t){return t.routerState.root},deps:[Hr]},{provide:r.w,useClass:r.J},Kr,$r,class{preload(t,e){return e().pipe(Yt(()=>Object(dt.a)(null)))}},{provide:Xr,useValue:{enableTracing:!1}}];function ti(){return new r.y("Router",Hr)}let ei=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Zr,oi(e),{provide:Jr,useFactory:ii,deps:[[Hr,new r.A,new r.I]]},{provide:Xr,useValue:n||{}},{provide:m,useFactory:ri,deps:[u,[new r.p(v),new r.A],Xr]},{provide:Yr,useFactory:ni,deps:[Hr,N,Xr]},{provide:Wr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:$r},{provide:r.y,multi:!0,useFactory:ti},[si,{provide:r.d,multi:!0,useFactory:ai,deps:[si]},{provide:ci,useFactory:ui,deps:[si]},{provide:r.b,multi:!0,useExisting:ci}]]}}static forChild(e){return{ngModule:t,providers:[oi(e)]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)(r.Qb(Jr,8),r.Qb(Hr,8))}}),t})();function ni(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Yr(t,e,n)}function ri(t,e,n={}){return n.useHash?new w(t,e):new _(t,e)}function ii(t){return"guarded"}function oi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Nr,multi:!0,useValue:t}]}let si=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new pt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Hr),r=this.injector.get(Xr);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(dt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Xr),n=this.injector.get(Kr),i=this.injector.get(Yr),o=this.injector.get(Hr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.r))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})();function ai(t){return t.appInitializer.bind(t)}function ui(t){return t.bootstrapListener.bind(t)}const ci=new r.q("Router Initializer");let li=(()=>{class t{}return t.isLoged=!1,t.houses=new Array,t})();function hi(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(qy){o(qy)}}function a(t){try{u(r.throw(t))}catch(qy){o(qy)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}class fi{}class di{constructor(){this.category=0,this.photos=new Array,this.description=""}}var pi=n("D0XW");function gi(){return t=>t.lift(new bi)}class bi{call(t,e){return e.subscribe(new mi(t))}}class mi extends vt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class yi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new vi(t,this.compare,this.keySelector))}}class vi extends vt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var _i=n("pxpQ"),wi=n("spgP"),Oi=n("Jgta"),Ei=n("zIRd"),Ci=n("q/0M"),xi=n("qOnz"),Si=function(t,e){return(Si=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Ti(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ii,ji="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ki=ki||{},Ai=ji||self;function Pi(){}function Mi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ni(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Li="closure_uid_"+(1e9*Math.random()>>>0),Ri=0;function Di(t,e,n){return t.call.apply(t.bind,arguments)}function Vi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Ui(t,e,n){return(Ui=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Di:Vi).apply(null,arguments)}function Fi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function qi(){return Date.now()}function Hi(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function zi(){this.j=this.j,this.i=this.i}zi.prototype.j=!1,zi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Li)&&t[Li]||(t[Li]=++Ri)}(this)},zi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Bi=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Gi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Qi(t){return Array.prototype.concat.apply([],arguments)}function Wi(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function $i(t){return/^[\s\xa0]*$/.test(t)}var Ki,Yi=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Xi(t,e){return-1!=t.indexOf(e)}function Ji(t,e){return t<e?-1:t>e?1:0}t:{var Zi=Ai.navigator;if(Zi){var to=Zi.userAgent;if(to){Ki=to;break t}}Ki=""}function eo(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function no(t){var e={};for(var n in t)e[n]=t[n];return e}var ro="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function io(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ro.length;o++)n=ro[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function oo(t){return oo[" "](t),t}oo[" "]=Pi;var so,ao,uo=Xi(Ki,"Opera"),co=Xi(Ki,"Trident")||Xi(Ki,"MSIE"),lo=Xi(Ki,"Edge"),ho=lo||co,fo=Xi(Ki,"Gecko")&&!(Xi(Ki.toLowerCase(),"webkit")&&!Xi(Ki,"Edge"))&&!(Xi(Ki,"Trident")||Xi(Ki,"MSIE"))&&!Xi(Ki,"Edge"),po=Xi(Ki.toLowerCase(),"webkit")&&!Xi(Ki,"Edge");function go(){var t=Ai.document;return t?t.documentMode:void 0}t:{var bo="",mo=(ao=Ki,fo?/rv:([^\);]+)(\)|;)/.exec(ao):lo?/Edge\/([\d\.]+)/.exec(ao):co?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ao):po?/WebKit\/(\S+)/.exec(ao):uo?/(?:Version)[ \/]?(\S+)/.exec(ao):void 0);if(mo&&(bo=mo?mo[1]:""),co){var yo=go();if(null!=yo&&yo>parseFloat(bo)){so=String(yo);break t}}so=bo}var vo={};function _o(t){return function(t,e){var n=vo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Yi(String(so)).split("."),r=Yi(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Ji(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Ji(0==s[2].length,0==a[2].length)||Ji(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var wo=Ai.document&&co&&(go()||parseInt(so,10))||void 0,Oo=!co||9<=Number(wo),Eo=co&&!_o("9"),Co=function(){if(!Ai.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ai.addEventListener("test",Pi,e),Ai.removeEventListener("test",Pi,e)}catch(n){}return t}();function xo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function So(t,e){if(xo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(fo){t:{try{oo(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:To[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}xo.prototype.b=function(){this.defaultPrevented=!0},Hi(So,xo);var To={2:"touch",3:"pen",4:"mouse"};So.prototype.b=function(){So.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Eo)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Io="closure_listenable_"+(1e6*Math.random()|0),jo=0;function ko(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++jo,this.Y=this.Z=!1}function Ao(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Po(t){this.src=t,this.a={},this.b=0}function Mo(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Bi(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ao(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function No(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Po.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=No(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ko(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Lo="closure_lm_"+(1e6*Math.random()|0),Ro={};function Do(t,e,n,r,i){if(r&&r.once)return Uo(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Do(t,e[o],n,r,i);return null}return n=Wo(n),t&&t[Io]?t.va(e,n,Ni(r)?!!r.capture:!!r,i):Vo(t,e,n,!1,r,i)}function Vo(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ni(i)?!!i.capture:!!i;if(s&&!Oo)return null;var a=Go(t);if(a||(t[Lo]=a=new Po(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Bo,e=Oo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Co||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ho(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Uo(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Uo(t,e[o],n,r,i);return null}return n=Wo(n),t&&t[Io]?t.wa(e,n,Ni(r)?!!r.capture:!!r,i):Vo(t,e,n,!0,r,i)}function Fo(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Fo(t,e[o],n,r,i);else r=Ni(r)?!!r.capture:!!r,n=Wo(n),t&&t[Io]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=No(o=t.a[e],n,r,i))&&(Ao(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Go(t))&&(e=t.a[e.toString()],t=-1,e&&(t=No(e,n,r,i)),(n=-1<t?e[t]:null)&&qo(n))}function qo(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Io])Mo(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ho(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Go(e))?(Mo(n,t),0==n.b&&(n.src=null,e[Lo]=null)):Ao(t)}}}function Ho(t){return t in Ro?Ro[t]:Ro[t]="on"+t}function zo(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&qo(t),n.call(r,e)}function Bo(t,e){if(t.Y)return!0;if(!Oo){if(!e)t:{e=["window","event"];for(var n=Ai,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return zo(t,e=new So(e,this))}return zo(t,new So(e,this))}function Go(t){return(t=t[Lo])instanceof Po?t:null}var Qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wo(t){return"function"==typeof t?t:(t[Qo]||(t[Qo]=function(e){return t.handleEvent(e)}),t[Qo])}function $o(){zi.call(this),this.c=new Po(this),this.J=this,this.C=null}function Ko(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new xo(e,t);else if(e instanceof xo)e.target=e.target||t;else{var i=e;io(e=new xo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Yo(s,r,!0,e)&&i}if(i=Yo(s=e.a=t,r,!0,e)&&i,i=Yo(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Yo(s=e.a=n[o],r,!1,e)&&i}function Yo(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Mo(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Hi($o,zi),$o.prototype[Io]=!0,(Ii=$o.prototype).addEventListener=function(t,e,n,r){Do(this,t,e,n,r)},Ii.removeEventListener=function(t,e,n,r){Fo(this,t,e,n,r)},Ii.G=function(){if($o.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ao(n[r]);delete e.a[t],e.b--}}this.C=null},Ii.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ii.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Xo=Ai.JSON.stringify;function Jo(){this.b=this.a=null}var Zo,ts=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new ns},function(t){t.reset()});function es(){var t=ss,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ns(){this.next=this.b=this.a=null}function rs(t){Ai.setTimeout(function(){throw t},0)}function is(t,e){Zo||function(){var t=Ai.Promise.resolve(void 0);Zo=function(){t.then(as)}}(),os||(Zo(),os=!0),ss.add(t,e)}Jo.prototype.add=function(t,e){var n=ts.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ns.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ns.prototype.reset=function(){this.next=this.b=this.a=null};var os=!1,ss=new Jo;function as(){for(var t;t=es();){try{t.a.call(t.b)}catch(n){rs(n)}var e=ts;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}os=!1}function us(t,e){$o.call(this),this.b=t||1,this.a=e||Ai,this.f=Ui(this.Za,this),this.g=qi()}function cs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ls(t,e,n){if("function"==typeof t)n&&(t=Ui(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ui(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ai.setTimeout(t,e||0)}function hs(t){t.a=ls(function(){t.a=null,t.c&&(t.c=!1,hs(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Hi(us,$o),(Ii=us.prototype).aa=!1,Ii.M=null,Ii.Za=function(){if(this.aa){var t=qi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ko(this,"tick"),this.aa&&(cs(this),this.start()))}},Ii.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=qi())},Ii.G=function(){us.X.G.call(this),cs(this),delete this.a};var fs=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Si(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:hs(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Ai.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(zi);function ds(t){zi.call(this),this.b=t,this.a={}}Hi(ds,zi);var ps=[];function gs(t,e,n,r){Array.isArray(n)||(n&&(ps[0]=n.toString()),n=ps);for(var i=0;i<n.length;i++){var o=Do(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function bs(t){eo(t.a,function(t,e){this.a.hasOwnProperty(e)&&qo(t)},t),t.a={}}function ms(){this.a=!0}function ys(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Xo(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ds.prototype.G=function(){ds.X.G.call(this),bs(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ms.prototype.info=function(){};var vs={},_s=null;function ws(){return _s=_s||new $o}function Os(t){xo.call(this,vs.Fa,t)}function Es(t){var e=ws();Ko(e,new Os(e,t))}function Cs(t,e){xo.call(this,vs.STAT_EVENT,t),this.stat=e}function xs(t){var e=ws();Ko(e,new Cs(e,t))}function Ss(t){xo.call(this,vs.Ga,t)}function Ts(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ai.setTimeout(function(){t()},e)}vs.Fa="serverreachability",Hi(Os,xo),vs.STAT_EVENT="statevent",Hi(Cs,xo),vs.Ga="timingevent",Hi(Ss,xo);var Is={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},js={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ks(){}function As(){}ks.prototype.a=null;var Ps,Ms={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ns(){xo.call(this,"d")}function Ls(){xo.call(this,"c")}function Rs(){}function Ds(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new ds(this),this.P=Vs,this.R=new us(t=ho?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Hi(Ns,xo),Hi(Ls,xo),Hi(Rs,ks),Ps=new Rs;var Vs=45e3,Us={},Fs={};function qs(t,e,n){t.H=1,t.i=ca(ra(e)),t.j=n,t.I=!0,Hs(t,null)}function Hs(t,e){t.u=qi(),Gs(t),t.l=ra(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Oa(n.b,"t",r),t.D=0,t.a=bu(t.g,t.g.C?e:null),0<t.O&&(t.F=new fs(Ui(t.Ca,t,t.a),t.O)),gs(t.J,t.a,"readystatechange",t.Xa),e=t.B?no(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Es(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function zs(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Bs(t,n);if(i==Fs){4==e&&(t.h=4,xs(14),r=!1),ys(t.c,t.f,null,"[Incomplete Response]");break}if(i==Us){t.h=4,xs(15),ys(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ys(t.c,t.f,i,null),Ys(t,i)}4==e&&0==n.length&&(t.h=1,xs(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),uu(e),e.F=!0,xs(11))):(ys(t.c,t.f,n,"[Invalid Chunked Response]"),Ks(t),$s(t))}function Bs(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Fs:(n=Number(e.substring(n,r)),isNaN(n)?Us:(r+=1)+n>e.length?Fs:(e=e.substr(r,n),t.D=r+n,e))}function Gs(t){t.T=qi()+t.P,Qs(t,t.P)}function Qs(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ts(Ui(t.Va,t),e)}function Ws(t){t.o&&(Ai.clearTimeout(t.o),t.o=null)}function $s(t){0==t.g.v||t.A||hu(t.g,t)}function Ks(t){Ws(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,cs(t.R),bs(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Ys(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ja(n.b,t)))if(n.I=t.N,!t.C&&ja(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(ty){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;lu(n),Za(n)}au(n),xs(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ts(Ui(n.Sa,n),6e3));if(1>=Ia(n.b)&&n.ea){try{n.ea()}catch(ty){}n.ea=void 0}}else du(n,11)}else if((t.C||n.a==t)&&lu(n),!$i(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Xi(l,"spdy")||Xi(l,"quic")||Xi(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(ka(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,ua(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=qi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=gu(u,u.C?u.ga:null,u.fa),d.C){Aa(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(Ws(p),Gs(p)),u.a=d}else su(u);0<n.g.length&&nu(n)}else"stop"!=i[0]&&"close"!=i[0]||du(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?du(n,7):Ja(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Es(4)}catch(ty){}}function Xs(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Mi(t)||"string"==typeof t)Gi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Mi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Mi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Js(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Js)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Zs(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ta(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ta(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ta(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ii=Ds.prototype).setTimeout=function(t){this.P=t},Ii.Xa=function(t){t=t.target;var e=this.F;e&&3==$a(t)?e.f():this.Ca(t)},Ii.Ca=function(t){try{if(t==this.a)t:{var e=$a(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!ho&&!this.a.$())){this.A||4!=e||7==n||Es(8==n||0>=r?3:2),Ws(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$i(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,xs(12),Ks(this),$s(this);break t}ys(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ys(this,u)}this.I?(zs(this,e,o),ho&&this.b&&3==e&&(gs(this.J,this.R,"tick",this.Wa),this.R.start())):(ys(this.c,this.f,o,null),Ys(this,o)),4==e&&Ks(this),this.b&&!this.A&&(4==e?hu(this.g,this):(this.b=!1,Gs(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,xs(12)):(this.h=0,xs(13)),Ks(this),$s(this)}}}catch(c){}},Ii.Wa=function(){if(this.a){var t=$a(this.a),e=this.a.$();this.D<e.length&&(Ws(this),zs(this,t,e),this.b&&4!=t&&Gs(this))}},Ii.cancel=function(){this.A=!0,Ks(this)},Ii.Va=function(){this.o=null;var t=qi();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Es(3),xs(17)),Ks(this),this.h=2,$s(this)):Qs(this,this.T-t)},(Ii=Js.prototype).K=function(){Zs(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ii.L=function(){return Zs(this),this.a.concat()},Ii.get=function(t,e){return ta(this.b,t)?this.b[t]:e},Ii.set=function(t,e){ta(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ii.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ea=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function na(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof na){this.a=void 0!==e?e:t.a,ia(this,t.f),this.j=t.j,oa(this,t.c),sa(this,t.h),this.g=t.g,e=t.b;var n=new ya;n.c=e.c,e.a&&(n.a=new Js(e.a),n.b=e.b),aa(this,n),this.i=t.i}else t&&(n=String(t).match(ea))?(this.a=!!e,ia(this,n[1]||"",!0),this.j=la(n[2]||""),oa(this,n[3]||"",!0),sa(this,n[4]),this.g=la(n[5]||"",!0),aa(this,n[6]||"",!0),this.i=la(n[7]||"")):(this.a=!!e,this.b=new ya(null,this.a))}function ra(t){return new na(t)}function ia(t,e,n){t.f=n?la(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function oa(t,e,n){t.c=n?la(e,!0):e}function sa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function aa(t,e,n){e instanceof ya?(t.b=e,function(t,e){e&&!t.f&&(va(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(_a(this,e),Oa(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ha(e,ba)),t.b=new ya(e,t.a))}function ua(t,e,n){t.b.set(e,n)}function ca(t){return ua(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^qi()).toString(36)),t}function la(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ha(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,fa),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fa(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}na.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ha(e,da,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ha(e,da,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ha(n,"/"==n.charAt(0)?ga:pa,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ha(n,ma)),t.join("")};var da=/[#\/\?@]/g,pa=/[#\?:]/g,ga=/[#\?]/g,ba=/[#\?@]/g,ma=/#/g;function ya(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function va(t){t.a||(t.a=new Js,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function _a(t,e){va(t),e=Ea(t,e),ta(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ta((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Zs(t)))}function wa(t,e){return va(t),e=Ea(t,e),ta(t.a.b,e)}function Oa(t,e,n){_a(t,e),0<n.length&&(t.c=null,t.a.set(Ea(t,e),Wi(n)),t.b+=n.length)}function Ea(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ii=ya.prototype).add=function(t,e){va(this),this.c=null,t=Ea(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ii.forEach=function(t,e){va(this),this.a.forEach(function(n,r){Gi(n,function(n){t.call(e,n,r,this)},this)},this)},Ii.L=function(){va(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ii.K=function(t){va(this);var e=[];if("string"==typeof t)wa(this,t)&&(e=Qi(e,this.a.get(Ea(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Qi(e,t[n])}return e},Ii.set=function(t,e){return va(this),this.c=null,wa(this,t=Ea(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ii.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ii.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Ca=function(){return function(t,e){this.b=t,this.a=e}}();function xa(t){this.g=t||Sa,t=Ai.PerformanceNavigationTiming?0<(t=Ai.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ai.ia&&Ai.ia.ya&&Ai.ia.ya()&&Ai.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Sa=10;function Ta(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ia(t){return t.b?1:t.a?t.a.size:0}function ja(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function ka(t,e){t.a?t.a.add(e):t.b=e}function Aa(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Pa(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ti(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Wi(t.c)}function Ma(){}function Na(){this.a=new Ma}function La(t,e,n){var r=n||"";try{Xs(t,function(t,n){var i=t;Ni(t)&&(i=Xo(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(qy){throw e.push(r+"type="+encodeURIComponent("_badmap")),qy}}function Ra(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}xa.prototype.cancel=function(){var t,e;if(this.c=Pa(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ti(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Ma.prototype.stringify=function(t){return Ai.JSON.stringify(t,void 0)},Ma.prototype.parse=function(t){return Ai.JSON.parse(t,void 0)};var Da=Ai.JSON.parse;function Va(t){$o.call(this),this.headers=new Js,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ua,this.D=this.F=!1}Hi(Va,$o);var Ua="",Fa=/^https?$/i,qa=["POST","PUT"];function Ha(t){return"content-type"==t.toLowerCase()}function za(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ba(t),Qa(t)}function Ba(t){t.u||(t.u=!0,Ko(t,"complete"),Ko(t,"error"))}function Ga(t){if(t.b&&void 0!==ki&&(!t.s[1]||4!=$a(t)||2!=t.W()))if(t.l&&4==$a(t))ls(t.za,0,t);else if(Ko(t,"readystatechange"),4==$a(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ea)[1]||null;if(!o&&Ai.self&&Ai.self.location){var s=Ai.self.location.protocol;o=s.substr(0,s.length-1)}i=!Fa.test(o?o.toLowerCase():"")}e=i}if(e)Ko(t,"complete"),Ko(t,"success");else{t.h=6;try{var a=2<$a(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ba(t)}}finally{Qa(t)}}}function Qa(t,e){if(t.a){Wa(t);var n=t.a,r=t.s[0]?Pi:null;t.a=null,t.s=null,e||Ko(t,"ready");try{n.onreadystatechange=r}catch(qy){}}}function Wa(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Ai.clearTimeout(t.m),t.m=null)}function $a(t){return t.a?t.a.readyState:0}function Ka(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return eo(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ua(t,e,n))}function Ya(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Xa(t){this.pa=0,this.g=[],this.c=new ms,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ya("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ya("baseRetryDelayMs",5e3,t),this.Ra=Ya("retryDelaySeedMs",1e4,t),this.Ma=Ya("forwardChannelMaxRetries",2,t),this.ma=Ya("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new xa(t&&t.concurrentRequestLimit),this.ka=new Na,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ja(t){if(tu(t),3==t.v){var e=t.R++,n=ra(t.B);ua(n,"SID",t.J),ua(n,"RID",e),ua(n,"TYPE","terminate"),iu(t,n),(e=new Ds(t,t.c,e,void 0)).H=2,e.i=ca(ra(n)),n=!1,Ai.navigator&&Ai.navigator.sendBeacon&&(n=Ai.navigator.sendBeacon(e.i.toString(),"")),!n&&Ai.Image&&((new Image).src=e.i,n=!0),n||(e.a=bu(e.g,null),e.a.ba(e.i)),e.u=qi(),Gs(e)}pu(t)}function Za(t){t.a&&(uu(t),t.a.cancel(),t.a=null)}function tu(t){Za(t),t.j&&(Ai.clearTimeout(t.j),t.j=null),lu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Ai.clearTimeout(t.h),t.h=null)}function eu(t,e){t.g.push(new Ca(t.Oa++,e)),3==t.v&&nu(t)}function nu(t){Ta(t.b)||t.h||(t.h=!0,is(t.Ba,t),t.u=0)}function ru(t,e){var n;n=e?e.f:t.R++;var r=ra(t.B);ua(r,"SID",t.J),ua(r,"RID",n),ua(r,"AID",t.P),iu(t,r),t.i&&t.l&&Ka(r,t.i,t.l),n=new Ds(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ou(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),ka(t.b,n),qs(n,r,e)}function iu(t,e){t.f&&Xs({},function(t,n){ua(e,n,t)})}function ou(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Ui(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{La(l,s,"req"+c+"_")}catch(Ju){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function su(t){t.a||t.j||(t.T=1,is(t.Aa,t),t.o=0)}function au(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ts(Ui(t.Aa,t),fu(t,t.o)),t.o++,0))}function uu(t){null!=t.s&&(Ai.clearTimeout(t.s),t.s=null)}function cu(t){t.a=new Ds(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ra(t.la);ua(e,"RID","rpc"),ua(e,"SID",t.J),ua(e,"CI",t.H?"0":"1"),ua(e,"AID",t.P),iu(t,e),ua(e,"TYPE","xmlhttp"),t.i&&t.l&&Ka(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ca(ra(e)),n.j=null,n.I=!0,Hs(n,t)}function lu(t){null!=t.m&&(Ai.clearTimeout(t.m),t.m=null)}function hu(t,e){var n=null;if(t.a==e){lu(t),uu(t),t.a=null;var r=2}else{if(!ja(t.b,e))return;n=e.s,Aa(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=qi()-e.u;var i=t.u;Ko(r=ws(),new Ss(r,n,e,i)),nu(t)}else su(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ia(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ts(Ui(t.Ba,t,e),fu(t,t.u)),t.u++,0)))}(t,e)||2==r&&au(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:du(t,5);break;case 4:du(t,10);break;case 3:du(t,6);break;default:du(t,2)}}function fu(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function du(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Ui(t.Ya,t);n||(n=new na("//www.google.com/images/cleardot.gif"),Ai.location&&"http"==Ai.location.protocol||ia(n,"https"),ca(n)),function(t,e){var n=new ms;if(Ai.Image){var r=new Image;r.onload=Fi(Ra,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fi(Ra,n,r,"TestLoadImage: error",!1,e),r.onabort=Fi(Ra,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fi(Ra,n,r,"TestLoadImage: timeout",!1,e),Ai.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else xs(2);t.v=0,t.f&&t.f.ra(e),pu(t),tu(t)}function pu(t){t.v=0,t.I=-1,t.f&&(0==Pa(t.b).length&&0==t.g.length||(t.b.c.length=0,Wi(t.g),t.g.length=0),t.f.qa())}function gu(t,e,n){var r=function(t){return t instanceof na?ra(t):new na(t,void 0)}(n);if(""!=r.c)e&&oa(r,e+"."+r.c),sa(r,r.h);else{var i=Ai.location;r=function(t,e,n,r){var i=new na(null,void 0);return t&&ia(i,t),e&&oa(i,e),n&&sa(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&eo(t.V,function(t,e){ua(r,e,t)}),n=t.na,(e=t.A)&&n&&ua(r,e,n),ua(r,"VER",t.ha),iu(t,r),r}function bu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Va(t.Na)).F=t.C,e}function mu(){}function yu(){if(co&&!(10<=Number(wo)))throw Error("Environmental error: no available transport.")}function vu(t,e){$o.call(this),this.a=new Xa(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!$i(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$i(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Ou(this)}function _u(t){Ns.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function wu(){Ls.call(this),this.status=1}function Ou(t){this.a=t}(Ii=Va.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ps),this.a.onreadystatechange=Ui(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void za(this,o)}t=n||"";var i=new Js(this.headers);r&&Xs(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Ha,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Ai.FormData&&t instanceof Ai.FormData,!(0<=Bi(qa,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Wa(this),0<this.o&&((this.D=function(t){return co&&_o(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Ui(this.xa,this)):this.m=ls(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){za(this,o)}},Ii.xa=function(){void 0!==ki&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ko(this,"timeout"),this.abort(8))},Ii.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ko(this,"complete"),Ko(this,"abort"),Qa(this))},Ii.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Qa(this,!0)),Va.X.G.call(this)},Ii.za=function(){this.j||(this.A||this.l||this.g?Ga(this):this.Ua())},Ii.Ua=function(){Ga(this)},Ii.W=function(){try{return 2<$a(this)?this.a.status:-1}catch(ao){return-1}},Ii.$=function(){try{return this.a?this.a.responseText:""}catch(ao){return""}},Ii.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Da(e)}},Ii.ua=function(){return this.h},Ii.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ii=Xa.prototype).ha=8,Ii.v=1,Ii.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ds(this,this.c,t,void 0),r=this.l;if(this.O&&(r?io(r=no(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ou(this,n,e),ua(i=ra(this.B),"RID",t),ua(i,"CVER",22),this.A&&ua(i,"X-HTTP-Session-Id",this.A),iu(this,i),this.i&&r&&Ka(i,this.i,r),ka(this.b,n),this.Ia&&ua(i,"TYPE","init"),this.da?(ua(i,"$req",e),ua(i,"SID","null"),n.U=!0,qs(n,i,null)):qs(n,i,e),this.v=2}}else 3==this.v&&(t?ru(this,t):0==this.g.length||Ta(this.b)||ru(this))},Ii.Aa=function(){if(this.j=null,cu(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ts(Ui(this.Ta,this),t)}},Ii.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,xs(10),Za(this),cu(this))},Ii.Sa=function(){null!=this.m&&(this.m=null,Za(this),au(this),xs(19))},Ii.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),xs(2)):(this.c.info("Failed to ping google.com"),xs(1))},(Ii=mu.prototype).ta=function(){},Ii.sa=function(){},Ii.ra=function(){},Ii.qa=function(){},Ii.Ja=function(){},yu.prototype.a=function(t,e){return new vu(t,e)},Hi(vu,$o),vu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;xs(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=gu(t,null,t.fa),nu(t)},vu.prototype.close=function(){Ja(this.a)},vu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,eu(this.a,e)}else this.l?((e={}).__data__=Xo(t),eu(this.a,e)):eu(this.a,t)},vu.prototype.G=function(){this.a.f=null,delete this.f,Ja(this.a),delete this.a,vu.X.G.call(this)},Hi(_u,Ns),Hi(wu,Ls),Hi(Ou,mu),Ou.prototype.ta=function(){Ko(this.a,"a")},Ou.prototype.sa=function(t){Ko(this.a,new _u(t))},Ou.prototype.ra=function(t){Ko(this.a,new wu(t))},Ou.prototype.qa=function(){Ko(this.a,"b")},yu.prototype.createWebChannel=yu.prototype.a,vu.prototype.send=vu.prototype.h,vu.prototype.open=vu.prototype.g,vu.prototype.close=vu.prototype.close,Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,js.COMPLETE="complete",As.EventType=Ms,Ms.OPEN="a",Ms.CLOSE="b",Ms.ERROR="c",Ms.MESSAGE="d",$o.prototype.listen=$o.prototype.va,Va.prototype.listenOnce=Va.prototype.wa,Va.prototype.getLastError=Va.prototype.Qa,Va.prototype.getLastErrorCode=Va.prototype.ua,Va.prototype.getStatus=Va.prototype.W,Va.prototype.getResponseJson=Va.prototype.Pa,Va.prototype.getResponseText=Va.prototype.$,Va.prototype.send=Va.prototype.ba;var Eu=Is,Cu=js,xu=vs,Su=As,Tu=Va,Iu=n("30Go"),ju=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},ku=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Au=new Ci.b("@firebase/firestore");function Pu(){return Au.logLevel}function Mu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Au.logLevel<=Ci.a.DEBUG){var r=e.map(Ru);Au.debug.apply(Au,Object(Iu.g)(["Firestore (8.2.9): "+t],r))}}function Nu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Au.logLevel<=Ci.a.ERROR){var r=e.map(Ru);Au.error.apply(Au,Object(Iu.g)(["Firestore (8.2.9): "+t],r))}}function Lu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Au.logLevel<=Ci.a.WARN){var r=e.map(Ru);Au.warn.apply(Au,Object(Iu.g)(["Firestore (8.2.9): "+t],r))}}function Ru(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(qy){return t}}function Du(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw Nu(e),new Error(e)}function Vu(t,e){t||Du()}function Uu(t,e){return t}function Fu(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var qu=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Fu(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Hu(t,e){return t<e?-1:t>e?1:0}function zu(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Bu(t){return t+"\0"}var Gu=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return Hu(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Gu.T=new Gu("");var Qu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Iu.c)(e,t),e}(Error),$u=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Gu.fromBase64String(e))}catch(e){throw new Wu(Qu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Gu.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),Ku=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ku.UNAUTHENTICATED=new Ku(null),Ku.R=new Ku("google-credentials-uid"),Ku.P=new Ku("first-party-uid");var Yu=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},Xu=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(Ku.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),Ju=function(){function t(t){var e=this;this.D=null,this.currentUser=Ku.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(Mu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Vu("string"==typeof n.accessToken),new Yu(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return Vu(null===t||"string"==typeof t),new Ku(t)},t}(),Zu=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=Ku.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),tc=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new Zu(this.F,this.O))},t.prototype.v=function(t){t(Ku.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),ec=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();ec.q=-1;var nc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Wu(Qu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Wu(Qu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Wu(Qu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Wu(Qu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?Hu(this.nanoseconds,t.nanoseconds):Hu(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),rc=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new nc(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),ic=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Du(),void 0===n?n=t.length-e:n>t.length-e&&Du(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Iu.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Wu(Qu.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(ic),sc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ac=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Iu.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return sc.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Wu(Qu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Wu(Qu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Wu(Qu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Wu(Qu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(ic),uc=function(){function t(t){this.path=t}return t._t=function(e){return new t(oc.ot(e))},t.ft=function(e){return new t(oc.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===oc.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return oc.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new oc(e.slice()))},t}();function cc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var fc=function(){function t(t){this.fields=t,t.sort(ac.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return zu(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),dc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(t){if(Vu(!!t),"string"==typeof t){var e=0,n=dc.exec(t);if(Vu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gc(t.seconds),nanos:gc(t.nanos)}}function gc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function bc(t){return"string"==typeof t?Gu.fromBase64String(t):Gu.fromUint8Array(t)}function mc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function yc(t){var e=t.mapValue.fields.__previous_value__;return mc(e)?yc(e):e}function vc(t){var e=pc(t.mapValue.fields.__local_write_time__.timestampValue);return new nc(e.seconds,e.nanos)}function _c(t){return null==t}function wc(t){return 0===t&&1/t==-1/0}function Oc(t){return"number"==typeof t&&Number.isInteger(t)&&!wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Ec(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mc(t)?4:10:Du()}function Cc(t,e){var n=Ec(t);if(n!==Ec(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vc(t).isEqual(vc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=pc(t.timestampValue),r=pc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return bc(t.bytesValue).isEqual(bc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return gc(t.geoPointValue.latitude)===gc(e.geoPointValue.latitude)&&gc(t.geoPointValue.longitude)===gc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return gc(t.integerValue)===gc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=gc(t.doubleValue),r=gc(e.doubleValue);return n===r?wc(n)===wc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return zu(t.arrayValue.values||[],e.arrayValue.values||[],Cc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(cc(n)!==cc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Cc(n[i],r[i])))return!1;return!0}(t,e);default:return Du()}}function xc(t,e){return void 0!==(t.values||[]).find(function(t){return Cc(t,e)})}function Sc(t,e){var n=Ec(t),r=Ec(e);if(n!==r)return Hu(n,r);switch(n){case 0:return 0;case 1:return Hu(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=gc(t.integerValue||t.doubleValue),r=gc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Tc(t.timestampValue,e.timestampValue);case 4:return Tc(vc(t),vc(e));case 5:return Hu(t.stringValue,e.stringValue);case 6:return function(t,e){var n=bc(t),r=bc(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Hu(n[i],r[i]);if(0!==o)return o}return Hu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Hu(gc(t.latitude),gc(e.latitude));return 0!==n?n:Hu(gc(t.longitude),gc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Sc(n[i],r[i]);if(o)return o}return Hu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Hu(r[s],o[s]);if(0!==a)return a;var u=Sc(n[r[s]],i[o[s]]);if(0!==u)return u}return Hu(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Du()}}function Tc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Hu(t,e);var n=pc(t),r=pc(e),i=Hu(n.seconds,r.seconds);return 0!==i?i:Hu(n.nanos,r.nanos)}function Ic(t){return jc(t)}function jc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=pc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?bc(t.bytesValue).toBase64():"referenceValue"in t?uc.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=jc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+jc(t.fields[o])}return e+"}"}(t.mapValue):Du();var e}function kc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function Ac(t){return!!t&&"integerValue"in t}function Pc(t){return!!t&&"arrayValue"in t}function Mc(t){return!!t&&"nullValue"in t}function Nc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lc(t){return!!t&&"mapValue"in t}var Rc=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Lc(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return Cc(this.proto,t.proto)},t}(),Dc=function(){function t(t){void 0===t&&(t=Rc.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ec(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(ac.ct(),this.At);return null!=t?new Rc(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=Lc(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.yt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Vc(t){var e=[];return lc(t.fields||{},function(t,n){var r=new ac([t]);if(Lc(n)){var i=Vc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new fc(e)}var Uc=function(t,e){this.key=t,this.version=e},Fc=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Iu.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Uc),qc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Iu.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Uc),Hc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Iu.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Uc),zc=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.vt=null};function Bc(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new zc(t,e,n,r,i,o,s)}function Gc(t){var e=Uu(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+Ic(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),_c(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=il(e.startAt)),e.endAt&&(n+="|ub:",n+=il(e.endAt)),e.vt=n}return e.vt}function Qc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!sl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Cc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ul(t.startAt,e.startAt)&&ul(t.endAt,e.endAt)}function Wc(t){return uc.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var $c=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Iu.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new Kc(t,n,r):"array-contains"===n?new Zc(t,r):"in"===n?new tl(t,r):"not-in"===n?new el(t,r):"array-contains-any"===n?new nl(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Yc(t,n):new Xc(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(Sc(e,this.value)):null!==e&&Ec(this.value)===Ec(e)&&this.Dt(Sc(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Du()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Kc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=uc.ft(r.referenceValue),i}return Object(Iu.c)(e,t),e.prototype.matches=function(t){var e=uc.H(t.key,this.key);return this.Dt(e)},e}($c),Yc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Jc(0,n),r}return Object(Iu.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}($c),Xc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Jc(0,n),r}return Object(Iu.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}($c);function Jc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return uc.ft(t.referenceValue)})}var Zc=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Iu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Pc(e)&&xc(e.arrayValue,this.value)},e}($c),tl=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Iu.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&xc(this.value.arrayValue,e)},e}($c),el=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Iu.c)(e,t),e.prototype.matches=function(t){if(xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!xc(this.value.arrayValue,e)},e}($c),nl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Iu.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Pc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return xc(e.value.arrayValue,t)})},e}($c),rl=function(t,e){this.position=t,this.before=e};function il(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Ic(t)}).join(",")}var ol=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function sl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function al(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ut()?uc.H(uc.ft(s.referenceValue),n.key):Sc(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function ul(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Cc(t.position[n],e.position[n]))return!1;return!0}var cl=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Nt=null,this.$t=null};function ll(t,e,n,r,i,o,s,a){return new cl(t,e,n,r,i,o,s,a)}function hl(t){return new cl(t)}function fl(t){return!_c(t.limit)&&"F"===t.limitType}function dl(t){return!_c(t.limit)&&"L"===t.limitType}function pl(t){return t.xt.length>0?t.xt[0].field:null}function gl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function bl(t){return null!==t.collectionGroup}function ml(t){var e=Uu(t);if(null===e.Nt){e.Nt=[];var n=gl(e),r=pl(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new ol(n)),e.Nt.push(new ol(ac.ht(),"asc"));else{for(var i=!1,o=0,s=e.xt;o<s.length;o++){var a=s[o];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new ol(ac.ht(),u))}}}return e.Nt}function yl(t){var e=Uu(t);if(!e.$t)if("F"===e.limitType)e.$t=Bc(e.path,e.collectionGroup,ml(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ml(e);r<i.length;r++){var o=i[r];n.push(new ol(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new rl(e.endAt.position,!e.endAt.before):null,a=e.startAt?new rl(e.startAt.position,!e.startAt.before):null;e.$t=Bc(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.$t}function vl(t,e,n){return new cl(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _l(t,e){return Qc(yl(t),yl(e))&&t.limitType===e.limitType}function wl(t){return Gc(yl(t))+"|lt:"+t.limitType}function Ol(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+Ic(e.value);var e}).join(", ")+"]"),_c(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+il(t.startAt)),t.endAt&&(e+=", endAt: "+il(t.endAt)),"Target("+e+")"}(yl(t))+"; limitType="+t.limitType+")"}function El(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):uc.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!al(t.startAt,ml(t),e)||t.endAt&&al(t.endAt,ml(t),e))}(t,e)}function Cl(t){return function(e,n){for(var r=!1,i=0,o=ml(t);i<o.length;i++){var s=o[i],a=xl(s,e,n);if(0!==a)return a;r=r||s.field.ut()}return 0}}function xl(t,e,n){var r=t.field.ut()?uc.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Sc(r,i):Du()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Du()}}var Sl=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=rc.min()),void 0===o&&(o=rc.min()),void 0===s&&(s=Gu.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function Tl(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function Il(t){return{integerValue:""+t}}function jl(t,e){return Oc(e)?Il(e):Tl(t,e)}var kl=function(){this.qt=void 0};function Al(t,e,n){return t instanceof Nl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ll?Rl(t,e):t instanceof Dl?Vl(t,e):function(t,e){var n=Ml(t,e),r=Fl(n)+Fl(t.Ut);return Ac(n)&&Ac(t.Ut)?Il(r):Tl(t.Qt,r)}(t,e)}function Pl(t,e,n){return t instanceof Ll?Rl(t,e):t instanceof Dl?Vl(t,e):n}function Ml(t,e){return t instanceof Ul?Ac(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Nl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Iu.c)(e,t),e}(kl),Ll=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Iu.c)(e,t),e}(kl);function Rl(t,e){for(var n=ql(e),r=function(t){n.some(function(e){return Cc(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Dl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Iu.c)(e,t),e}(kl);function Vl(t,e){for(var n=ql(e),r=function(t){n=n.filter(function(e){return!Cc(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ul=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(Iu.c)(e,t),e}(kl);function Fl(t){return gc(t.integerValue||t.doubleValue)}function ql(t){return Pc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Hl=function(t,e){this.field=t,this.transform=e},zl=function(t,e){this.version=t,this.transformResults=e},Bl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Gl(t,e){return void 0!==t.updateTime?e instanceof Fc&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Fc}var Ql=function(){};function Wl(t,e,n){return t instanceof Jl?function(t,e,n){var r=t.value;if(n.transformResults){var i=eh(t.fieldTransforms,e,n.transformResults);r=rh(t.fieldTransforms,r,i)}return new Fc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Zl?function(t,e,n){if(!Gl(t.jt,e))return new Hc(t.key,n.version);var r=th(t,e,n.transformResults?eh(t.fieldTransforms,e,n.transformResults):[]);return new Fc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new qc(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function $l(t,e,n){return t instanceof Jl?function(t,e,n){if(!Gl(t.jt,e))return e;var r=t.value,i=nh(t.fieldTransforms,n,e);r=rh(t.fieldTransforms,r,i);var o=Xl(e);return new Fc(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof Zl?function(t,e,n){if(!Gl(t.jt,e))return e;var r=Xl(e),i=th(t,e,nh(t.fieldTransforms,n,e));return new Fc(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Gl(t.jt,e)?new qc(t.key,rc.min()):e}(t,e)}function Kl(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Fc?e.field(o.field):void 0,a=Ml(o.transform,s||null);null!=a&&(n=null==n?(new Dc).set(o.field,a):n.set(o.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function Yl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&zu(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ll&&e instanceof Ll||t instanceof Dl&&e instanceof Dl?zu(t.elements,e.elements,Cc):t instanceof Ul&&e instanceof Ul?Cc(t.Ut,e.Ut):t instanceof Nl&&e instanceof Nl}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function Xl(t){return t instanceof Fc?t.version:rc.min()}var Jl=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(Iu.c)(e,t),e}(Ql),Zl=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.Gt=r,s.jt=i,s.fieldTransforms=o,s.type=1,s}return Object(Iu.c)(e,t),e}(Ql);function th(t,e,n){var r;return r=function(t,e){var n=new Dc(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof Fc?e.data():Rc.empty()),rh(t.fieldTransforms,r,n)}function eh(t,e,n){var r=[];Vu(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Fc&&(a=e.field(o.field)),r.push(Pl(s,a,n[i]))}return r}function nh(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=null;n instanceof Fc&&(u=n.field(s.field)),r.push(Al(a,u,e))}return r}function rh(t,e,n){for(var r=new Dc(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var ih,oh,sh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(Iu.c)(e,t),e}(Ql),ah=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(Iu.c)(e,t),e}(Ql),uh=function(t){this.count=t};function ch(t){switch(t){case Qu.OK:return Du();case Qu.CANCELLED:case Qu.UNKNOWN:case Qu.DEADLINE_EXCEEDED:case Qu.RESOURCE_EXHAUSTED:case Qu.INTERNAL:case Qu.UNAVAILABLE:case Qu.UNAUTHENTICATED:return!1;case Qu.INVALID_ARGUMENT:case Qu.NOT_FOUND:case Qu.ALREADY_EXISTS:case Qu.PERMISSION_DENIED:case Qu.FAILED_PRECONDITION:case Qu.ABORTED:case Qu.OUT_OF_RANGE:case Qu.UNIMPLEMENTED:case Qu.DATA_LOSS:return!0;default:return Du()}}function lh(t){if(void 0===t)return Nu("GRPC error has no .code"),Qu.UNKNOWN;switch(t){case ih.OK:return Qu.OK;case ih.CANCELLED:return Qu.CANCELLED;case ih.UNKNOWN:return Qu.UNKNOWN;case ih.DEADLINE_EXCEEDED:return Qu.DEADLINE_EXCEEDED;case ih.RESOURCE_EXHAUSTED:return Qu.RESOURCE_EXHAUSTED;case ih.INTERNAL:return Qu.INTERNAL;case ih.UNAVAILABLE:return Qu.UNAVAILABLE;case ih.UNAUTHENTICATED:return Qu.UNAUTHENTICATED;case ih.INVALID_ARGUMENT:return Qu.INVALID_ARGUMENT;case ih.NOT_FOUND:return Qu.NOT_FOUND;case ih.ALREADY_EXISTS:return Qu.ALREADY_EXISTS;case ih.PERMISSION_DENIED:return Qu.PERMISSION_DENIED;case ih.FAILED_PRECONDITION:return Qu.FAILED_PRECONDITION;case ih.ABORTED:return Qu.ABORTED;case ih.OUT_OF_RANGE:return Qu.OUT_OF_RANGE;case ih.UNIMPLEMENTED:return Qu.UNIMPLEMENTED;case ih.DATA_LOSS:return Qu.DATA_LOSS;default:return Du()}}(oh=ih||(ih={}))[oh.OK=0]="OK",oh[oh.CANCELLED=1]="CANCELLED",oh[oh.UNKNOWN=2]="UNKNOWN",oh[oh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oh[oh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oh[oh.NOT_FOUND=5]="NOT_FOUND",oh[oh.ALREADY_EXISTS=6]="ALREADY_EXISTS",oh[oh.PERMISSION_DENIED=7]="PERMISSION_DENIED",oh[oh.UNAUTHENTICATED=16]="UNAUTHENTICATED",oh[oh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oh[oh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oh[oh.ABORTED=10]="ABORTED",oh[oh.OUT_OF_RANGE=11]="OUT_OF_RANGE",oh[oh.UNIMPLEMENTED=12]="UNIMPLEMENTED",oh[oh.INTERNAL=13]="INTERNAL",oh[oh.UNAVAILABLE=14]="UNAVAILABLE",oh[oh.DATA_LOSS=15]="DATA_LOSS";var hh=function(){function t(t,e){this.H=t,this.root=e||dh.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,dh.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,dh.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new fh(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new fh(this.root,t,this.H,!1)},t.prototype.ne=function(){return new fh(this.root,null,this.H,!0)},t.prototype.se=function(t){return new fh(this.root,t,this.H,!0)},t}(),fh=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),dh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw Du();if(this.right.le())throw Du();var t=this.left.Ie();if(t!==this.right.Ie())throw Du();return t+(this.le()?0:1)},t}();dh.EMPTY=null,dh.RED=!0,dh.Ht=!1,dh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Du()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Du()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Du()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Du()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Du()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new dh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var ph=function(){function t(t){this.H=t,this.data=new hh(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new gh(this.data.te())},t.prototype.ee=function(t){return new gh(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),gh=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),bh=new hh(uc.H);function mh(){return bh}function yh(){return mh()}var vh=new hh(uc.H);function _h(){return vh}var wh=new hh(uc.H);function Oh(){return wh}var Eh=new ph(uc.H);function Ch(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Eh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var xh=new ph(Hu);function Sh(){return xh}var Th=function(){function t(t){this.H=t?function(e,n){return t(e,n)||uc.H(e.key,n.key)}:function(t,e){return uc.H(t.key,e.key)},this.ge=_h(),this.Ve=new hh(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),Ih=function(){function t(){this.be=new hh(uc.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):Du():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),jh=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=s,this.xe=a}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Th.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&_l(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),kh=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,Ah.Le(e,n)),new t(rc.min(),r,Sh(),mh(),Ch())},t}(),Ah=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(Gu.T,n,Ch(),Ch(),Ch())},t}(),Ph=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},Mh=function(t,e){this.targetId=t,this.je=e},Nh=function(t,e,n,r){void 0===n&&(n=Gu.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Lh=function(){function t(){this.Ge=0,this.ze=Vh(),this.He=Gu.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=Ch(),e=Ch(),n=Ch();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Du()}}),new Ah(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=Vh()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),Rh=function(){function t(t){this.un=t,this.hn=new Map,this.ln=mh(),this._n=Dh(),this.fn=new ph(Hu)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof Fc?this.wn(r,t.We):t.We instanceof qc&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:Du()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(Wc(i))if(0===n){var o=new uc(i.path);this.En(e,o,new qc(o,rc.min()))}else Vu(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&Wc(o.target)){var s=new uc(o.target.path);null!==e.ln.get(s)||e.pn(i,s)||e.En(i,s,new qc(s,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=Ch();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)}),i&&(r=r.add(t))});var i=new kh(t,n,this.fn,this.ln,r);return this.ln=mh(),this._n=Dh(),this.fn=new ph(Hu),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new Lh,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new ph(Hu),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||Mu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new Lh),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function Dh(){return new hh(uc.H)}function Vh(){return new hh(uc.H)}var Uh={asc:"ASCENDING",desc:"DESCENDING"},Fh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qh=function(t,e){this.t=t,this.Bt=e};function Hh(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function zh(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Bh(t,e){return Hh(t,e.j())}function Gh(t){return Vu(!!t),rc.K(function(t){var e=pc(t);return new nc(e.seconds,e.nanos)}(t))}function Qh(t,e){return function(t){return new oc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function Wh(t){var e=oc.ot(t);return Vu(yf(e)),e}function $h(t,e){return Qh(t.t,e.path)}function Kh(t,e){var n=Wh(e);if(n.get(1)!==t.t.projectId)throw new Wu(Qu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Wu(Qu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new uc(Zh(n))}function Yh(t,e){return Qh(t.t,e)}function Xh(t){var e=Wh(t);return 4===e.length?oc.ct():Zh(e)}function Jh(t){return new oc(["projects",t.t.projectId,"databases",t.t.database]).rt()}function Zh(t){return Vu(t.length>4&&"documents"===t.get(4)),t.Y(5)}function tf(t,e,n){return{name:$h(t,e),fields:n.proto.mapValue.fields}}function ef(t,e,n){var r=Kh(t,e.name),i=Gh(e.updateTime),o=new Rc({mapValue:{fields:e.fields}});return new Fc(r,i,o,{hasCommittedMutations:!!n})}function nf(t,e){var n;if(e instanceof Jl)n={update:tf(t,e.key,e.value)};else if(e instanceof sh)n={delete:$h(t,e.key)};else if(e instanceof Zl)n={update:tf(t,e.key,e.data),updateMask:mf(e.Gt)};else{if(!(e instanceof ah))return Du();n={verify:$h(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Nl)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ll)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof Dl)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof Ul)return{fieldPath:e.field.rt(),increment:n.Ut};throw Du()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Bh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Du()}(t,e.jt)),n}function rf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Bl.updateTime(Gh(t.updateTime)):void 0!==t.exists?Bl.exists(t.exists):Bl.Kt()}(e.currentDocument):Bl.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Vu("REQUEST_TIME"===e.setToServerValue),n=new Nl):"appendMissingElements"in e?n=new Ll(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Dl(e.removeAllFromArray.values||[]):"increment"in e?n=new Ul(t,e.increment):Du();var r=ac.lt(e.fieldPath);return new Hl(r,n)}(t,e)}):[];if(e.update){var i=Kh(t,e.update.name),o=new Rc({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new fc((t.fieldPaths||[]).map(function(t){return ac.lt(t)}))}(e.updateMask);return new Zl(i,o,s,n,r)}return new Jl(i,o,n,r)}if(e.delete){var a=Kh(t,e.delete);return new sh(a,n)}if(e.verify){var u=Kh(t,e.verify);return new ah(u,n)}return Du()}function of(t,e){return{documents:[Yh(t,e.path)]}}function sf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Yh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Yh(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Nc(t.value))return{unaryFilter:{field:df(t.field),op:"IS_NAN"}};if(Mc(t.value))return{unaryFilter:{field:df(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Nc(t.value))return{unaryFilter:{field:df(t.field),op:"IS_NOT_NAN"}};if(Mc(t.value))return{unaryFilter:{field:df(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:df(t.field),op:ff(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:df(t.field),direction:hf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Bt||_c(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=cf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=cf(e.endAt)),n}function af(t){var e=Xh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Vu(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=uf(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new ol(pf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return _c(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=lf(n.startAt));var l=null;return n.endAt&&(l=lf(n.endAt)),ll(e,i,a,s,u,"F",c,l)}function uf(t){return t?void 0!==t.unaryFilter?[bf(t)]:void 0!==t.fieldFilter?[gf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return uf(t)}).reduce(function(t,e){return t.concat(e)}):Du():[]}function cf(t){return{before:t.before,values:t.position}}function lf(t){return new rl(t.values||[],!!t.before)}function hf(t){return Uh[t]}function ff(t){return Fh[t]}function df(t){return{fieldPath:t.rt()}}function pf(t){return ac.lt(t.fieldPath)}function gf(t){return $c.create(pf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Du()}}(t.fieldFilter.op),t.fieldFilter.value)}function bf(t){switch(t.unaryFilter.op){case"IS_NAN":var e=pf(t.unaryFilter.field);return $c.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=pf(t.unaryFilter.field);return $c.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=pf(t.unaryFilter.field);return $c.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=pf(t.unaryFilter.field);return $c.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Du()}}function mf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function yf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var vf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},_f=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&Du(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}})},t.prototype.On=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Mn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Mn(r)},t}(),wf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new vf,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new Cf(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=jf(e.target.error);n.Bn.reject(new Cf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Cf(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(Mu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Sf(e)},t}(),Of=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(xi.h)())&&Nu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Mu("SimpleDb","Removing database:",t),Tf(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(xi.h)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(Iu.b)(this,void 0,void 0,function(){var e,n=this;return Object(Iu.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Mu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Cf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Wu(Qu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Cf(t,n))},i.onupgradeneeded=function(t){Mu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Mu("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Iu.b)(this,void 0,void 0,function(){var i,o,s,a,u;return Object(Iu.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return Object(Iu.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=wf.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),_f.reject(t)}).On(),u={},s.catch(function(){}),[4,e.qn];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Mu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ef=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return Tf(this.Zn.delete())},t}(),Cf=function(t){function e(e,n){var r=this;return(r=t.call(this,Qu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Iu.c)(e,t),e}(Wu);function xf(t){return"IndexedDbTransactionError"===t.name}var Sf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Mu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Mu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Tf(n)},t.prototype.add=function(t){return Mu("SimpleDb","ADD",this.store.name,t,t),Tf(this.store.add(t))},t.prototype.get=function(t){var e=this;return Tf(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Mu("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Mu("SimpleDb","DELETE",this.store.name,t),Tf(this.store.delete(t))},t.prototype.count=function(){return Mu("SimpleDb","COUNT",this.store.name),Tf(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){Mu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new _f(function(n,r){e.onerror=function(t){var e=jf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new _f(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ef(i),s=e(i.primaryKey,i.value,o);if(s instanceof _f){var a=s.catch(function(t){return o.done(),_f.reject(t)});n.push(a)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return _f.Mn(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Tf(t){return new _f(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=jf(t.target.error);n(e)}})}var If=!1;function jf(t){var e=Of.Qn(Object(xi.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Wu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return If||(If=!0,setTimeout(function(){throw r},0)),r}}return t}var kf=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new vf,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new Wu(Qu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function Af(t,e){if(Nu("AsyncQueue",e+": "+t),xf(t))return new Wu(Qu.UNAVAILABLE,e+": "+t);throw t}var Pf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mf=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function Nf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Rf(e)),e=Lf(t.get(n),e);return Rf(e)}function Lf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Rf(t){return t+"\x01\x01"}function Df(t){var e=t.length;if(Vu(e>=2),2===e)return Vu("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),oc.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Du(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Du()}o=s+2}return new oc(r)}var Vf=function(t,e){this.seconds=t,this.nanoseconds=e},Uf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Uf.store="owner",Uf.key="owner";var Ff=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ff.store="mutationQueues",Ff.keyPath="userId";var qf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};qf.store="mutations",qf.keyPath="batchId",qf.userMutationsIndex="userMutationsIndex",qf.userMutationsKeyPath=["userId","batchId"];var Hf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Nf(e)]},t.key=function(t,e,n){return[t,Nf(e),n]},t}();Hf.store="documentMutations",Hf.PLACEHOLDER=new Hf;var zf=function(t,e){this.path=t,this.readTime=e},Bf=function(t,e){this.path=t,this.version=e},Gf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Gf.store="remoteDocuments",Gf.readTimeIndex="readTimeIndex",Gf.readTimeIndexPath="readTime",Gf.collectionReadTimeIndex="collectionReadTimeIndex",Gf.collectionReadTimeIndexPath=["parentPath","readTime"];var Qf=function(t){this.byteSize=t};Qf.store="remoteDocumentGlobal",Qf.key="remoteDocumentGlobalKey";var Wf=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Wf.store="targets",Wf.keyPath="targetId",Wf.queryTargetsIndexName="queryTargetsIndex",Wf.queryTargetsKeyPath=["canonicalId","targetId"];var $f=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};$f.store="targetDocuments",$f.keyPath=["targetId","path"],$f.documentTargetsIndex="documentTargetsIndex",$f.documentTargetsKeyPath=["path","targetId"];var Kf=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Kf.key="targetGlobalKey",Kf.store="targetGlobal";var Yf=function(t,e){this.collectionId=t,this.parent=e};Yf.store="collectionParents",Yf.keyPath=["collectionId","parent"];var Xf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Xf.store="clientMetadata",Xf.keyPath="clientId";var Jf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Jf.store="bundles",Jf.keyPath="bundleId";var Zf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Zf.store="namedQueries",Zf.keyPath="name";var td=Object(Iu.g)(Object(Iu.g)(Object(Iu.g)(Object(Iu.g)([Ff.store,qf.store,Hf.store,Gf.store,Wf.store,Uf.store,Kf.store,$f.store],[Xf.store]),[Qf.store]),[Yf.store]),[Jf.store,Zf.store]),ed=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(Iu.c)(e,t),e}(Mf);function nd(t,e){var n=Uu(t);return Of.zn(n.ps,e)}var rd=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Wl(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=$l(s,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=$l(s,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ch())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&zu(this.mutations,t.mutations,function(t,e){return Yl(t,e)})&&zu(this.baseMutations,t.baseMutations,function(t,e){return Yl(t,e)})},t}(),id=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){Vu(e.mutations.length===r.length);for(var i=Oh(),o=e.mutations,s=0;s<o.length;s++)i=i.zt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),od=function(t){this.Fs=t};function sd(t,e){if(e.document)return ef(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=uc.Et(e.noDocument.path),r=hd(e.noDocument.readTime);return new qc(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=uc.Et(e.unknownDocument.path);return r=hd(e.unknownDocument.version),new Hc(i,r)}return Du()}function ad(t,e,n){var r=ud(n),i=e.key.path.X().it();if(e instanceof Fc){var o=function(t,e){return{name:$h(t,e.key),fields:e.bt().mapValue.fields,updateTime:Hh(t,e.version.j())}}(t.Fs,e),s=e.hasCommittedMutations;return new Gf(null,null,o,s,r,i)}if(e instanceof qc){var a=e.key.path.it(),u=ld(e.version);return s=e.hasCommittedMutations,new Gf(null,new zf(a,u),null,s,r,i)}if(e instanceof Hc){var c=e.key.path.it(),l=ld(e.version);return new Gf(new Bf(c,l),null,null,!0,r,i)}return Du()}function ud(t){var e=t.j();return[e.seconds,e.nanoseconds]}function cd(t){var e=new nc(t[0],t[1]);return rc.K(e)}function ld(t){var e=t.j();return new Vf(e.seconds,e.nanoseconds)}function hd(t){var e=new nc(t.seconds,t.nanoseconds);return rc.K(e)}function fd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return rf(t.Fs,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return rf(t.Fs,e)}),o=nc.fromMillis(e.localWriteTimeMs);return new rd(e.batchId,o,n,i)}function dd(t){var e,n,r=hd(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?hd(t.lastLimboFreeSnapshotVersion):rc.min();return void 0!==t.query.documents?(Vu(1===(n=t.query).documents.length),e=yl(hl(Xh(n.documents[0])))):e=function(t){return yl(af(t))}(t.query),new Sl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Gu.fromBase64String(t.resumeToken))}function pd(t,e){var n,r=ld(e.Ot),i=ld(e.lastLimboFreeSnapshotVersion);n=Wc(e.target)?of(t.Fs,e.target):sf(t.Fs,e.target);var o=e.resumeToken.toBase64();return new Wf(e.targetId,Gc(e.target),r,o,e.sequenceNumber,i,n)}function gd(t){var e=af({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?vl(e,e.limit,"L"):e}var bd=function(){function t(){}return t.prototype.Os=function(t,e){return md(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:hd(e.createTime),version:e.version};var e})},t.prototype.ks=function(t,e){return md(t).put({bundleId:(n=e).id,createTime:ld(Gh(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return yd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:gd(e.bundledQuery),readTime:hd(e.readTime)};var e})},t.prototype.Ls=function(t,e){return yd(t).put(function(t){return{name:t.name,readTime:ld(Gh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function md(t){return nd(t,Jf.store)}function yd(t){return nd(t,Zf.store)}var vd=function(){function t(){this.Bs=new _d}return t.prototype.qs=function(t,e){return this.Bs.add(e),_f.resolve()},t.prototype.Us=function(t,e){return _f.resolve(this.Bs.getEntries(e))},t}(),_d=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new ph(oc.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ph(oc.H)).it()},t}(),wd=function(){function t(){this.Qs=new _d}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:Nf(i)};return Od(t).put(o)}return _f.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Bu(e),""],!1,!0);return Od(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Df(o.parent))}return n})},t}();function Od(t){return nd(t,Yf.store)}var Ed={Ks:!1,Ws:0,js:0,Gs:0},Cd=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function xd(t){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(e){if(t.code!==Qu.FAILED_PRECONDITION||t.message!==Pf)throw t;return Mu("LocalStore","Unexpectedly lost primary lease"),[2]})})}Cd.Xs=10,Cd.Zs=1e3,Cd.ti=new Cd(41943040,Cd.Xs,Cd.Zs),Cd.ei=new Cd(-1,0,0);var Sd=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.si(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){lc(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return hc(this.ii)},t}(),Td=function(){function t(){this.ri=new Sd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:rc.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?_f.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function Id(t,e,n){var r=t.store(qf.store),i=t.store(Hf.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){Vu(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Hf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return _f.Mn(o).next(function(){return c})}function jd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Du();e=t.noDocument}return JSON.stringify(e).length}var kd=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return Vu(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pd(t).hs({index:qf.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=Md(t),s=Pd(t);return s.add({}).next(function(a){Vu("number"==typeof a);for(var u=new rd(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return nf(t.Fs,e)}),i=n.mutations.map(function(e){return nf(t.Fs,e)});return new qf(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new ph(function(t,e){return Hu(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Hf.key(i.userId,p.key.path,a);h=h.add(p.key.path.X()),l.push(s.put(c)),l.push(o.put(g,Hf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[a]=u.keys()}),_f.Mn(l).next(function(){return u})})},t.prototype.Pi=function(t,e){var n=this;return Pd(t).get(e).next(function(t){return t?(Vu(t.userId===n.userId),fd(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?_f.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Pd(t).hs({index:qf.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Vu(e.batchId>=r),o=fd(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Pd(t).hs({index:qf.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pd(t).rs(qf.userMutationsIndex,n).next(function(t){return t.map(function(t){return fd(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=Hf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Md(t).hs({range:i},function(r,i,s){var a=r[0],u=r[2],c=Df(r[1]);if(a===n.userId&&e.path.isEqual(c))return Pd(t).get(u).next(function(t){if(!t)throw Du();Vu(t.userId===n.userId),o.push(fd(n.Qt,t))});s.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new ph(Hu),i=[];return e.forEach(function(e){var o=Hf.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Md(t).hs({range:s},function(t,i,o){var s=t[0],a=t[2],u=Df(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),_f.Mn(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=Hf.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ph(Hu);return Md(t).hs({range:s},function(t,e,o){var s=t[0],u=t[2],c=Df(t[1]);s===n.userId&&r.nt(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Si(t,a)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Pd(t).get(e).next(function(t){if(null===t)throw Du();Vu(t.userId===n.userId),r.push(fd(n.Qt,t))}))}),_f.Mn(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return Id(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),_f.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return _f.resolve();var r=IDBKeyRange.lowerBound(Hf.prefixForUser(e.userId)),i=[];return Md(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=Df(t[1]);i.push(o)}else r.done()}).next(function(){Vu(0===i.length)})})},t.prototype.Fi=function(t,e){return Ad(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return Nd(t).get(this.userId).next(function(t){return t||new Ff(e.userId,-1,"")})},t}();function Ad(t,e,n){var r=Hf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Md(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Pd(t){return nd(t,qf.store)}function Md(t){return nd(t,Hf.store)}function Nd(t){return nd(t,Ff.store)}var Ld=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),Rd=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new Ld(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return rc.K(new nc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return Dd(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return Vu(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return Dd(t).hs(function(s,a){var u=dd(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))}).next(function(){return _f.Mn(o)}).next(function(){return i})},t.prototype.In=function(t,e){return Dd(t).hs(function(t,n){var r=dd(n);e(r)})},t.prototype.qi=function(t){return Vd(t).get(Kf.key).next(function(t){return Vu(null!==t),t})},t.prototype.Ui=function(t,e){return Vd(t).put(Kf.key,e)},t.prototype.Gi=function(t,e){return Dd(t).put(pd(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=Gc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Dd(t).hs({range:r,index:Wf.queryTargetsIndexName},function(t,n,r){var o=dd(n);Qc(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=Ud(t);return e.forEach(function(e){var s=Nf(e.path);i.push(o.put(new $f(n,s))),i.push(r.Ti.nr(t,n,e))}),_f.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=Ud(t);return _f.forEach(e,function(e){var o=Nf(e.path);return _f.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=Ud(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ud(t),i=Ch();return r.hs({range:n,us:!0},function(t,e,n){var r=Df(t[1]),o=new uc(r);i=i.add(o)}).next(function(){return i})},t.prototype.Fi=function(t,e){var n=Nf(e.path),r=IDBKeyRange.bound([n],[Bu(n)],!1,!0),i=0;return Ud(t).hs({index:$f.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return Dd(t).get(e).next(function(t){return t?dd(t):null})},t}();function Dd(t){return nd(t,Wf.store)}function Vd(t){return nd(t,Kf.store)}function Ud(t){return nd(t,$f.store)}function Fd(t,e){var n=t[1],r=e[1],i=Hu(t[0],e[0]);return 0===i?Hu(n,r):i}var qd=function(){function t(t){this.cr=t,this.buffer=new ph(Fd),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Fd(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Hd=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;Mu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(Iu.b)(e,void 0,void 0,function(){var e;return Object(Iu.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return xf(e=n.sent())?(Mu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,xd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),zd=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return _f.resolve(ec.q);var r=new qd(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(Mu("LruGarbageCollector","Garbage collection skipped; disabled"),_f.resolve(Ed)):this.pr(t).next(function(r){return r<n.params.zs?(Mu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Ed):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(Mu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.gr(t,n)}).next(function(t){return u=Date.now(),Pu()<=Ci.a.DEBUG&&Mu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),_f.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),Bd=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new zd(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return Gd(t,n)},t.prototype.ir=function(t,e,n){return Gd(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Gd(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return Nd(t).ls(function(r){return Ad(t,r,e).next(function(t){return t&&(n=!0),_f.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,function(s,a){if(a<=e){var u=n.Cr(t,s).next(function(e){if(!e)return o++,r._i(t,s).next(function(){return r.li(s),Ud(t).delete([0,Nf(s.path)])})});i.push(u)}}).next(function(){return _f.Mn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return Gd(t,e)},t.prototype.Dr=function(t,e){var n,r=Ud(t),i=ec.q;return r.hs({index:$f.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==ec.q&&e(new uc(Df(n)),i),i=s,n=o):i=ec.q}).next(function(){i!==ec.q&&e(new uc(Df(n)),i)})},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function Gd(t,e){return Ud(t).put(function(t,e){return new $f(0,Nf(t.path),e)}(e,t.bs))}var Qd=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return Kd(t).put(Yd(e),n)},t.prototype.li=function(t,e){var n=Kd(t),r=Yd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.kr(t,r)})},t.prototype._i=function(t,e){var n=this;return Kd(t).get(Yd(e)).next(function(t){return n.Mr(t)})},t.prototype.Lr=function(t,e){var n=this;return Kd(t).get(Yd(e)).next(function(t){var e=n.Mr(t);return e?{hi:e,size:jd(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=yh();return this.Br(t,e,function(t,e){var i=n.Mr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=yh(),i=new hh(uc.H);return this.Br(t,e,function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,jd(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return _f.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return Kd(t).hs({range:r},function(t,e,r){for(var s=uc.Et(t);o&&uc.H(o,s)<0;)n(o,null),o=i.oe();o&&o.isEqual(s)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=_h(),o=e.path.length+1,s={};if(n.isEqual(rc.min())){var a=e.path.it();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=ud(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Gf.collectionReadTimeIndex}return Kd(t).hs(s,function(t,n,s){if(t.length===o){var a=sd(r.Qt,n);e.path.nt(a.key.path)?a instanceof Fc&&El(e,a)&&(i=i.zt(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new Wd(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return $d(t).get(Qf.key).next(function(t){return Vu(!!t),t})},t.prototype.kr=function(t,e){return $d(t).put(Qf.key,e)},t.prototype.Mr=function(t){if(t){var e=sd(this.Qt,t);return e instanceof qc&&e.version.isEqual(rc.min())?null:e}return null},t}(),Wd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new Sd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Iu.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new ph(function(t,e){return Hu(t.rt(),e.rt())});return this.ri.forEach(function(o,s){var a=e.Gr.get(o);if(s.hi){var u=ad(e.jr.Qt,s.hi,e.ci(o));i=i.add(o.path.X());var c=jd(u);r+=c-a,n.push(e.jr.ai(t,o,u))}else if(r-=a,e.Wr){var l=ad(e.jr.Qt,new qc(o,rc.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),_f.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(Td);function $d(t){return nd(t,Qf.store)}function Kd(t){return nd(t,Gf.store)}function Yd(t){return t.path.it()}var Xd=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;Vu(n<r&&n>=0&&r<=11);var o=new wf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Uf.store)}(t),function(t){t.createObjectStore(Ff.store,{keyPath:Ff.keyPath}),t.createObjectStore(qf.store,{keyPath:qf.keyPath,autoIncrement:!0}).createIndex(qf.userMutationsIndex,qf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Hf.store)}(t),Jd(t),function(t){t.createObjectStore(Gf.store)}(t));var s=_f.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore($f.store),t.deleteObjectStore(Wf.store),t.deleteObjectStore(Kf.store)}(t),Jd(t)),s=s.next(function(){return function(t){var e=t.store(Kf.store),n=new Kf(0,0,rc.min().j(),0);return e.put(Kf.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(qf.store).rs().next(function(n){t.deleteObjectStore(qf.store),t.createObjectStore(qf.store,{keyPath:qf.keyPath,autoIncrement:!0}).createIndex(qf.userMutationsIndex,qf.userMutationsKeyPath,{unique:!0});var r=e.store(qf.store),i=n.map(function(t){return r.put(t)});return _f.Mn(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Xf.store,{keyPath:Xf.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.zr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Qf.store)}(t),i.Hr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Jr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Gf.store);e.createIndex(Gf.readTimeIndex,Gf.readTimeIndexPath,{unique:!1}),e.createIndex(Gf.collectionReadTimeIndex,Gf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Xr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Jf.store,{keyPath:Jf.keyPath})}(t),function(t){t.createObjectStore(Zf.store,{keyPath:Zf.keyPath})}(t)})),s},t.prototype.Hr=function(t){var e=0;return t.store(Gf.store).hs(function(t,n){e+=jd(n)}).next(function(){var n=new Qf(e);return t.store(Qf.store).put(Qf.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(Ff.store),r=t.store(qf.store);return n.rs().next(function(n){return _f.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(qf.userMutationsIndex,i).next(function(r){return _f.forEach(r,function(r){Vu(r.userId===n.userId);var i=fd(e.Qt,r);return Id(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store($f.store),n=t.store(Gf.store);return t.store(Kf.store).get(Kf.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new oc(n),s=function(t){return[0,Nf(t)]}(o);r.push(e.get(s).next(function(n){return n?_f.resolve():function(n){return e.put(new $f(0,Nf(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return _f.Mn(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(Yf.store,{keyPath:Yf.keyPath});var n=e.store(Yf.store),r=new _d,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:Nf(i)})}};return e.store(Gf.store).hs({us:!0},function(t,e){var n=new oc(t);return i(n.X())}).next(function(){return e.store(Hf.store).hs({us:!0},function(t,e){var n=Df(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(Wf.store);return n.hs(function(t,r){var i=dd(r),o=pd(e.Qt,i);return n.put(o)})},t}();function Jd(t){t.createObjectStore($f.store,{keyPath:$f.keyPath}).createIndex($f.documentTargetsIndex,$f.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Wf.store,{keyPath:Wf.keyPath}).createIndex(Wf.queryTargetsIndexName,Wf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Kf.store)}var Zd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",tp=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=s,this.document=a,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new Wu(Qu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Bd(this,i),this.ho=n+"main",this.Qt=new od(u),this.lo=new Of(this.ho,11,new Xd(this.Qt)),this._o=new Rd(this.Ti,this.Qt),this.Ei=new wd,this.fo=function(t,e){return new Qd(t,e)}(this.Qt,this.Ei),this.wo=new bd,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&Nu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Wu(Qu.FAILED_PRECONDITION,Zd);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new ec(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(Iu.b)(e,void 0,void 0,function(){return Object(Iu.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(Iu.b)(e,void 0,void 0,function(){return Object(Iu.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(Iu.b)(e,void 0,void 0,function(){return Object(Iu.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return np(e).put(new Xf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(xf(e))return Mu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Mu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return ep(t).get(Uf.key).next(function(t){return _f.resolve(e.Do(t))})},t.prototype.Co=function(t){return np(t).delete(this.clientId)},t.prototype.xo=function(){return Object(Iu.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Iu.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=nd(t,Xf.store);return e.rs().next(function(t){var n=r.$o(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return _f.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?_f.resolve(!0):ep(t).get(Uf.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new Wu(Qu.FAILED_PRECONDITION,Zd);return!1}}return!(!e.networkEnabled||!e.inForeground)||np(t).rs().next(function(t){return void 0===e.$o(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Mu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ko=function(){return Object(Iu.b)(this,void 0,void 0,function(){var t=this;return Object(Iu.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[Uf.store,Xf.store],function(e){var n=new ed(e,ec.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return np(e).rs().next(function(e){return t.$o(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return kd.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Mu("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",td,function(o){return r=new ed(o,i.so?i.so.next():ec.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw Nu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new Wu(Qu.FAILED_PRECONDITION,Pf);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return ep(t).get(Uf.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Wu(Qu.FAILED_PRECONDITION,Zd)})},t.prototype.So=function(t){var e=new Uf(this.clientId,this.allowTabSynchronization,Date.now());return ep(t).put(Uf.key,e)},t.Kn=function(){return Of.Kn()},t.prototype.vo=function(t){var e=this,n=ep(t);return n.get(Uf.key).next(function(t){return e.Do(t)?(Mu("IndexedDbPersistence","Releasing primary lease."),n.delete(Uf.key)):_f.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Nu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps(function(){return e.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return Mu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Nu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){Nu("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ep(t){return nd(t,Uf.store)}function np(t){return nd(t,Xf.store)}function rp(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ip=function(t,e){this.progress=t,this.Go=e},op=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=yh();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=mh();return i.forEach(function(t,e){e||(e=new qc(t,rc.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return uc.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):bl(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new uc(e)).next(function(t){var e=_h();return t instanceof Fc&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=_h();return this.Ei.Us(t,i).next(function(s){return _f.forEach(s,function(s){var a=function(t,e){return new cl(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.nc(t,a,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=$l(u,r.get(c),o.vs);r=l instanceof Fc?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){El(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=Ch(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Zl&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof Fc&&(c=c.zt(t,e))}),c})},t}(),sp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=Ch(),i=Ch(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ap=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(rc.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var s=i.hc(e,o);return(fl(e)||dl(e))&&i.lc(e.limitType,s,r,n)?i.uc(t,e):(Pu()<=Ci.a.DEBUG&&Mu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ol(e)),i.ac.Kr(t,e,n).next(function(t){return s.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new ph(Cl(t));return e.forEach(function(e,r){r instanceof Fc&&El(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return Pu()<=Ci.a.DEBUG&&Mu("QueryEngine","Using full collection scan to execute query:",Ol(e)),this.ac.Kr(t,e,rc.min())},t}(),up=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new hh(Hu),this.dc=new Sd(function(t){return Gc(t)},Qc),this.wc=rc.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new op(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function cp(t,e,n,r){return new up(t,e,n,r)}function lp(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Iu.d)(this,function(s){switch(s.label){case 0:return n=Uu(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(s){return o=s,r=n.persistence.Qo(e),i=new op(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],s=Ch(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,b=p.mutations;g<b.length;g++)s=s.add(b[g].key)}return i.Xo(t,s).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=s.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function hp(t,e){var n=Uu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=_f.resolve();return o.forEach(function(t){s=s.next(function(){return r._i(e,t)}).next(function(e){var o=e,s=n.$s.get(t);Vu(null!==s),(!o||o.version._(s)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),s.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}function fp(t){var e=Uu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function dp(t,e){var n=Uu(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var s=[];e.$e.forEach(function(e,o){var a=i.get(o);if(a){s.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var u=e.resumeToken;if(u.l()>0){var c=a.Mt(u,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return Vu(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,c,e)&&s.push(n._o.Hi(t,c))}}});var a=mh();if(e.Oe.forEach(function(r,i){e.ke.has(r)&&s.push(n.persistence.Ti.Fr(t,r))}),s.push(pp(t,o,e.Oe,r,void 0).next(function(t){a=t})),!r.isEqual(rc.min())){var u=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});s.push(u)}return _f.Mn(s).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,a)})}).then(function(t){return n.fc=i,t})}function pp(t,e,n,r,i){var o=Ch();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=mh();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s instanceof qc&&s.version.isEqual(rc.min())?(e.li(n,u),o=o.zt(n,s)):null==a||s.version._(a.version)>0||0===s.version._(a.version)&&a.hasPendingWrites?(e.ai(s,u),o=o.zt(n,s)):Mu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function gp(t,e){var n=Uu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function bp(t,e){var n=Uu(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?_f.resolve(r=i):n._o.Bi(t).next(function(i){return r=new Sl(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function mp(t,e,n){return Object(Iu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Iu.d)(this,function(a){switch(a.label){case 0:r=Uu(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!xf(s=a.sent()))throw s;return Mu("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function yp(t,e,n){var r=Uu(t),i=rc.min(),o=Ch();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Uu(t),i=r.dc.get(n);return void 0!==i?_f.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,yl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:rc.min(),n?o:Ch())}).next(function(t){return{documents:t,Rc:o}})})}function vp(t,e){var n=Uu(t),r=Uu(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function _p(t){var e=Uu(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Uu(t),i=mh(),o=ud(n),s=Kd(e),a=IDBKeyRange.lowerBound(o,!0);return s.hs({index:Gf.readTimeIndex,range:a},function(t,e){var n=sd(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:cd(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function wp(t){return Object(Iu.b)(this,void 0,void 0,function(){var e;return Object(Iu.d)(this,function(n){return[2,(e=Uu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Kd(t),n=rc.min();return e.hs({index:Gf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=cd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function Op(t,e,n,r){return Object(Iu.b)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,f,d;return Object(Iu.d)(this,function(p){switch(p.label){case 0:for(i=Uu(t),o=Ch(),s=mh(),a=Oh(),u=0,c=n;u<c.length;u++)h=e.Pc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),a=a.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,bp(i,function(t){return yl(hl(oc.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return pp(t,f,s,rc.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Ep(t,e,n){return void 0===n&&(n=Ch()),Object(Iu.b)(this,void 0,void 0,function(){var r,i;return Object(Iu.d)(this,function(o){switch(o.label){case 0:return[4,bp(t,yl(gd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Uu(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Gh(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var s=r.Mt(Gu.T,o);return i.fc=i.fc.zt(s.targetId,s),i._o.Hi(t,s).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.Ls(t,e)})})]}})})}var Cp=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return _f.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Gh(n.createTime)}),_f.resolve()},t.prototype.Ms=function(t,e){return _f.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:gd(t.bundledQuery),readTime:Gh(t.readTime)}}(e)),_f.resolve()},t}(),xp=function(){function t(){this.vc=new ph(Sp.Sc),this.Dc=new ph(Sp.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new Sp(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new Sp(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Fc=function(t){var e=this,n=new uc(new oc([])),r=new Sp(n,t),i=new Sp(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.Oc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new uc(new oc([])),n=new Sp(e,t),r=new Sp(e,t+1),i=Ch();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Fi=function(t){var e=new Sp(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),Sp=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return uc.H(t.key,e.key)||Hu(t.Mc,e.Mc)},t.Cc=function(t,e){return Hu(t.Mc,e.Mc)||uc.H(t.key,e.key)},t}(),Tp=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new ph(Sp.Sc)}return t.prototype.Ai=function(t){return _f.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var o=new rd(i,e,n,r);this.zo.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Bc=this.Bc.add(new Sp(u.key,i)),this.Ei.qs(t,u.key.path.X())}return _f.resolve(o)},t.prototype.Pi=function(t,e){return _f.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return _f.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return _f.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return _f.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new Sp(e,0),i=new Sp(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Mc);o.push(e)}),_f.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new ph(Hu);return e.forEach(function(t){var e=new Sp(t,0),i=new Sp(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Mc)})}),_f.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;uc.wt(i)||(i=i.child(""));var o=new Sp(new uc(i),0),s=new ph(Hu);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(s=s.add(t.Mc)),!0)},o),_f.resolve(this.Qc(s))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;Vu(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return _f.forEach(e.mutations,function(i){var o=new Sp(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new Sp(e,0),r=this.Bc.Re(n);return _f.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return _f.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),Ip=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new hh(uc.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:s,readTime:n}),this.size+=s-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return _f.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=yh();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),_f.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=_h(),i=new uc(e.path.child("")),o=this.docs.ee(i);o.ce();){var s=o.oe(),a=s.value,u=a.hi,c=a.readTime;if(!e.path.nt(s.key.path))break;c._(n)<=0||u instanceof Fc&&El(e,u)&&(r=r.zt(u.key,u))}return _f.resolve(r)},t.prototype.jc=function(t,e){return _f.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new jp(this)},t.prototype.Or=function(t){return _f.resolve(this.size)},t}(),jp=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(Iu.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),_f.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(Td),kp=function(){function t(t){this.persistence=t,this.Gc=new Sd(function(t){return Gc(t)},Qc),this.lastRemoteSnapshotVersion=rc.min(),this.highestTargetId=0,this.zc=0,this.Hc=new xp,this.targetCount=0,this.Jc=Ld.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),_f.resolve()},t.prototype.Qi=function(t){return _f.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return _f.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),_f.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),_f.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new Ld(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,_f.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),_f.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,_f.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(s),o.push(r.Yi(t,a.targetId)),i++)}),_f.Mn(o).next(function(){return i})},t.prototype.Zi=function(t){return _f.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return _f.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),_f.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),_f.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),_f.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return _f.resolve(n)},t.prototype.Fi=function(t,e){return _f.resolve(this.Hc.Fi(e))},t}(),Ap=function(){function t(t,e){var n=this;this.Yc={},this.so=new ec(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new kp(this),this.Ei=new vd,this.fo=function(t,e){return new Ip(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new od(e),this.wo=new Cp(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new Tp(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;Mu("MemoryPersistence","Starting transaction:",t);var i=new Pp(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).On().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return _f.Ln(Object.values(this.Yc).map(function(n){return function(){return n.Fi(t,e)}}))},t}(),Pp=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(Iu.c)(e,t),e}(Mf),Mp=function(){function t(t){this.persistence=t,this.na=new xp,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw Du()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),_f.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),_f.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),_f.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return _f.forEach(this.ra,function(r){var i=uc._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return _f.Ln([function(){return _f.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function Np(t,e){return"firestore_clients_"+t+"_"+e}function Lp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function Rp(t,e){return"firestore_targets_"+t+"_"+e}var Dp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Wu(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Nu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Wu(i.error.code,i.error.message)),o?new t(e,i.state,r):(Nu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Up=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Sh(),s=0;i&&s<r.activeTargetIds.length;++s)i=Oc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Nu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Fp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Nu("SharedClientState","Failed to parse online state: "+e),null)},t}(),qp=function(){function t(){this.activeTargetIds=Sh()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Hp=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new hh(Hu),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=Np(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new qp),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Iu.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return Object(Iu.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(Np(this.persistenceKey,r)))&&(o=Up.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(a=this.pa(s))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)this.wa(c[u]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(Rp(this.persistenceKey,t));if(n){var r=Vp.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(Rp(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.$a(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Mu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Mu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Mu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Mu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void Nu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(Iu.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Iu.d)(this,function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=ec.q;if(null!=t)try{var n=JSON.parse(t);Vu("number"==typeof n),e=n}catch(t){Nu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ec.q&&this.k(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new Dp(this.currentUser,t,e,n),i=Lp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=Lp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=Rp(this.persistenceKey,t),i=new Vp(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return Up.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return Dp.ca(new Ku(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Vp.ca(r,e)},t.prototype.pa=function(t){return Fp.ca(t)},t.prototype.Ya=function(t){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(Mu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this._a.su(s,a).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=Sh();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),zp=function(){function t(){this.iu=new qp,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new qp,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Bp=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),Gp=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){Mu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){Mu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Qp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Wp=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),$p=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(Iu.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var s=new Tu;s.listenOnce(Cu.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Eu.NO_ERROR:var e=s.getResponseJson();Mu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Eu.TIMEOUT:Mu("Connection",'RPC "'+t+'" timed out'),o(new Wu(Qu.DEADLINE_EXCEEDED,"Request time out"));break;case Eu.HTTP_ERROR:var n=s.getStatus();if(Mu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Qu).indexOf(e)>=0?e:Qu.UNKNOWN}(r.status);o(new Wu(a,r.message))}else o(new Wu(Qu.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Wu(Qu.UNAVAILABLE,"Connection failed."));break;default:Du()}}finally{Mu("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new yu,i=ws(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(xi.m)()||Object(xi.o)()||Object(xi.k)()||Object(xi.l)()||Object(xi.p)()||Object(xi.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Mu("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Wp({fu:function(t){c?Mu("Connection","Not sending because WebChannel is closed:",t):(u||(Mu("Connection","Opening WebChannel transport."),a.open(),u=!0),Mu("Connection","WebChannel sending:",t),a.send(t))},du:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Su.EventType.OPEN,function(){c||Mu("Connection","WebChannel transport opened.")}),h(a,Su.EventType.CLOSE,function(){c||(c=!0,Mu("Connection","WebChannel transport closed"),l.Ru())}),h(a,Su.EventType.ERROR,function(t){c||(c=!0,Lu("Connection","WebChannel transport errored:",t),l.Ru(new Wu(Qu.UNAVAILABLE,"The operation could not be completed")))}),h(a,Su.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Vu(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Mu("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=ih[t];if(void 0!==e)return lh(e)}(i),s=r.message;void 0===o&&(o=Qu.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new Wu(o,s)),a.close()}else Mu("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,xu.STAT_EVENT,function(t){10===t.stat?Mu("Connection","Detected buffering proxy"):11===t.stat&&Mu("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);Mu("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return Mu("RestConnection","Received: ",t),t},function(e){throw Lu("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+Qp[t]},t}());function Kp(){return"undefined"!=typeof window?window:null}function Yp(){return"undefined"!=typeof document?document:null}function Xp(t){return new qh(t,!0)}var Jp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&Mu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,function(){return e.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),Zp=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new Jp(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Qu.RESOURCE_EXHAUSTED?(Nu(e.toString()),Nu("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===Qu.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new Wu(Qu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return Object(Iu.b)(t,void 0,void 0,function(){return Object(Iu.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return Mu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(Mu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),tg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,s}return Object(Iu.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Du()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(Vu(void 0===e||"string"==typeof e),Gu.fromBase64String(e||"")):(Vu(void 0===e||e instanceof Uint8Array),Gu.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Qu.UNKNOWN:lh(t.code);return new Wu(e,t.message||"")}(a);n=new Nh(r,i,o,s||null)}else if("documentChange"in e){i=Kh(t,(r=e.documentChange).document.name),o=Gh(r.document.updateTime);var a=new Rc({mapValue:{fields:r.document.fields}}),u=(s=new Fc(i,o,a,{}),r.targetIds||[]);n=new Ph(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Kh(t,(r=e.documentDelete).document),o=r.readTime?Gh(r.readTime):rc.min(),a=new qc(i,o),n=new Ph([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Kh(t,(r=e.documentRemove).document),n=new Ph([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Du();var c=e.filter;i=new uh(r=c.count||0),n=new Mh(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return rc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?rc.min():e.readTime?Gh(e.readTime):rc.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=Jh(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=Wc(r)?{documents:of(t,r)}:{query:sf(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=zh(t,e.resumeToken):e.Ot._(rc.min())>0&&(n.readTime=Hh(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Du()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=Jh(this.Qt),e.removeTarget=t,this.th(e)},e}(Zp),eg=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,s.lh=!1,s}return Object(Iu.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(Vu(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(Vu(void 0!==e),t.map(function(t){return function(t,e){var n=Gh(t.updateTime?t.updateTime:e);n.isEqual(rc.min())&&(n=Gh(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new zl(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Gh(t.commitTime);return this.listener.dh(n,e)}return Vu(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=Jh(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return nf(e.Qt,t)})};this.th(n)},e}(Zp),ng=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(Iu.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new Wu(Qu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===Qu.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===Qu.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),rg=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(Nu(e),this.Rh=!1):Mu("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),ig=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(t){n.Ps(function(){return Object(Iu.b)(o,void 0,void 0,function(){return Object(Iu.d)(this,function(t){switch(t.label){case 0:return dg(this)?(Mu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Iu.b)(this,void 0,void 0,function(){var e;return Object(Iu.d)(this,function(n){switch(n.label){case 0:return(e=Uu(t)).Nh.add(4),[4,sg(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,og(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Oh=new rg(n,r)};function og(t){return Object(Iu.b)(this,void 0,void 0,function(){var e,n;return Object(Iu.d)(this,function(r){switch(r.label){case 0:if(!dg(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function sg(t){return Object(Iu.b)(this,void 0,void 0,function(){var e,n;return Object(Iu.d)(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ag(t,e){var n=Uu(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),fg(n)?hg(n):Ig(n).Hu()&&cg(n,e))}function ug(t,e){var n=Uu(t),r=Ig(n);n.xh.delete(e),r.Hu()&&lg(n,e),0===n.xh.size&&(r.Hu()?r.Xu():dg(n)&&n.Oh.set("Unknown"))}function cg(t,e){t.kh.on(e.targetId),Ig(t).uh(e)}function lg(t,e){t.kh.on(e),Ig(t).hh(e)}function hg(t){t.kh=new Rh({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),Ig(t).start(),t.Oh.Ph()}function fg(t){return dg(t)&&!Ig(t).zu()&&t.xh.size>0}function dg(t){return 0===Uu(t).Nh.size}function pg(t){t.kh=void 0}function gg(t){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(e){return t.xh.forEach(function(e,n){cg(t,e)}),[2]})})}function bg(t,e){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(n){return pg(t),fg(t)?(t.Oh.Vh(e),hg(t)):t.Oh.set("Unknown"),[2]})})}function mg(t,e,n){return Object(Iu.b)(this,void 0,void 0,function(){var r,i,o;return Object(Iu.d)(this,function(s){switch(s.label){case 0:if(t.Oh.set("Online"),!(e instanceof Nh&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Iu.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Mh(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.xh.delete(o),t.kh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Mu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,yg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ph?t.kh.dn(e):e instanceof Mh?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(rc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,fp(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}}),n.Fe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(Gu.T,n.Ot)),lg(t,e);var r=new Sl(n.target,e,1,n.sequenceNumber);cg(t,r)}}),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Mu("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,yg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function yg(t,e,n){return Object(Iu.b)(this,void 0,void 0,function(){var r=this;return Object(Iu.d)(this,function(i){switch(i.label){case 0:if(!xf(e))throw e;return t.Nh.add(1),[4,sg(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return fp(t.bh)}),t._s.po(function(){return Object(Iu.b)(r,void 0,void 0,function(){return Object(Iu.d)(this,function(e){switch(e.label){case 0:return Mu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,og(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function vg(t,e){return e().catch(function(n){return yg(t,n,e)})}function _g(t){return Object(Iu.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Iu.d)(this,function(s){switch(s.label){case 0:e=Uu(t),n=jg(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return dg(t)&&t.Ch.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,gp(e.bh,r)];case 3:return null===(i=s.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=jg(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,yg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return wg(e)&&Og(e),[2]}})})}function wg(t){return dg(t)&&!jg(t).zu()&&t.Ch.length>0}function Og(t){jg(t).start()}function Eg(t){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(e){return jg(t).Eh(),[2]})})}function Cg(t){return Object(Iu.b)(this,void 0,void 0,function(){var e,n,r;return Object(Iu.d)(this,function(i){for(e=jg(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function xg(t,e,n){return Object(Iu.b)(this,void 0,void 0,function(){var r,i;return Object(Iu.d)(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=id.from(r,e,n),[4,vg(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,_g(t)];case 2:return o.sent(),[2]}})})}function Sg(t,e){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(n){switch(n.label){case 0:return e&&jg(t)._h?[4,function(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r;return Object(Iu.d)(this,function(i){switch(i.label){case 0:return ch(r=e.code)&&r!==Qu.ABORTED?(n=t.Ch.shift(),jg(t).Yu(),[4,vg(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,_g(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return wg(t)&&Og(t),[2]}})})}function Tg(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n;return Object(Iu.d)(this,function(r){switch(r.label){case 0:return n=Uu(t),e?(n.Nh.delete(2),[4,og(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,sg(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ig(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=Uu(t);return r.Ih(),new tg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:gg.bind(null,t),Tu:bg.bind(null,t),ah:mg.bind(null,t)}),t.$h.push(function(n){return Object(Iu.b)(e,void 0,void 0,function(){return Object(Iu.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),fg(t)?hg(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),pg(t),e.label=3;case 3:return[2]}})})})),t.Uh}function jg(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Uu(t);return r.Ih(),new eg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Eg.bind(null,t),Tu:Sg.bind(null,t),wh:Cg.bind(null,t),dh:xg.bind(null,t)}),t.$h.push(function(n){return Object(Iu.b)(e,void 0,void 0,function(){return Object(Iu.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,_g(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(Mu("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var kg=function(){this.Kh=void 0,this.listeners=[]},Ag=function(){this.queries=new Sd(function(t){return wl(t)},_l),this.onlineState="Unknown",this.Wh=new Set};function Pg(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Iu.d)(this,function(c){switch(c.label){case 0:if(n=Uu(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new kg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=c.sent(),[3,4];case 3:return a=c.sent(),u=Af(a,"Initialization of query '"+Ol(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&Rg(n),[2]}})})}function Mg(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Iu.d)(this,function(a){return n=Uu(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function Ng(t,e){for(var n=Uu(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].zh(s)&&(r=!0);a.Kh=s}}r&&Rg(n)}function Lg(t,e,n){var r=Uu(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Rg(t){t.Wh.forEach(function(t){t.next()})}var Dg=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new jh(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=jh.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),Vg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),Ug=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return Kh(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?ef(this.Qt,t.document,!1):new qc(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return Gh(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new Ug(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.Pc(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Ch()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Iu.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Iu.d)(this,function(o){switch(o.label){case 0:return[4,Op(this.bh,new Ug(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Ep(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ip(Object.assign({},this.progress),t))]}})})}}();var Fg=function(t){this.key=t},qg=function(t){this.key=t},Hg=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=Ch(),this.De=Ch(),this.hl=Cl(t),this.ll=new Th(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new Ih,i=e?e.ll:this.ll,o=e?e.De:this.De,s=i,a=!1,u=fl(this.query)&&i.size===this.query.limit?i.last():null,c=dl(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof Fc?e:null;h&&(h=El(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),fl(this.query)||dl(this.query))for(;s.size>this.query.limit;){var l=fl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:s,dl:r,lc:a,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Du()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var s=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==o.length||u?{snapshot:new jh(this.query,t.ll,i,o,t.De,0===a,u,!1),Il:s}:{Il:s}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new Ih,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=Ch(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new qg(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new Fg(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=Ch();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return jh.Ne(this.query,this.ll,this.De,0===this.al)},t}(),zg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Bg=function(t){this.key=t,this.Pl=!1},Gg=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new Sd(function(t){return wl(t)},_l),this.Sl=new Map,this.Dl=new Set,this.Cl=new hh(uc.H),this.xl=new Map,this.Nl=new xp,this.$l={},this.Fl=new Map,this.Ol=Ld.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function Qg(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Iu.d)(this,function(a){switch(a.label){case 0:return n=wb(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,bp(n.bh,yl(e))];case 2:return o=a.sent(),s=n.Vl.Fa(o.targetId),[4,Wg(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.Ml&&ag(n.yl,o),a.label=4;case 4:return[2,r]}})})}function Wg(t,e,n,r){return Object(Iu.b)(this,void 0,void 0,function(){var i,o,s,a,u,c;return Object(Iu.d)(this,function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(Iu.b)(this,void 0,void 0,function(){var i,o,s;return Object(Iu.d)(this,function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,yp(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.$e.get(e.targetId),s=e.view.wi(i,t.Ml,o),[2,(sb(t,e.targetId,s.Il),s.snapshot)]}})})}(t,e,n,r)},[4,yp(t.bh,e,!0)];case 1:return i=l.sent(),o=new Hg(e,i.Rc),s=o.fl(i.documents),a=Ah.Le(n,r&&"Offline"!==t.onlineState),u=o.wi(s,t.Ml,a),sb(t,n,u.Il),c=new zg(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}})})}function $g(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Iu.d)(this,function(o){switch(o.label){case 0:return n=Uu(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!_l(t,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,mp(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),ug(n.yl,r.targetId),ib(n,r.targetId)}).catch(xd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ib(n,r.targetId),[4,mp(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Kg(t,e,n){return Object(Iu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Iu.d)(this,function(a){switch(a.label){case 0:r=Ob(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Uu(t),i=nc.now(),o=e.reduce(function(t,e){return t.add(e.key)},Ch());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Kl(c,n.get(c.key));null!=l&&s.push(new Zl(c.key,l,Vc(l.proto.mapValue),Bl.exists(!0)))}return r.zo.Ri(t,i,s,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new hh(Hu)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,cb(r,i.ri)];case 3:return a.sent(),[4,_g(r.yl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Af(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Yg(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r;return Object(Iu.d)(this,function(i){switch(i.label){case 0:n=Uu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,dp(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(t,e){var r=n.xl.get(e);r&&(Vu(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?Vu(r.Pl):t.Qe.size>0&&(Vu(r.Pl),r.Pl=!1))}),[4,cb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,xd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Xg(t,e,n){var r=Uu(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Uu(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&Rg(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function Jg(t,e,n){return Object(Iu.b)(this,void 0,void 0,function(){var r,i,o,s,a,u;return Object(Iu.d)(this,function(c){switch(c.label){case 0:return(r=Uu(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new hh(uc.H)).zt(o,new qc(o,rc.min())),a=Ch().add(o),u=new kh(rc.min(),new Map,new ph(Hu),s,a),[4,Yg(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),ub(r),[3,4];case 2:return[4,mp(r.bh,e,!1).then(function(){return ib(r,e,n)}).catch(xd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Zg(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Iu.d)(this,function(o){switch(o.label){case 0:n=Uu(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,hp(n.bh,e)];case 2:return i=o.sent(),rb(n,r,null),nb(n,r),n.Vl.Na(r,"acknowledged"),[4,cb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,xd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function tb(t,e,n){return Object(Iu.b)(this,void 0,void 0,function(){var r,i;return Object(Iu.d)(this,function(o){switch(o.label){case 0:r=Uu(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Uu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return Vu(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),rb(r,e,n),nb(r,e),r.Vl.Na(e,"rejected",n),[4,cb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,xd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function eb(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Iu.d)(this,function(a){switch(a.label){case 0:dg((n=Uu(t)).yl)||Mu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Uu(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=a.sent(),s=Af(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function nb(t,e){(t.Fl.get(e)||[]).forEach(function(t){t.resolve()}),t.Fl.delete(e)}function rb(t,e,n){var r=Uu(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function ib(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(e){t.Nl.Fi(e)||ob(t,e)})}function ob(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(ug(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),ub(t))}function sb(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Fg?(t.Nl.nr(o.key,e),ab(t,o)):o instanceof qg?(Mu("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||ob(t,o.key)):Du()}}function ab(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(Mu("SyncEngine","New document in limbo: "+n),t.Dl.add(r),ub(t))}function ub(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new uc(oc.ot(e)),r=t.Ol.next();t.xl.set(r,new Bg(n)),t.Cl=t.Cl.zt(n,r),ag(t.yl,new Sl(yl(hl(n.path)),r,2,ec.q))}}function cb(t,e,n){return Object(Iu.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Iu.d)(this,function(a){switch(a.label){case 0:return r=Uu(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,a){s.push(r.Ll(a,e,n).then(function(t){if(t){r.Ml&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=sp.oc(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return Object(Iu.d)(this,function(l){switch(l.label){case 0:n=Uu(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return _f.forEach(e,function(e){return _f.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return _f.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!xf(r=l.sent()))throw r;return Mu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.fc.get(a),c=u.Lt(u.Ot),n.fc=n.fc.zt(a,c));return[2]}})})}(r.bh,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function lb(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r;return Object(Iu.d)(this,function(i){switch(i.label){case 0:return(n=Uu(t)).currentUser.isEqual(e)?[3,3]:(Mu("SyncEngine","User change. New user:",e.A()),[4,lp(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach(function(t){t.forEach(function(t){t.reject(new Wu(Qu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,cb(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function hb(t,e){var n=Uu(t),r=n.xl.get(e);if(r&&r.Pl)return Ch().add(r.key);var i=Ch(),o=n.Sl.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.vl.get(a[s]);i=i.Pe(u.view._l)}return i}function fb(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Iu.d)(this,function(o){switch(o.label){case 0:return[4,yp((n=Uu(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&sb(n,e.targetId,i.Il),i)]}})})}function db(t){return Object(Iu.b)(this,void 0,void 0,function(){var e;return Object(Iu.d)(this,function(n){return[2,_p((e=Uu(t)).bh).then(function(t){return cb(e,t)})]})})}function pb(t,e,n,r){return Object(Iu.b)(this,void 0,void 0,function(){var i,o;return Object(Iu.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Uu(t),r=Uu(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):_f.resolve(null)})})}((i=Uu(t)).bh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,_g(i.yl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(rb(i,e,r||null),nb(i,e),function(t,e){Uu(Uu(t).zo).xi(e)}(i.bh,e)):Du(),s.label=4;case 4:return[4,cb(i,o)];case 5:return s.sent(),[3,7];case 6:Mu("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function gb(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return Object(Iu.d)(this,function(c){switch(c.label){case 0:return wb(n=Uu(t)),Ob(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,bb(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,Tg(n.yl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)ag(n.yl,s[o]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(a=[],u=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.Ma(e)?a.push(e):u=u.then(function(){return ib(n,e),mp(n.bh,e,!0)}),ug(n.yl,e)}),[4,u]);case 4:return c.sent(),[4,bb(n,a)];case 5:return c.sent(),function(t){var e=Uu(t);e.xl.forEach(function(t,n){ug(e.yl,n)}),e.Nl.Oc(),e.xl=new Map,e.Cl=new hh(uc.H)}(n),n.kl=!1,[4,Tg(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function bb(t,e,n){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,f,d,p;return Object(Iu.d)(this,function(g){switch(g.label){case 0:n=Uu(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(u=void 0,(c=n.Sl.get(a=s[o]))&&0!==c.length?[4,bp(n.bh,yl(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,fb(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,vp(n.bh,a)];case 8:return p=g.sent(),[4,bp(n.bh,p)];case 9:return u=g.sent(),[4,Wg(n,mb(p),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function mb(t){return ll(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function yb(t){var e=Uu(t);return Uu(Uu(e.bh).persistence).Uo()}function vb(t,e,n,r){return Object(Iu.b)(this,void 0,void 0,function(){var i,o,s;return Object(Iu.d)(this,function(a){switch(a.label){case 0:return(i=Uu(t)).kl?(Mu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,_p(i.bh)];case 3:return o=a.sent(),s=kh.Me(e,"current"===n),[4,cb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,mp(i.bh,e,!0)];case 6:return a.sent(),ib(i,e,r),[3,8];case 7:Du(),a.label=8;case 8:return[2]}})})}function _b(t,e,n){return Object(Iu.b)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return Object(Iu.d)(this,function(f){switch(f.label){case 0:if(!(r=wb(t)).kl)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(s=o[i])?(Mu("SyncEngine","Adding an already active target "+s),[3,5]):[4,vp(r.bh,s)]:[3,6];case 2:return a=f.sent(),[4,bp(r.bh,a)];case 3:return u=f.sent(),[4,Wg(r,mb(a),u.targetId,!1)];case 4:f.sent(),ag(r.yl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Iu.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,mp(r.bh,t,!1).then(function(){ug(r.yl,t),ib(r,t)}).catch(xd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function wb(t){var e=Uu(t);return e.yl.Dh.Lh=Yg.bind(null,e),e.yl.Dh.vn=hb.bind(null,e),e.yl.Dh.Mh=Jg.bind(null,e),e.bl.ah=Ng.bind(null,e.gl),e.bl.Bl=Lg.bind(null,e.gl),e}function Ob(t){var e=Uu(t);return e.yl.Dh.Bh=Zg.bind(null,e),e.yl.Dh.qh=tb.bind(null,e),e}var Eb=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(e){switch(e.label){case 0:return this.Qt=Xp(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return cp(this.persistence,new ap,t.Jl,this.Qt)},t.prototype.jl=function(t){return new Ap(Mp.ia,this.Qt)},t.prototype.Wl=function(t){return new zp},t.prototype.terminate=function(){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},t}(),Cb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Iu.c)(e,t),e.prototype.initialize=function(e){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,wp(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,Ob(this.Yl._a)];case 4:return n.sent(),[4,_g(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return cp(this.persistence,new ap,t.Jl,this.Qt)},e.prototype.zl=function(t){return new Hd(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=rp(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?Cd.Ys(this.cacheSizeBytes):Cd.ti;return new tp(this.synchronizeTabs,e,t.clientId,n,t._s,Kp(),Yp(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new zp},e}(Eb),xb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Iu.c)(e,t),e.prototype.initialize=function(e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r=this;return Object(Iu.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof Hp?(this.Vl._a={eu:pb.bind(null,n),nu:vb.bind(null,n),su:_b.bind(null,n),Uo:yb.bind(null,n),tu:db.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(Iu.b)(r,void 0,void 0,function(){return Object(Iu.d)(this,function(e){switch(e.label){case 0:return[4,gb(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=Kp();if(!Hp.Kn(e))throw new Wu(Qu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=rp(t.yu.t,t.yu.persistenceKey);return new Hp(e,t._s,n,t.clientId,t.Jl)},e}(Cb),Sb=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n=this;return Object(Iu.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Xg(n._a,t,1)},this.yl.Dh.n_=lb.bind(null,this._a),[4,Tg(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new Ag},t.prototype.Xl=function(t){var e=Xp(t.yu.t),n=new $p(t.yu);return function(t,e,n){return new ng(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,s=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Xg(s._a,t,0)},o=Gp.Kn()?new Gp:new Bp,new ig(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,s){var a=new Gg(t,e,n,r,i,o);return s&&(a.kl=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(Iu.b)(this,void 0,void 0,function(){var e;return Object(Iu.d)(this,function(n){switch(n.label){case 0:return e=Uu(t),Mu("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,sg(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}})})}(this.yl)},t}(),Tb=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Ib=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new vf,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(Iu.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Iu.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new Vg(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(Iu.b)(this,void 0,void 0,function(){var t,e;return Object(Iu.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(Iu.b)(this,void 0,void 0,function(){var e;return Object(Iu.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(Iu.b)(this,void 0,void 0,function(){var t,e;return Object(Iu.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Wu(Qu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new ac(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),jb=function(t){this._methodName=t},kb=function(t){this.d_=t};function Ab(t,e,n){if(!n)throw new Wu(Qu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Pb(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Wu(Qu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Mb(t,e,n,r){if(!0===e&&!0===r)throw new Wu(Qu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Nb(t){if(!uc.wt(t))throw new Wu(Qu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Lb(t){if(uc.wt(t))throw new Wu(Qu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Rb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Du()}function Db(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Wu(Qu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Rb(t);throw new Wu(Qu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Vb(t,e){if(e<=0)throw new Wu(Qu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ub=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Wu(Qu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Wu(Qu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Mb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Fb=new Map,qb=function(){function t(t,e){this.w_="(lite)",this.E_=new Ub({}),this.T_=!1,t instanceof ku?(this.I_=t,this.m_=new Xu):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Wu(Qu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(t.options.projectId)}(t),this.m_=new Ju(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Wu(Qu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Wu(Qu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Ub(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Xu;switch(t.type){case"gapi":var e=t.client;return Vu(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new tc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Wu(Qu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Fb.get(this))&&(Mu("ComponentProvider","Removing Datastore"),Fb.delete(this),t.terminate()),Promise.resolve();var t},t}(),Hb=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Bb(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),zb=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Bb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,hl(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Iu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new Hb(this.firestore,null,new uc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(zb);function Gb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof kb&&(t=t.d_),Ab("collection","path",e),t instanceof qb)return Lb(n=oc.ot.apply(oc,Object(Iu.g)([e],r))),new Bb(t,null,n);if(!(t instanceof Hb||t instanceof Bb))throw new Wu(Qu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Lb(n=oc.ot.apply(oc,Object(Iu.g)([t.path],r)).child(oc.ot(e))),new Bb(t.firestore,null,n)}function Qb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof kb&&(t=t.d_),1===arguments.length&&(e=qu.u()),Ab("doc","path",e),t instanceof qb)return Nb(n=oc.ot.apply(oc,Object(Iu.g)([e],r))),new Hb(t,null,new uc(n));if(!(t instanceof Hb||t instanceof Bb))throw new Wu(Qu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Nb(n=t.D_.child(oc.ot.apply(oc,Object(Iu.g)([e],r)))),new Hb(t.firestore,t instanceof Bb?t.v_:null,new uc(n))}function Wb(t,e){return t instanceof kb&&(t=t.d_),e instanceof kb&&(e=e.d_),(t instanceof Hb||t instanceof Bb)&&(e instanceof Hb||e instanceof Bb)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function $b(t,e){return t instanceof kb&&(t=t.d_),e instanceof kb&&(e=e.d_),t instanceof zb&&e instanceof zb&&t.firestore===e.firestore&&_l(t.C_,e.C_)&&t.v_===e.v_}var Kb=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Wu(Qu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Wu(Qu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return Hu(this.x_,t.x_)||Hu(this.N_,t.N_)},t}(),Yb=/^__.*__$/,Xb=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new Zl(t,this.data,this.Gt,e,this.fieldTransforms):new Jl(t,this.data,e,this.fieldTransforms)},t}(),Jb=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Zl(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function Zb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Du()}}var tm=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return _m(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Zb(this.k_)&&Yb.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),em=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Xp(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new tm({k_:t,methodName:e,j_:n,path:ac.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function nm(t){var e=t.p_(),n=Xp(t.I_);return new em(t.I_,!!e.ignoreUndefinedProperties,n)}function rm(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);bm("Data must be an object, but it was:",s,r);var a,u,c=pm(r,s);if(o.merge)a=new fc(s.Gt),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=mm(e,f[h],n);if(!s.contains(d))throw new Wu(Qu.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");wm(l,d)||l.push(d)}a=new fc(l),u=s.fieldTransforms.filter(function(t){return a.Tt(t.field)})}else a=null,u=s.fieldTransforms;return new Xb(new Rc(c),a,u)}var im=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Iu.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(jb);function om(t,e,n){return new tm({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var sm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Iu.c)(e,t),e.prototype.z_=function(t){return new Hl(t.path,new Nl)},e.prototype.isEqual=function(t){return t instanceof e},e}(jb),am=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Iu.c)(e,t),e.prototype.z_=function(t){var e=om(this,t,!0),n=this.H_.map(function(t){return dm(t,e)}),r=new Ll(n);return new Hl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(jb),um=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Iu.c)(e,t),e.prototype.z_=function(t){var e=om(this,t,!0),n=this.H_.map(function(t){return dm(t,e)}),r=new Dl(n);return new Hl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(jb),cm=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Iu.c)(e,t),e.prototype.z_=function(t){var e=new Ul(t.Qt,jl(t.Qt,this.J_));return new Hl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(jb);function lm(t,e,n,r){var i=t.G_(1,e,n);bm("Data must be an object, but it was:",i,r);var o=[],s=new Dc;lc(r,function(t,r){var a=vm(e,t,n);r instanceof kb&&(r=r.d_);var u=i.U_(a);if(r instanceof im)o.push(a);else{var c=dm(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new fc(o);return new Jb(s.Pt(),a,i.fieldTransforms)}function hm(t,e,n,r,i,o){var s=t.G_(1,e,n),a=[mm(e,r,n)],u=[i];if(o.length%2!=0)throw new Wu(Qu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(mm(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Dc,f=a.length-1;f>=0;--f)if(!wm(l,a[f])){var d=a[f],p=u[f];p instanceof kb&&(p=p.d_);var g=s.U_(d);if(p instanceof im)l.push(d);else{var b=dm(p,g);null!=b&&(l.push(d),h.set(d,b))}}var m=new fc(l);return new Jb(h.Pt(),m,s.fieldTransforms)}function fm(t,e,n,r){return void 0===r&&(r=!1),dm(n,t.G_(r?4:3,e))}function dm(t,e){if(t instanceof kb&&(t=t.d_),gm(t))return bm("Unsupported field value:",e,t),pm(t,e);if(t instanceof jb)return function(t,e){if(!Zb(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=dm(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof kb&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jl(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=nc.fromDate(t);return{timestampValue:Hh(e.Qt,n)}}if(t instanceof nc)return n=new nc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Hh(e.Qt,n)};if(t instanceof Kb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $u)return{bytesValue:zh(e.Qt,t.I)};if(t instanceof Hb){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Qh(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+Rb(t))}(t,e)}function pm(t,e){var n={};return hc(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):lc(t,function(t,r){var i=dm(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function gm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof nc||t instanceof Kb||t instanceof $u||t instanceof Hb||t instanceof jb)}function bm(t,e,n){if(!gm(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Rb(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function mm(t,e,n){if(e instanceof kb&&(e=e.d_),e instanceof Ib)return e.f_;if("string"==typeof e)return vm(t,e);throw _m("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var ym=new RegExp("[~\\*/\\[\\]]");function vm(t,e,n){if(e.search(ym)>=0)throw _m("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Ib.bind.apply(Ib,Object(Iu.g)([void 0],e.split("."))))).f_}catch(r){throw _m("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function _m(t,e,n,r,i){var o=r&&!r.et(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Wu(Qu.INVALID_ARGUMENT,(a+=". ")+t+u)}function wm(t,e){return t.some(function(t){return t.isEqual(e)})}var Om=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Iu.b)(this,void 0,void 0,function(){var e,n=this;return Object(Iu.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Wu(Qu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Iu.d)(this,function(u){switch(u.label){case 0:return n=Uu(t),r=Jh(n.Qt)+"/documents",i={documents:e.map(function(t){return $h(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Vu(!!e.found);var n=Kh(t,e.found.name),r=Gh(e.found.updateTime),i=new Rc({mapValue:{fields:e.found.fields}});return new Fc(n,r,i,{})}(t,e):"missing"in e?function(t,e){Vu(!!e.missing),Vu(!!e.readTime);var n=Kh(t,e.missing),r=Gh(e.readTime);return new qc(n,r)}(t,e):Du()}(n.Qt,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Vu(!!e),a.push(e)}),a)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof qc||t instanceof Fc?n.sf(t):Du()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new sh(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Iu.b)(this,void 0,void 0,function(){var t,e=this;return Object(Iu.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=uc._t(n);e.mutations.push(new ah(r,e.jt(r)))}),[4,function(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Iu.d)(this,function(o){switch(o.label){case 0:return n=Uu(t),r=Jh(n.Qt)+"/documents",i={writes:e.map(function(t){return nf(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof Fc)e=t.version;else{if(!(t instanceof qc))throw Du();e=rc.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Wu(Qu.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Bl.updateTime(e):Bl.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(rc.min()))throw new Wu(Qu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bl.updateTime(e)}return Bl.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Em=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new Jp(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu(function(){return Object(Iu.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Iu.d)(this,function(r){return t=new Om(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!_c(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ch(e)}return!1},t}(),Cm=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=Ku.UNAUTHENTICATED,this.clientId=qu.u(),this._f=function(){},this.C=new vf,this.credentials.v(function(t){Mu("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new Wu(Qu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new vf;return this._s.Tf(function(){return Object(Iu.b)(t,void 0,void 0,function(){var t,n;return Object(Iu.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Af(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function xm(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Iu.d)(this,function(o){switch(o.label){case 0:return t._s.Af(),Mu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(Iu.b)(i,void 0,void 0,function(){return Object(Iu.d)(this,function(t){switch(t.label){case 0:return[4,lp(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function Sm(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r;return Object(Iu.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,Tm(t)];case 1:return n=i.sent(),Mu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r;return Object(Iu.d)(this,function(i){switch(i.label){case 0:return(n=Uu(t))._s.Af(),Mu("RemoteStore","RemoteStore received new credentials"),r=dg(n),n.Nh.add(3),[4,sg(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,og(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function Tm(t){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Mu("FirestoreClient","Using default OfflineComponentProvider"),[4,xm(t,new Eb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Im(t){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Mu("FirestoreClient","Using default OnlineComponentProvider"),[4,Sm(t,new Sb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function jm(t){return Tm(t).then(function(t){return t.persistence})}function km(t){return Tm(t).then(function(t){return t.bh})}function Am(t){return Im(t).then(function(t){return t.yl})}function Pm(t){return Im(t).then(function(t){return t._a})}function Mm(t){return Object(Iu.b)(this,void 0,void 0,function(){var e,n;return Object(Iu.d)(this,function(r){switch(r.label){case 0:return[4,Im(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Qg.bind(null,e._a),n.Hh=$g.bind(null,e._a),n)]}})})}function Nm(t,e,n){var r=this;void 0===n&&(n={});var i=new vf;return t._s.Ps(function(){return Object(Iu.b)(r,void 0,void 0,function(){var r;return Object(Iu.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Tb({next:function(o){e.Ps(function(){return Mg(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Wu(Qu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Wu(Qu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Dg(hl(n.path),o,{includeMetadataChanges:!0,nl:!0});return Pg(t,s)},[4,Mm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function Lm(t,e,n){var r=this;void 0===n&&(n={});var i=new vf;return t._s.Ps(function(){return Object(Iu.b)(r,void 0,void 0,function(){var r;return Object(Iu.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Tb({next:function(n){e.Ps(function(){return Mg(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Wu(Qu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Dg(n,o,{includeMetadataChanges:!0,nl:!0});return Pg(t,s)},[4,Mm(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var Rm=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new Jp(this,"async_queue_retry"),this.vf=function(){var e=Yp();e&&Mu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Yp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Yp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Iu.b)(this,void 0,void 0,function(){var t,e=this;return Object(Iu.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!xf(t=n.sent()))throw t;return Mu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Nu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=kf.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Du()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Iu.b)(this,void 0,void 0,function(){var t;return Object(Iu.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function Dm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.kf={},this.Mf=new vf,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)}}();var Vm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new Rm,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Iu.c)(e,t),e.prototype.b_=function(){return this.qf||Fm(this),this.qf.terminate()},e}(qb);function Um(t){return t.qf||Fm(t),t.qf.df(),t.qf}function Fm(t){var e=t.p_(),n=function(t,e,n){return new ju(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new Cm(t.m_,t.Bf,n)}function qm(t,e,n){var r=this,i=new vf;return t._s.enqueue(function(){return Object(Iu.b)(r,void 0,void 0,function(){var r;return Object(Iu.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,xm(t,n)];case 1:return o.sent(),[4,Sm(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Qu.FAILED_PRECONDITION||t.code===Qu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Hm(t){if(t.R_||t.P_)throw new Wu(Qu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var zm=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),Ec(t)){case 0:return null;case 1:return t.booleanValue;case 2:return gc(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(bc(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw Du()}},t.prototype.Hf=function(t,e){var n=this,r={};return lc(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new Kb(gc(t.latitude),gc(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=yc(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(vc(t));default:return null}},t.prototype.Qf=function(t){var e=pc(t);return new nc(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=oc.ot(t);Vu(yf(n));var r=new ku(n.get(1),n.get(3)),i=new uc(n.Y(5));return r.isEqual(e)||Nu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Bm=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Hb(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Gm(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Qm("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Gm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Iu.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Bm);function Qm(t,e){return"string"==typeof e?vm(t,e):e instanceof kb?e.d_.f_:e.f_}function Wm(t){if(dl(t)&&0===t.xt.length)throw new Wu(Qu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $m=function(){};function Km(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var Ym=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(Iu.c)(e,t),e.prototype.td=function(t){var e=nm(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new Wu(Qu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){ry(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(ny(r,t,l[c]));a={arrayValue:{values:u}}}else a=ny(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||ry(s,o),a=fm(n,"where",s,"in"===o||"not-in"===o);var h=$c.create(i,o,a);return function(t,e){if(e.Ct()){var n=gl(t);if(null!==n&&!n.isEqual(e.field))throw new Wu(Qu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=pl(t);null!==r&&iy(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Wu(Qu.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new zb(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new cl(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}($m),Xm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(Iu.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Wu(Qu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Wu(Qu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ol(e,n);return function(t,e){if(null===pl(t)){var n=gl(t);null!==n&&iy(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new zb(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new cl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}($m),Jm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(Iu.c)(e,t),e.prototype.td=function(t){return new zb(t.firestore,t.v_,vl(t.C_,this.od,this.ad))},e}($m),Zm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Iu.c)(e,t),e.prototype.td=function(t){var e=ey(t,this.type,this.ud,this.hd);return new zb(t.firestore,t.v_,function(t,e){return new cl(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}($m),ty=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(Iu.c)(e,t),e.prototype.td=function(t){var e=ey(t,this.type,this.ud,this.hd);return new zb(t.firestore,t.v_,function(t,e){return new cl(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}($m);function ey(t,e,n,r){if(n[0]instanceof kb&&(n[0]=n[0].d_),n[0]instanceof Bm)return function(t,e,n,r,i){if(!r)throw new Wu(Qu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=ml(t);s<a.length;s++){var u=a[s];if(u.field.ut())o.push(kc(e,r.key));else{var c=r.field(u.field);if(mc(c))throw new Wu(Qu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new Wu(Qu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new rl(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=nm(t.firestore);return function(t,e,n,r,i,o){var s=t.xt;if(i.length>s.length)throw new Wu(Qu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.ut()){if("string"!=typeof c)throw new Wu(Qu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!bl(t)&&-1!==c.indexOf("/"))throw new Wu(Qu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(oc.ot(c));if(!uc.wt(l))throw new Wu(Qu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new uc(l);a.push(kc(e,h))}else{var f=fm(n,r,c);a.push(f)}}return new rl(a,o)}(t.C_,t.firestore.I_,i,e,n,r)}function ny(t,e,n){if(n instanceof kb&&(n=n.d_),"string"==typeof n){if(""===n)throw new Wu(Qu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!bl(e)&&-1!==n.indexOf("/"))throw new Wu(Qu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(oc.ot(n));if(!uc.wt(r))throw new Wu(Qu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return kc(t,new uc(r))}if(n instanceof Hb)return kc(t,n.S_);throw new Wu(Qu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Rb(n)+".")}function ry(t,e){if(!Array.isArray(t)||0===t.length)throw new Wu(Qu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Wu(Qu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function iy(t,e,n){if(!n.isEqual(e))throw new Wu(Qu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function oy(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var sy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Iu.c)(e,t),e.prototype.Wf=function(t){return new $u(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Hb(this.firestore,null,e)},e}(zm),ay=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),uy=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this).Yf=e,a.ld=e,a.metadata=o,a}return Object(Iu.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new cy(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Qm("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Bm),cy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Iu.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(uy),ly=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new ay(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new cy(n.Yf,n.Xf,r.key,r,new ay(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new Wu(Qu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new cy(t.Yf,t.Xf,e.doc.key,e.doc,new ay(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new cy(t.Yf,t.Xf,e.doc.key,e.doc,new ay(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:hy(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function hy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Du()}}function fy(t,e){return t instanceof uy&&e instanceof uy?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof ly&&e instanceof ly&&t.Yf===e.Yf&&$b(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var dy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Iu.c)(e,t),e.prototype.Wf=function(t){return new $u(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Hb(this.firestore,null,e)},e}(zm);function py(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Db(t,Hb);var o=Db(t.firestore,Vm),s=nm(o);return e instanceof kb&&(e=e.d_),by(o,[("string"==typeof e||e instanceof Ib?hm(s,"updateDoc",t.S_,e,n,r):lm(s,"updateDoc",t.S_,e)).F_(t.S_,Bl.exists(!0))])}function gy(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof kb&&(t=t.d_);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Dm(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Dm(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Hb)c=Db(t.firestore,Vm),l=hl(t.S_.path),u={next:function(e){i[a]&&i[a](my(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=Db(t,zb);c=Db(d.firestore,Vm),l=d.C_;var p=new dy(c);u={next:function(t){i[a]&&i[a](new ly(c,p,d,t))},error:i[a+1],complete:i[a+2]},Wm(t.C_)}return function(t,e,n,r){var i=this,o=new Tb(r),s=new Dg(e,o,n);return t._s.Ps(function(){return Object(Iu.b)(i,void 0,void 0,function(){var e;return Object(Iu.d)(this,function(n){switch(n.label){case 0:return e=Pg,[4,Mm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.i_(),t._s.Ps(function(){return Object(Iu.b)(i,void 0,void 0,function(){var e;return Object(Iu.d)(this,function(n){switch(n.label){case 0:return e=Mg,[4,Mm(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Um(c),l,h,u)}function by(t,e){return function(t,e){var n=this,r=new vf;return t._s.Ps(function(){return Object(Iu.b)(n,void 0,void 0,function(){var n;return Object(Iu.d)(this,function(i){switch(i.label){case 0:return n=Kg,[4,Pm(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Um(t),e)}function my(t,e,n){var r=n.docs.get(e.S_),i=new dy(t);return new uy(t,i,e.S_,r,new ay(n.hasPendingWrites,n.fromCache),e.v_)}var yy=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=nm(t)}return t.prototype.set=function(t,e,n){this.md();var r=vy(t,this.Yf),i=oy(r.v_,e,n),o=rm(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Bl.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,s=vy(t,this.Yf);return e instanceof kb&&(e=e.d_),o="string"==typeof e||e instanceof Ib?hm(this.Id,"WriteBatch.update",s.S_,e,n,r):lm(this.Id,"WriteBatch.update",s.S_,e),this.Ed.push(o.F_(s.S_,Bl.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=vy(t,this.Yf);return this.Ed=this.Ed.concat(new sh(e.S_,Bl.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new Wu(Qu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function vy(t,e){if(t instanceof kb&&(t=t.d_),t.firestore!==e)throw new Wu(Qu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var _y=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(Iu.c)(e,t),e.prototype.get=function(e){var n=this,r=vy(e,this.Yf),i=new dy(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new uy(n.Yf,i,r.S_,t.Zf,new ay(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=nm(t)}return t.prototype.get=function(t){var e=this,n=vy(t,this.Yf),r=new sy(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Du();var i=t[0];if(i instanceof qc)return new Bm(e.Yf,r,n.S_,null,n.v_);if(i instanceof Fc)return new Bm(e.Yf,r,i.key,i,n.v_);throw Du()})},t.prototype.set=function(t,e,n){var r=vy(t,this.Yf),i=oy(r.v_,e,n),o=rm(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=vy(t,this.Yf);return e instanceof kb&&(e=e.d_),o="string"==typeof e||e instanceof Ib?hm(this.Id,"Transaction.update",s.S_,e,n,r):lm(this.Id,"Transaction.update",s.S_,e),this.Ad.update(s.S_,o),this},t.prototype.delete=function(t){var e=vy(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function wy(){if("undefined"==typeof Uint8Array)throw new Wu(Qu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Oy(){if("undefined"==typeof atob)throw new Wu(Qu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ey=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Iu.c)(e,t),e.fromBase64String=function(t){return Oy(),new e($u.fromBase64String(t))},e.fromUint8Array=function(t){return wy(),new e($u.fromUint8Array(t))},e.prototype.toBase64=function(){return Oy(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return wy(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(kb),Cy=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Hm(t=Db(t,Vm));var n=Um(t),r=t.p_(),i=new Sb;return qm(n,i,new Cb(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Hm(t=Db(t,Vm));var e=Um(t),n=t.p_(),r=new Sb;return qm(e,r,new xb(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Wu(Qu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new vf;return t.Bf.Tf(function(){return Object(Iu.b)(e,void 0,void 0,function(){var e;return Object(Iu.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Iu.b)(this,void 0,void 0,function(){return Object(Iu.d)(this,function(e){switch(e.label){case 0:return Of.Kn()?[4,Of.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(rp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),xy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof ku||(i.Pd=e),i}return Object(Iu.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Db(t,qb)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&Lu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Iu.b)(e,void 0,void 0,function(){var e,n;return Object(Iu.d)(this,function(r){switch(r.label){case 0:return[4,jm(t)];case 1:return e=r.sent(),[4,Am(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=Uu(t);return e.Nh.delete(0),og(e)}(n))]}})})})}(Um(Db(this.d_,Vm)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(Iu.b)(e,void 0,void 0,function(){var e,n;return Object(Iu.d)(this,function(r){switch(r.label){case 0:return[4,jm(t)];case 1:return e=r.sent(),[4,Am(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(Iu.b)(this,void 0,void 0,function(){var e;return Object(Iu.d)(this,function(n){switch(n.label){case 0:return(e=Uu(t)).Nh.add(0),[4,sg(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}})})}(n))]}})})})}(Um(Db(this.d_,Vm)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Mb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new vf;return t._s.Ps(function(){return Object(Iu.b)(e,void 0,void 0,function(){var e;return Object(Iu.d)(this,function(r){switch(r.label){case 0:return e=eb,[4,Pm(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Um(Db(this.d_,Vm)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Tb(e);return t._s.Ps(function(){return Object(Iu.b)(n,void 0,void 0,function(){var e;return Object(Iu.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Uu(t).Wh.add(e),e.next()},[4,Mm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(Iu.b)(n,void 0,void 0,function(){var e;return Object(Iu.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Uu(t).Wh.delete(e)},[4,Mm(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Um(t=Db(t,Vm)),Dm(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new Wu(Qu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Uy(this,Gb(this.d_,t))}catch(t){throw Ay(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ky(this,Qb(this.d_,t))}catch(t){throw Ay(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Ry(this,function(t,e){if(t=Db(t,qb),Ab("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Wu(Qu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new zb(t,null,function(t){return new cl(oc.ct(),t)}(e))}(this.d_,t))}catch(t){throw Ay(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new vf;return t._s.Ps(function(){return Object(Iu.b)(n,void 0,void 0,function(){var n;return Object(Iu.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Im(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new Em(t._s,n,e,r).run(),[2]}})})}),r.promise}(Um(t),function(n){return e(new _y(t,n))})}(this.d_,function(n){return t(new Ty(e,n))})},e.prototype.batch=function(){var t=this;return Um(this.d_),new Iy(new yy(this.d_,function(e){return by(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new Wu(Qu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Wu(Qu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(kb),Sy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Iu.c)(e,t),e.prototype.Wf=function(t){return new Ey(new $u(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return ky.yd(e,this.firestore,null)},e}(zm),Ty=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new Sy(e),r}return Object(Iu.c)(e,t),e.prototype.get=function(t){var e=this,n=Fy(t);return this.d_.get(n).then(function(t){return new Ny(e.Yf,new uy(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=Fy(t);return n?(Pb("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Fy(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Iu.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Fy(t);return this.d_.delete(e),this},e}(kb),Iy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Iu.c)(e,t),e.prototype.set=function(t,e,n){var r=Fy(t);return n?(Pb("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Fy(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(Iu.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Fy(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(kb),jy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(Iu.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new cy(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new Ly(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Sy(t),n),i.set(n,o)),o},e}(kb);jy.Vd=new WeakMap;var ky=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Sy(e),r}return Object(Iu.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new Wu(Qu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new Hb(n.d_,r,new uc(t)))},e.yd=function(t,n,r){return new e(n,new Hb(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Uy(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Uy(this.firestore,Gb(this.d_,t))}catch(t){throw Ay(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof kb&&(t=t.d_),t instanceof Hb&&Wb(this.d_,t)},e.prototype.set=function(t,e){e=Pb("DocumentReference.set",e);try{return function(t,e,n){t=Db(t,Hb);var r=Db(t.firestore,Vm),i=oy(t.v_,e,n);return by(r,[rm(nm(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Bl.Kt())])}(this.d_,t,e)}catch(t){throw Ay(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?py(this.d_,t):py.apply(void 0,Object(Iu.g)([this.d_,t,e],n))}catch(t){throw Ay(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return by(Db((t=this.d_).firestore,Vm),[new sh(t.S_,Bl.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Py(e),i=My(e,function(e){return new Ny(t.firestore,new uy(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return gy(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Db(t,Hb);var e=Db(t.firestore,Vm),n=Um(e),r=new dy(e);return function(t,e){var n=this,r=new vf;return t._s.Ps(function(){return Object(Iu.b)(n,void 0,void 0,function(){var n;return Object(Iu.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Iu.b)(this,void 0,void 0,function(){var r,i;return Object(Iu.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Uu(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof Fc?n.resolve(i):i instanceof qc?n.resolve(null):n.reject(new Wu(Qu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Af(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,km(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new uy(e,r,t.S_,n,new ay(n instanceof Fc&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Db(t,Hb);var e=Db(t.firestore,Vm);return Nm(Um(e),t.S_,{source:"server"}).then(function(n){return my(e,t,n)})}(this.d_):function(t){t=Db(t,Hb);var e=Db(t.firestore,Vm);return Nm(Um(e),t.S_).then(function(n){return my(e,t,n)})}(this.d_)).then(function(t){return new Ny(e.firestore,new uy(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(jy.gd(this.firestore,t)))},e}(kb);function Ay(t,e,n){return t.message=t.message.replace(e,n),t}function Py(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Dm(r))return r}return{}}function My(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Dm(t[0])?t[0]:Dm(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Ny=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Iu.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new ky(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return fy(this.d_,t.d_)},e}(kb),Ly=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Iu.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(Ny),Ry=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new Sy(e),r}return Object(Iu.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Km(this.d_,function(t,e,n){var r=e,i=Qm("where",t);return new Ym(i,r,n)}(t,n,r)))}catch(t){throw Ay(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Km(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Qm("orderBy",t);return new Xm(r,n)}(t,n)))}catch(t){throw Ay(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Km(this.d_,function(t){return Vb("limit",t),new Jm("limit",t,"F")}(t)))}catch(t){throw Ay(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Km(this.d_,function(t){return Vb("limitToLast",t),new Jm("limitToLast",t,"L")}(t)))}catch(t){throw Ay(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Km(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zm("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Ay(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Km(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zm("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Ay(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Km(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ty("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Ay(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Km(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ty("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Ay(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return $b(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Db(t,zb);var e=Db(t.firestore,Vm),n=Um(e),r=new dy(e);return function(t,e){var n=this,r=new vf;return t._s.Ps(function(){return Object(Iu.b)(n,void 0,void 0,function(){var n;return Object(Iu.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Iu.b)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Iu.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,yp(t,e,!0)];case 1:return a=u.sent(),r=new Hg(e,a.Rc),i=r.fl(a.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=Af(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,km(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new ly(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=Db(t,zb);var e=Db(t.firestore,Vm),n=Um(e),r=new dy(e);return Lm(n,t.C_,{source:"server"}).then(function(n){return new ly(e,r,t,n)})}(this.d_):function(t){t=Db(t,zb);var e=Db(t.firestore,Vm),n=Um(e),r=new dy(e);return Wm(t.C_),Lm(n,t.C_).then(function(n){return new ly(e,r,t,n)})}(this.d_)).then(function(t){return new Vy(e.firestore,new ly(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Py(e),i=My(e,function(e){return new Vy(t.firestore,new ly(t.firestore.d_,t.Xf,t.d_,e._d))});return gy(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(jy.gd(this.firestore,t)))},e}(kb),Dy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Iu.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ly(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(kb),Vy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(Iu.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Ry(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new Ly(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new Dy(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new Ly(n.Yf,r))})},e.prototype.isEqual=function(t){return fy(this.d_,t.d_)},e}(kb),Uy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(Iu.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new ky(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new ky(this.firestore,void 0===t?Qb(this.d_):Qb(this.d_,t))}catch(t){throw Ay(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Db(t.firestore,Vm),r=Qb(t),i=oy(t.v_,e);return by(n,[rm(nm(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Bl.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new ky(e.firestore,t)})},e.prototype.isEqual=function(t){return Wb(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(jy.gd(this.firestore,t)))},e}(Ry);function Fy(t){return t instanceof kb&&(t=t.d_),Db(t,Hb)}var qy,Hy=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Ib.bind.apply(Ib,Object(Iu.g)([void 0],e))))||this}return Object(Iu.c)(e,t),e.documentId=function(){return new e(ac.ht().rt())},e.prototype.isEqual=function(t){return t instanceof kb&&(t=t.d_),t instanceof Ib&&this.d_.f_.isEqual(t.f_)},e}(kb),zy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Iu.c)(e,t),e.serverTimestamp=function(){var t=new sm("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new im("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new am("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new um("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new cm("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(kb),By=n("/6Yf"),Gy={Firestore:xy,GeoPoint:Kb,Timestamp:nc,Blob:Ey,Transaction:Ty,WriteBatch:Iy,DocumentReference:ky,DocumentSnapshot:Ny,Query:Ry,QueryDocumentSnapshot:Ly,QuerySnapshot:Vy,CollectionReference:Uy,FieldPath:Hy,FieldValue:zy,setLogLevel:function(t){Au.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new By.a("firestore",function(t){return function(t,e){return new xy(t,new Vm(t,e),new Cy)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Gy)))})(qy=Ei.a),qy.registerVersion("@firebase/firestore","2.1.7");var Qy=n("VRyK"),Wy=n("qgXg"),$y=n("Ylt2");class Ky extends pt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Yy(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new gt.a;if(this.isStopped||this.hasError?o=pe.a.EMPTY:(this.observers.push(t),o=new $y.a(this,t)),r&&t.add(t=new _i.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Wy.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Yy{constructor(t,e){this.time=t,this.value=e}}function Xy(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new Ky(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Jy(t,e){return e?Rt(()=>t,e):Rt(()=>t)}var Zy=n("tf+s");const tv=new r.q("angularfire2.auth.use-emulator"),ev=new r.q("angularfire2.auth.settings"),nv=new r.q("angularfire2.auth.tenant-id"),rv=new r.q("angularfire2.auth.langugage-code"),iv=new r.q("angularfire2.auth.use-device-language"),ov=new r.q("angularfire.auth.persistence");let sv=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new wi.d(i),f=Object(wi.h)(h),d=new pt.a,p=Object(dt.a)(void 0).pipe(Object(_i.b)(h.outsideAngular),Rt(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Nt.a)(()=>Object(wi.g)(t,i,e)),Object(Nt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(wi.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),Xy({bufferSize:1,refCount:!1}));if(M(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(dt.a)(null);else{p.pipe(fe()).subscribe();const t=p.pipe(Rt(t=>t.getRedirectResult().then(t=>t,()=>null)),f,Xy({bufferSize:1,refCount:!1})),e=t=>new Et.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Rt(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Rt(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Jy(n),Object(Zy.a)(h.outsideAngular),Object(_i.b)(h.insideAngular)),this.user=t.pipe(Jy(r),Object(Zy.a)(h.outsideAngular),Object(_i.b)(h.insideAngular)),this.idToken=this.user.pipe(Rt(t=>t?Object(ft.a)(t.getIdToken()):Object(dt.a)(null))),this.idTokenResult=this.user.pipe(Rt(t=>t?Object(ft.a)(t.getIdTokenResult()):Object(dt.a)(null))),this.credential=Object(Qy.a)(t,d,this.authState.pipe(Wt(t=>!t))).pipe(Object(Nt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Zy.a)(h.outsideAngular),Object(_i.b)(h.insideAngular))}return Object(wi.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(wi.c),r.Qb(wi.b,8),r.Qb(r.B),r.Qb(r.z),r.Qb(tv,8),r.Qb(ev,8),r.Qb(nv,8),r.Qb(rv,8),r.Qb(iv,8),r.Qb(ov,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Qb)(wi.c),Object(r.Qb)(wi.b,8),Object(r.Qb)(r.B),Object(r.Qb)(r.z),Object(r.Qb)(tv,8),Object(r.Qb)(ev,8),Object(r.Qb)(nv,8),Object(r.Qb)(rv,8),Object(r.Qb)(iv,8),Object(r.Qb)(ov,8))},token:t,providedIn:"any"}),t})();Object(wi.e)(sv,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let av=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[sv]}),t})();function uv(t,e){return function(t,e=pi.b){return new Et.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function cv(t,e){return uv(t,e).pipe(Object(Nt.a)(t=>({payload:t,type:"query"})))}function lv(t,e){return cv(t,e).pipe(zt(void 0),gi(),Object(Nt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function hv(t,e,n){return lv(t,n).pipe(Bt((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return fv(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return fv(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return fv(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new yi(void 0,void 0)),Object(Nt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function fv(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function dv(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class pv{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=lv(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Nt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(zt(void 0),gi(),Wt(([t,e])=>e.length>0||!t),Object(Nt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Bt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=dv(t);return hv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return cv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Nt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ft.a)(this.query.get(t)).pipe(Object(_i.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new gv(this.ref.doc(t),this.afs)}}class gv{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=wv(n,e);return new pv(r,i,this.afs)}snapshotChanges(){return uv(this.ref,this.afs.schedulers.outsideAngular).pipe(zt(void 0),gi(),Object(Nt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Nt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(ft.a)(this.ref.get(t)).pipe(Object(_i.b)(this.afs.schedulers.insideAngular))}}class bv{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?lv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Nt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Wt(t=>t.length>0),this.afs.keepUnstableUntilFirst):lv(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Bt((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=dv(t);return hv(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return cv(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Nt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(ft.a)(this.query.get(t)).pipe(Object(_i.b)(this.afs.schedulers.insideAngular))}}const mv=new r.q("angularfire2.enableFirestorePersistence"),yv=new r.q("angularfire2.firestore.persistenceSettings"),vv=new r.q("angularfire2.firestore.settings"),_v=new r.q("angularfire2.firestore.use-emulator");function wv(t,e=(t=>t)){return{query:e(t),ref:t}}let Ov=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new wi.d(o),this.keepUnstableUntilFirst=Object(wi.h)(this.schedulers);const c=Object(wi.g)(t,o,e);!Oi.a.auth&&u&&Object(wi.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(wi.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!M(i)){const e=()=>{try{return Object(ft.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(qy){return"undefined"!=typeof console&&console.warn(qy),Object(dt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(dt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=wv(n,e),o=this.schedulers.ngZone.run(()=>r);return new pv(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new bv(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new gv(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(wi.c),r.Qb(wi.b,8),r.Qb(mv,8),r.Qb(vv,8),r.Qb(r.B),r.Qb(r.z),r.Qb(yv,8),r.Qb(_v,8),r.Qb(tv,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Qb)(wi.c),Object(r.Qb)(wi.b,8),Object(r.Qb)(mv,8),Object(r.Qb)(vv,8),Object(r.Qb)(r.B),Object(r.Qb)(r.z),Object(r.Qb)(yv,8),Object(r.Qb)(_v,8),Object(r.Qb)(tv,8))},token:t,providedIn:"any"}),t})(),Ev=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:mv,useValue:!0},{provide:yv,useValue:e}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Ov]}),t})();class Cv{constructor(t,e){this.defaultTranscoder=t,this.subject=e}has(t){return this.subject.has(t)}get(t,e){return this.subject.get(t,e||this.defaultTranscoder)}set(t,e,n){this.subject.set(t,e,n||this.defaultTranscoder)}remove(t){this.subject.remove(t)}clear(){this.subject.clear()}withDefaultTranscoder(t){return new Cv(t,this.subject)}}class xv{constructor(t){this.defaultTranscoder=t}get(t,e){const n=this.getItem(t);return void 0!==n?(e||this.defaultTranscoder).decode(n):void 0}set(t,e,n){this.setItem(t,(n||this.defaultTranscoder).encode(e))}withDefaultTranscoder(t){return new Cv(t,this)}}const Sv={JSON:new class{encode(t){return JSON.stringify(t)}decode(t){try{return JSON.parse(t)}catch(e){return}}},STRING:new class{encode(t){return t}decode(t){return t}},BOOLEAN:new class{encode(t){return t.toString()}decode(t){return"true"===t||"false"!==t&&void 0}},NUMBER:new class{encode(t){return t.toString()}decode(t){const e=Number(t);return Number.isFinite(e)?e:void 0}},DATE_ISO_STRING:new class{encode(t){return t.toISOString()}decode(t){const e=Date.parse(t);return isNaN(e)?void 0:new Date(e)}},DATE_EPOCH_TIME:new class{encode(t){return t.valueOf().toString()}decode(t){const e=parseInt(t,10);return isNaN(e)?void 0:new Date(e)}}};class Tv extends xv{constructor(){super(Sv.JSON),this.storage=new Map}has(t){return this.storage.has(t)}remove(t){this.storage.delete(t)}clear(){this.storage.clear()}getItem(t){if(this.storage.has(t))return this.storage.get(t)}setItem(t,e){this.storage.set(t,e)}}class Iv extends xv{constructor(t){super(Sv.JSON),this.storage=t}has(t){return null!==this.storage.getItem(t)}remove(t){this.storage.removeItem(t)}clear(){this.storage.clear()}getItem(t){const e=this.storage.getItem(t);return null!==e?e:void 0}setItem(t,e){return this.storage.setItem(t,e)}}function jv(t){if(!t)return!1;try{const e=Date.now(),n="storage-test-entry-"+e,r="storage-test-value-"+e;t.setItem(n,r);const i=t.getItem(n);return t.removeItem(n),i===r}catch(e){return!1}}new r.q("SESSION_STORAGE",{providedIn:"root",factory:function(){try{if("undefined"!=typeof sessionStorage&&jv(sessionStorage))return new Iv(sessionStorage)}catch(t){}return new Tv}});const kv=new r.q("LOCAL_STORAGE",{providedIn:"root",factory:function(){try{if("undefined"!=typeof localStorage&&jv(localStorage))return new Iv(localStorage)}catch(t){}return new Tv}});let Av=(()=>{class t{constructor(t){this.storage=t}saveInf(){let t=li.person;this.storage.set("Inf_isLoged",li.isLoged),this.storage.set("Inf_person",t)}getInf(){li.isLoged=this.storage.get("Inf_isLoged"),null==li.isLoged&&(li.isLoged=!1),li.person=this.storage.get("Inf_person"),null==li.person&&(li.person=new fi)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(kv))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Pv=(()=>{class t{constructor(t,e){this.store=t,this.storage=e,this.person_collection="persons",this.houses_collection="houses",this.persons=new Et.a,this.houses=new Et.a,this.personsColRe=this.store.collection(this.person_collection),this.persons=this.personsColRe.valueChanges(),this.houseColRe=this.store.collection(this.houses_collection),this.houses=this.houseColRe.valueChanges()}removeDuplicates(t){return t.filter((e,n)=>t.indexOf(e)===n)}savePerson(){this.store.collection(this.person_collection).doc(li.person.id).set(Object.assign({},li.person))}changePerson(){this.store.collection(this.person_collection).doc(li.person.id).update(Object.assign({},li.person))}getPerson(){let t=!1;this.person_subscription=this.persons.subscribe(e=>{if(!t){t=!0;for(let t in e)e[t].id==li.person.id&&(li.person=e[t],this.storage.saveInf(),console.log(li.person))}})}getOwner(t){return hi(this,void 0,void 0,function*(){return new Promise(e=>{let n=new fi,r=!1;this.person_subscription=this.persons.subscribe(i=>{if(!r){r=!0;for(let e in i)i[e].id==t&&(n=i[e]);e(n)}})})})}saveHouse(t){this.store.collection(this.houses_collection).doc(t.id+"").set(Object.assign({},t))}changeHouse(t){this.store.collection(this.houses_collection).doc(t.id+"").update(Object.assign({},t))}deleteHouse(t){this.store.collection(this.houses_collection).doc(t).delete()}getHouses(){li.houses=new Array;let t=!1;this.house_subscription=this.houses.subscribe(e=>{if(!t){t=!0;for(let t in e)li.houses.push(e[t])}})}getHousesPromise(){return hi(this,void 0,void 0,function*(){return new Promise(t=>{li.houses=new Array;let e=!1;this.house_subscription=this.houses.subscribe(n=>{if(!e){e=!0;for(let t in n)li.houses.push(n[t]);t(li.houses)}})})})}getHousesForOwner(){li.houses=new Array;let t=!1;this.house_subscription=this.houses.subscribe(e=>{if(!t){t=!0;for(let t in e)e[t].ownerId==li.person.id&&li.houses.push(e[t])}})}getHouse(t){let e=new di;for(let n of li.houses)n.id==t&&(e=n);return e}getCities(){return hi(this,void 0,void 0,function*(){return new Promise(t=>{li.houses=new Array;let e=new Array,n=!1;this.house_subscription=this.houses.subscribe(r=>{if(!n){n=!0;for(let t in r)li.houses.push(r[t]),e.push(r[t].city);e=this.removeDuplicates(e),e.sort(),t(e)}})})})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Ov),r.Qb(Av))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Mv=n("XoHu");function Nv(t,e){return new Et.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=Object(ft.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Lv=new r.q("NgValueAccessor"),Rv={provide:Lv,useExisting:Object(r.T)(()=>Dv),multi:!0};let Dv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([Rv])]}),t})();const Vv={provide:Lv,useExisting:Object(r.T)(()=>Fv),multi:!0},Uv=new r.q("CompositionEventMode");let Fv=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(Uv,8))},t.\u0275dir=r.Eb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Tb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([Vv])]}),t})();function qv(t){return null==t||0===t.length}function Hv(t){return null!=t&&"number"==typeof t.length}const zv=new r.q("NgValidators"),Bv=new r.q("NgAsyncValidators"),Gv=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qv{static min(t){return e=>{if(qv(e.value)||qv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(qv(e.value)||qv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return qv(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return qv(t.value)||Gv.test(t.value)?null:{email:!0}}static minLength(t){return e=>qv(e.value)||!Hv(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Hv(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Qv.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(qv(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Wv);return 0==e.length?null:function(t){return Kv(Yv(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Wv);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(yt.a)(e))return Nv(e,null);if(Object(Mv.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Nv(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Nv(t=1===t.length&&Object(yt.a)(t[0])?t[0]:t,null).pipe(Object(Nt.a)(t=>e(...t)))}return Nv(t,null)}(Yv(t,e).map($v)).pipe(Object(Nt.a)(Kv))}}}function Wv(t){return null!=t}function $v(t){const e=Object(r.qb)(t)?Object(ft.a)(t):t;return Object(r.pb)(e),e}function Kv(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Yv(t,e){return e.map(e=>e(t))}function Xv(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Jv(t){return null!=t?Qv.compose(Xv(t)):null}function Zv(t){return null!=t?Qv.composeAsync(Xv(t)):null}function t_(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let e_=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Jv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Zv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t}),t})(),n_=(()=>{class t extends e_{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return r_(e||t)},t.\u0275dir=r.Eb({type:t,features:[r.vb]}),t})();const r_=r.Ob(n_);class i_ extends e_{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class o_{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let s_=(()=>{class t extends o_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(i_,2))},t.\u0275dir=r.Eb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),a_=(()=>{class t extends o_{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(n_,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Bb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const u_={provide:Lv,useExisting:Object(r.T)(()=>c_),multi:!0};let c_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([u_])]}),t})();const l_={provide:Lv,useExisting:Object(r.T)(()=>f_),multi:!0};let h_=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),f_=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(i_),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l),r.Jb(h_),r.Jb(r.r))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([l_])]}),t})();const d_={provide:Lv,useExisting:Object(r.T)(()=>p_),multi:!0};let p_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([d_])]}),t})();const g_={provide:Lv,useExisting:Object(r.T)(()=>m_),multi:!0};function b_(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let m_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=b_(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([g_])]}),t})(),y_=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(b_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.D),r.Jb(m_,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const v_={provide:Lv,useExisting:Object(r.T)(()=>w_),multi:!0};function __(t,e){return null==t?""+e:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let w_=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.D),r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Tb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([v_])]}),t})(),O_=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(__(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(__(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l),r.Jb(r.D),r.Jb(w_,9))},t.\u0275dir=r.Eb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function E_(t,e){x_(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&S_(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&S_(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function C_(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function x_(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(t_(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(t_(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();C_(e._rawValidators,n),C_(e._rawAsyncValidators,n)}}function S_(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const T_=[Dv,p_,c_,m_,w_,f_];function I_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const j_="VALID",k_="INVALID",A_="PENDING",P_="DISABLED";function M_(t){return(D_(t)?t.validators:t)||null}function N_(t){return Array.isArray(t)?Jv(t):t||null}function L_(t,e){return(D_(e)?e.asyncValidators:t)||null}function R_(t){return Array.isArray(t)?Zv(t):t||null}function D_(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class V_{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=N_(this._rawValidators),this._composedAsyncValidatorFn=R_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===j_}get invalid(){return this.status===k_}get pending(){return this.status==A_}get disabled(){return this.status===P_}get enabled(){return this.status!==P_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=N_(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=R_(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=A_,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=P_,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=j_,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==j_&&this.status!==A_||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?P_:j_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=A_,this._hasOwnPendingAsyncValidator=!0;const e=$v(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof F_?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof q_&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?P_:this.errors?k_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(A_)?A_:this._anyControlsHaveStatus(k_)?k_:j_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){D_(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class U_ extends V_{constructor(t=null,e,n){super(M_(e),L_(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){I_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){I_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class F_ extends V_{constructor(t,e,n){super(M_(e),L_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof U_?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class q_ extends V_{constructor(t,e,n){super(M_(e),L_(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof U_?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const H_={provide:n_,useExisting:Object(r.T)(()=>B_)},z_=(()=>Promise.resolve(null))();let B_=(()=>{class t extends n_{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new F_({},Jv(t),Zv(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){z_.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),E_(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){z_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),I_(this._directives,t)})}addFormGroup(t){z_.then(()=>{const e=this._findContainer(t.path),n=new F_({});(function(t,e){x_(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){z_.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){z_.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(zv,10),r.Jb(Bv,10))},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Tb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([H_]),r.vb]}),t})();const G_={provide:i_,useExisting:Object(r.T)(()=>W_)},Q_=(()=>Promise.resolve(null))();let W_=(()=>{class t extends i_{constructor(t,e,n,i){super(),this.control=new U_,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Fv?n=t:(e=t,T_.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){E_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Q_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Q_.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(n_,9),r.Jb(zv,10),r.Jb(Bv,10),r.Jb(Lv,10))},t.\u0275dir=r.Eb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([G_]),r.vb,r.wb]}),t})(),$_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const K_=new r.q("NgModelWithFormControlWarning"),Y_={provide:zv,useExisting:Object(r.T)(()=>J_),multi:!0},X_={provide:zv,useExisting:Object(r.T)(()=>Z_),multi:!0};let J_=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?Qv.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("required",e.required?"":null)},inputs:{required:"required"},features:[r.xb([Y_])]}),t})(),Z_=(()=>{class t extends J_{validate(t){return this.required?Qv.requiredTrue(t):null}}return t.\u0275fac=function(e){return tw(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("required",e.required?"":null)},features:[r.xb([X_]),r.vb]}),t})();const tw=r.Ob(Z_),ew={provide:zv,useExisting:Object(r.T)(()=>nw),multi:!0};let nw=(()=>{class t{constructor(){this._enabled=!1}set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?Qv.email(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[r.xb([ew])]}),t})();const rw={provide:zv,useExisting:Object(r.T)(()=>iw),multi:!0};let iw=(()=>{class t{constructor(){this._validator=Qv.nullValidator}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Qv.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[r.xb([rw]),r.wb]}),t})();const ow={provide:zv,useExisting:Object(r.T)(()=>sw),multi:!0};let sw=(()=>{class t{constructor(){this._validator=Qv.nullValidator}ngOnChanges(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Qv.pattern(this.pattern)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Eb({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[r.xb([ow]),r.wb]}),t})(),aw=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),uw=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new F_(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new U_(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new q_(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof U_||t instanceof F_||t instanceof q_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),cw=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[h_],imports:[aw]}),t})(),lw=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:K_,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[uw,h_],imports:[aw]}),t})();function hw(t,e){if(1&t&&(r.Mb(0,"option",16),r.jc(1),r.Lb()),2&t){const t=e.$implicit;r.Wb("value",t),r.yb(1),r.kc(t)}}function fw(t,e){if(1&t&&(r.Mb(0,"option",16),r.jc(1),r.Lb()),2&t){const t=e.$implicit;r.Wb("value",t),r.yb(1),r.kc(t)}}let dw=(()=>{class t{constructor(t,e){this.router=t,this.database=e,this.cities=new Array,this.selectedCity="0",this.selectedCity1="0"}ngOnInit(){this.database.getCities().then(t=>{this.cities=t})}searchHouse(t){li.searchCity=t.value.city,this.router.navigateByUrl("houses-for-rent")}searchHouseMobile(t){li.searchCity=t.value.city1,this.router.navigateByUrl("houses-for-rent")}isDesktop(){return li.isDesktop}getWidth(){return"max-width: "+(screen.width-10)+"px;"}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Hr),r.Jb(Pv))},t.\u0275cmp=r.Db({type:t,selectors:[["app-main-page"]],decls:31,vars:9,consts:[[1,"d-flex","align-items-center","justify-content-center",2,"min-height","80vh"],[3,"hidden","ngSubmit"],["mySearchForm","ngForm"],[1,"d-flex","align-items-center","justify-content-center","group-back","input-group","mb-3"],[1,"input-group","input-group-lg"],["name","city",1,"form-control","search-input",3,"ngModel"],["city","ngModel"],["value","0","selected","","disabled",""],["value","0"],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-lg","search-button",3,"click"],["mySearchForm1","ngForm"],[1,"d-row","align-items-center","group-back","input-group","mb-3"],["name","city1",1,"form-control","search-input",3,"ngModel"],["city1","ngModel"],[3,"value"]],template:function(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",0),r.Mb(1,"form",1,2),r.Tb("ngSubmit",function(){r.cc(t);const n=r.bc(2);return e.searchHouse(n)}),r.Mb(3,"div",3),r.Mb(4,"div",4),r.Mb(5,"select",5,6),r.Mb(7,"option",7),r.jc(8,"Select city here"),r.Lb(),r.Mb(9,"option",8),r.jc(10,"None"),r.Lb(),r.Mb(11,"option",9),r.jc(12,"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"),r.Lb(),r.ic(13,hw,2,2,"option",10),r.Lb(),r.Mb(14,"button",11),r.Tb("click",function(){r.cc(t);const n=r.bc(2);return e.searchHouse(n)}),r.jc(15,"Search"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(16,"form",1,12),r.Tb("ngSubmit",function(){r.cc(t);const n=r.bc(17);return e.searchHouse(n)}),r.Mb(18,"div",13),r.Mb(19,"div",4),r.Mb(20,"select",14,15),r.Mb(22,"option",7),r.jc(23,"Select city here"),r.Lb(),r.Mb(24,"option",8),r.jc(25,"None"),r.Lb(),r.Mb(26,"option",9),r.jc(27,"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"),r.Lb(),r.ic(28,fw,2,2,"option",10),r.Lb(),r.Mb(29,"button",11),r.Tb("click",function(){r.cc(t);const n=r.bc(17);return e.searchHouseMobile(n)}),r.jc(30,"Search"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()}2&t&&(r.yb(1),r.Wb("hidden",!e.isDesktop()),r.yb(4),r.Wb("ngModel",e.selectedCity),r.yb(8),r.Wb("ngForOf",e.cities),r.yb(3),r.Wb("hidden",e.isDesktop()),r.yb(2),r.gc(e.getWidth()),r.yb(2),r.Wb("ngModel",e.selectedCity1),r.yb(8),r.Wb("ngForOf",e.cities))},directives:[$_,a_,B_,m_,s_,W_,y_,O_,k],styles:[".group-back[_ngcontent-%COMP%]{background-color:rgba(21,31,40,.9);height:7vh;width:70vh;border-radius:5px}.search-input[_ngcontent-%COMP%]{margin-left:.6vh;background-color:#1a2732;border-color:#151f28;color:#f2f2f2}.search-input[_ngcontent-%COMP%]::placeholder{color:#ccc}.search-button[_ngcontent-%COMP%]{margin-right:.6vh;background-color:rgba(255,132,76,.8)!important;color:#d3dee8;border-radius:0 5px 5px 0}.search-button[_ngcontent-%COMP%]:hover{background-color:#ff844c!important;color:#000}"]}),t})(),pw=(()=>{class t{constructor(t,e,n,r){this.afAuth=t,this.storage=e,this.database=n,this.router=r}GoogleLogIn(){return this.AuthLogin(new Oi.a.auth.GoogleAuthProvider)}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(()=>{let t=new fi,e=Oi.a.auth().currentUser;null!=e&&(t.id=e.uid),li.isLoged=!0,li.person=t,this.storage.saveInf(),this.database.getPerson()}).catch(t=>{console.log(t)})}GoogleSignUp(){return this.AuthSignUp(new Oi.a.auth.GoogleAuthProvider)}AuthSignUp(t){return this.afAuth.signInWithPopup(t).then(()=>{let t=new fi,e=Oi.a.auth().currentUser;null!=e&&(t.id=e.uid,t.email=e.email+"",t.name=e.displayName+"",t.isOwner=!1),li.isLoged=!0,li.person=t,this.storage.saveInf(),this.database.savePerson()}).catch(t=>{console.log(t)})}SignUp(t){Oi.a.auth().createUserWithEmailAndPassword(t.email,t.password).then(e=>{var n=Oi.a.auth().currentUser;li.isLoged=!0,t.id=n.uid,li.person=t,this.storage.saveInf(),this.database.savePerson(),n.updateProfile({displayName:t.name}).then(function(){n.sendEmailVerification().then(function(){console.log("Email sent")}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}).catch(t=>{console.log(t)})}UpdateProfile(t){li.person=t,this.storage.saveInf(),this.database.savePerson();var e=Oi.a.auth().currentUser;e.updateProfile({displayName:t.name}).then(function(){e.updateEmail(t.email).then(function(){}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})}LogIn(t){Oi.a.auth().signInWithEmailAndPassword(t.email,t.password).then(t=>{let e=new fi,n=Oi.a.auth().currentUser;null!=n&&(e.id=n.uid,e.email=n.email+"",e.name=n.displayName+""),li.isLoged=!0,li.person=e,this.storage.saveInf(),this.database.getPerson()}).catch(t=>{console.log(t)})}SignOut(){Oi.a.auth().signOut().then(()=>{li.isLoged=!1,li.person=new fi,this.storage.saveInf(),this.router.navigateByUrl("/")}).catch(t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(sv),r.Qb(Av),r.Qb(Pv),r.Qb(Hr))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),gw=(()=>{class t{constructor(t,e){this.authService=t,this.storage=e,this.isOpened=!1,this.isOwner=!1}ngOnInit(){this.storage.getInf(),this.checkDeviceType(),this.setProfileData()}setProfileData(){li.isLoged&&(this.name=li.person.name,this.email=li.person.email,this.mobile=li.person.mobileNumber,this.isOwner=li.person.isOwner)}checkDeviceType(){console.log(screen.width+"x"+screen.height),screen.width>screen.height?(li.isDesktop=!0,this.imagePath="assets/logo-light.png"):(li.isDesktop=!1,this.imagePath="assets/logo-light-sm.png")}getIsLogedInf(){return li.isLoged}getPersonInf(){return li.person}getIsDesktop(){return li.isDesktop}openOverlay(){let t=document.getElementById("mySidebar");this.isOpened?(t.style.width="0px",this.isOpened=!1):(t.style.width="200px",this.isOpened=!0)}closeOverlay(){document.getElementById("mySidebar").style.width="0px",this.isOpened=!1}signUp(t){let e=new fi;e.name=t.value.name,e.email=t.value.email,e.password=t.value.password,e.isOwner=t.value.isOwner,t.reset(),this.authService.SignUp(e),this.setProfileData()}logIn(t){let e=new fi;e.email=t.value.email,e.password=t.value.password,t.reset(),this.authService.LogIn(e),this.setProfileData()}LogOut(){this.authService.SignOut(),location.reload()}updateProfile(t){let e=li.person;e.name=t.value.name,e.email=t.value.email,e.mobileNumber=t.value.mobile,e.isOwner=t.value.isOwner,this.authService.UpdateProfile(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(pw),r.Jb(Av))},t.\u0275cmp=r.Db({type:t,selectors:[["app-main-layout"]],decls:166,vars:28,consts:[[1,"background-img"],["id","main",1,"layout-box"],[1,"top-bar"],[1,"d-flex","navbar","navbar-dark","header"],[1,"d-flex","justify-content-start"],["type","button","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","collapsed",3,"click"],[1,"navbar-toggler-icon"],["routerLink","/",1,"ml-3","navbar-brand",3,"click"],[2,"height","42px",3,"src"],[1,"d-flex","justify-content-end","row"],[3,"hidden"],[1,"btn-group","dropleft"],["role","button","id","dropdownMenuLink","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-link","dropdown-toggle",2,"max-height","42px","font-size","large","color","white"],["aria-labelledby","dropdownMenuLink",1,"dropdown-menu",2,"font-size","medium"],["data-toggle","modal","data-target","#Profile",1,"dropdown-item","profile-a"],[1,"dropdown-item","profile-a",2,"color","darkred",3,"click"],["type","button","data-toggle","modal","data-target","#SignUpModal",1,"btn","btn-link",2,"font-size","large",3,"hidden"],["type","button","data-toggle","modal","data-target","#LogInModal",1,"btn","btn-link",2,"font-size","large",3,"hidden"],["id","mySidebar",1,"sidebar",3,"click"],["routerLink","create-house",3,"hidden"],["routerLink","my-advertisements",3,"hidden"],["routerLink","/"],["routerLink","houses-for-rent"],[1,"page-content","main"],["id","SignUpModal","tabindex","-1","role","dialog","aria-labelledby","SignUpModalTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","SignUpModalTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"md-float-material","form-material",3,"ngSubmit"],["signUpForm","ngForm"],[1,"auth-box","card"],[1,"card-block"],[1,"form-group","form-primary"],["type","text","name","name","required","","value","","placeholder","Display name",1,"form-control",3,"ngModel"],["name1","ngModel"],[1,"invalid",3,"hidden"],["type","email","name","email","required","","email","","value","","placeholder","Email",1,"form-control",3,"ngModel"],["email_input1","ngModel"],["type","password","name","password","required","","minlength","6","placeholder","Password","value","",1,"form-control",3,"ngModel"],["password_input1","ngModel"],[1,"form-check"],["type","checkbox","value","false","id","isOwner","name","isOwner",1,"form-check-input",2,"height","2vh","width","2vh",3,"ngModel"],["for","isOwner",1,"form-check-label",2,"font-size","medium"],[1,"row"],["data-dismiss","modal",1,"col-md-12"],["type","submit","name","submit","value","Sign up Now",1,"btn","btn-primary","btn-md","btn-block","waves-effect","text-center","m-b-20",3,"disabled","click"],[1,"or-container"],[1,"line-separator"],[1,"or-label"],[1,"col-md-12"],["data-dismiss","modal",1,"btn","btn-lg","btn-google","btn-block","text-uppercase","btn-outline",3,"click"],["src","https://img.icons8.com/color/16/000000/google-logo.png"],[1,"text-inverse","text-center"],["href","<?= base_url() ?>auth/login","data-abc","true","data-dismiss","modal","data-toggle","modal","data-target","#LogInModal"],["id","LogInModal","tabindex","-1","role","dialog","aria-labelledby","LogInModalTitle","aria-hidden","true",1,"modal","fade"],["id","LogInModalTitle",1,"modal-title"],["logInForm","ngForm"],["email_input","ngModel"],["password_input","ngModel"],["type","submit","name","submit","value","Log in Now",1,"btn","btn-primary","btn-md","btn-block","waves-effect","text-center","m-b-20",3,"disabled","click"],["href","<?= base_url() ?>auth/login","data-abc","true","data-dismiss","modal","data-toggle","modal","data-target","#SignUpModal"],["id","Profile","tabindex","-1","role","dialog","aria-labelledby","ProfileTitle","aria-hidden","true",1,"modal","fade"],["id","ProfileTitle",1,"modal-title"],["profileForm","ngForm"],["name2","ngModel"],["email_input2","ngModel"],["type","tel","name","mobile","mask","000-000-000","required","","pattern","[0-9]{3}-[0-9]{3}-[0-9]{4}","value","","placeholder","Phone number",1,"form-control",3,"ngModel"],["mobile_input","ngModel"],["type","checkbox","value","false","id","isOwner2","name","isOwner",1,"form-check-input",2,"height","2vh","width","2vh",3,"ngModel"],["type","submit","name","submit","value","Update profile",1,"btn","btn-primary","btn-md","btn-block","waves-effect","text-center","m-b-20",3,"disabled","click"]],template:function(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",0),r.Mb(1,"div",1),r.Mb(2,"div",2),r.Mb(3,"nav",3),r.Mb(4,"div",4),r.Mb(5,"button",5),r.Tb("click",function(){return e.openOverlay()}),r.Kb(6,"span",6),r.Lb(),r.Mb(7,"a",7),r.Tb("click",function(){return e.closeOverlay()}),r.Kb(8,"img",8),r.Lb(),r.Lb(),r.Mb(9,"div",9),r.Mb(10,"div",10),r.Mb(11,"div",11),r.Mb(12,"a",12),r.jc(13," Profile "),r.Lb(),r.Mb(14,"div",13),r.Mb(15,"a",14),r.jc(16),r.Lb(),r.Mb(17,"a",15),r.Tb("click",function(){return e.LogOut()}),r.Mb(18,"u"),r.jc(19,"Log out"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(20,"button",16),r.jc(21,"Sign up"),r.Lb(),r.Mb(22,"button",17),r.jc(23,"Log in"),r.Lb(),r.Lb(),r.Lb(),r.Mb(24,"div",18),r.Tb("click",function(){return e.closeOverlay()}),r.Mb(25,"a",19),r.jc(26,"Create house"),r.Lb(),r.Mb(27,"a",20),r.jc(28,"My houses"),r.Lb(),r.Mb(29,"a",21),r.jc(30,"Back to home"),r.Lb(),r.Mb(31,"a",22),r.jc(32,"Houses list"),r.Lb(),r.Lb(),r.Lb(),r.Mb(33,"div",23),r.Kb(34,"router-outlet"),r.Lb(),r.Lb(),r.Lb(),r.Mb(35,"div",24),r.Mb(36,"div",25),r.Mb(37,"div",26),r.Mb(38,"div",27),r.Mb(39,"h5",28),r.jc(40,"Sign up"),r.Lb(),r.Mb(41,"button",29),r.Mb(42,"span",30),r.jc(43,"\xd7"),r.Lb(),r.Lb(),r.Lb(),r.Mb(44,"div",31),r.Mb(45,"form",32,33),r.Tb("ngSubmit",function(){r.cc(t);const n=r.bc(46);return e.signUp(n)}),r.Mb(47,"div",34),r.Mb(48,"div",35),r.Mb(49,"div",36),r.Kb(50,"input",37,38),r.Lb(),r.Mb(52,"p",39),r.jc(53,"*Must be filled"),r.Lb(),r.Mb(54,"div",36),r.Kb(55,"input",40,41),r.Lb(),r.Mb(57,"p",39),r.jc(58,"*Must be filled as email (for example: your_email@email.com)"),r.Lb(),r.Mb(59,"div",36),r.Kb(60,"input",42,43),r.Lb(),r.Mb(62,"p",39),r.jc(63,"*Must contain at least 6 characters"),r.Lb(),r.Mb(64,"div",36),r.Mb(65,"div",44),r.Kb(66,"input",45),r.Mb(67,"label",46),r.jc(68," I`m house/flat owner "),r.Lb(),r.Lb(),r.Lb(),r.Mb(69,"div",47),r.Mb(70,"div",48),r.Mb(71,"input",49),r.Tb("click",function(){r.cc(t);const n=r.bc(46);return e.signUp(n)}),r.Lb(),r.Lb(),r.Lb(),r.Mb(72,"div",50),r.Kb(73,"div",51),r.Mb(74,"div",52),r.jc(75,"or"),r.Lb(),r.Kb(76,"div",51),r.Lb(),r.Mb(77,"div",47),r.Mb(78,"div",53),r.Mb(79,"a",54),r.Tb("click",function(){return e.authService.GoogleSignUp()}),r.Kb(80,"img",55),r.jc(81," Sign up with Google"),r.Lb(),r.Lb(),r.Lb(),r.Kb(82,"br"),r.Mb(83,"p",56),r.jc(84,"Already have an account? "),r.Mb(85,"a",57),r.jc(86,"Log in"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(87,"div",58),r.Mb(88,"div",25),r.Mb(89,"div",26),r.Mb(90,"div",27),r.Mb(91,"h5",59),r.jc(92,"Log in"),r.Lb(),r.Mb(93,"button",29),r.Mb(94,"span",30),r.jc(95,"\xd7"),r.Lb(),r.Lb(),r.Lb(),r.Mb(96,"div",31),r.Mb(97,"form",32,60),r.Tb("ngSubmit",function(){r.cc(t);const n=r.bc(98);return e.logIn(n)}),r.Mb(99,"div",34),r.Mb(100,"div",35),r.Mb(101,"div",36),r.Kb(102,"input",40,61),r.Lb(),r.Mb(104,"p",39),r.jc(105,"*Must be filled as email (for example: your_email@email.com)"),r.Lb(),r.Mb(106,"div",36),r.Kb(107,"input",42,62),r.Lb(),r.Mb(109,"p",39),r.jc(110,"*Must contain at least 6 characters"),r.Lb(),r.Mb(111,"div",47),r.Mb(112,"div",48),r.Mb(113,"input",63),r.Tb("click",function(){r.cc(t);const n=r.bc(98);return e.logIn(n)}),r.Lb(),r.Lb(),r.Lb(),r.Mb(114,"div",50),r.Kb(115,"div",51),r.Mb(116,"div",52),r.jc(117,"or"),r.Lb(),r.Kb(118,"div",51),r.Lb(),r.Mb(119,"div",47),r.Mb(120,"div",53),r.Mb(121,"a",54),r.Tb("click",function(){return e.authService.GoogleLogIn()}),r.Kb(122,"img",55),r.jc(123," Log in with Google"),r.Lb(),r.Lb(),r.Lb(),r.Kb(124,"br"),r.Mb(125,"p",56),r.jc(126,"Don`t have account yet? "),r.Mb(127,"a",64),r.jc(128,"Sign up"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(129,"div",65),r.Mb(130,"div",25),r.Mb(131,"div",26),r.Mb(132,"div",27),r.Mb(133,"h5",66),r.jc(134,"My Profile"),r.Lb(),r.Mb(135,"button",29),r.Mb(136,"span",30),r.jc(137,"\xd7"),r.Lb(),r.Lb(),r.Lb(),r.Mb(138,"div",31),r.Mb(139,"form",32,67),r.Tb("ngSubmit",function(){r.cc(t);const n=r.bc(140);return e.updateProfile(n)}),r.Mb(141,"div",34),r.Mb(142,"div",35),r.Mb(143,"div",36),r.Kb(144,"input",37,68),r.Lb(),r.Mb(146,"p",39),r.jc(147,"*Must be filled"),r.Lb(),r.Mb(148,"div",36),r.Kb(149,"input",40,69),r.Lb(),r.Mb(151,"p",39),r.jc(152,"*Must be filled as email (for example: your_email@email.com)"),r.Lb(),r.Mb(153,"div",36),r.Kb(154,"input",70,71),r.Lb(),r.Mb(156,"p",39),r.jc(157,"*Must be filled as phone number (for example: 123-456-7890)"),r.Lb(),r.Mb(158,"div",36),r.Mb(159,"div",44),r.Kb(160,"input",72),r.Mb(161,"label",46),r.jc(162," I`m house/flat owner "),r.Lb(),r.Lb(),r.Lb(),r.Mb(163,"div",47),r.Mb(164,"div",48),r.Mb(165,"input",73),r.Tb("click",function(){r.cc(t);const n=r.bc(140);return e.updateProfile(n)}),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=r.bc(46),n=r.bc(51),i=r.bc(56),o=r.bc(61),s=r.bc(98),a=r.bc(103),u=r.bc(108),c=r.bc(140),l=r.bc(145),h=r.bc(150),f=r.bc(155);r.yb(8),r.Xb("src",e.imagePath,r.dc),r.yb(2),r.Wb("hidden",!e.getIsLogedInf()),r.yb(6),r.kc(e.getPersonInf().name),r.yb(4),r.Wb("hidden",e.getIsLogedInf()),r.yb(2),r.Wb("hidden",e.getIsLogedInf()),r.yb(3),r.Wb("hidden",!e.getPersonInf().isOwner),r.yb(2),r.Wb("hidden",!e.getPersonInf().isOwner),r.yb(23),r.Wb("ngModel",e.name),r.yb(2),r.Wb("hidden",!(n.touched&&n.invalid)),r.yb(3),r.Wb("ngModel",e.email),r.yb(2),r.Wb("hidden",!(i.touched&&i.invalid)),r.yb(3),r.Wb("ngModel",e.password),r.yb(2),r.Wb("hidden",!(o.touched&&o.invalid)),r.yb(4),r.Wb("ngModel",e.isOwner),r.yb(5),r.Wb("disabled",!t.valid),r.yb(31),r.Wb("ngModel",e.email),r.yb(2),r.Wb("hidden",!(a.touched&&a.invalid)),r.yb(3),r.Wb("ngModel",e.password),r.yb(2),r.Wb("hidden",!(u.touched&&u.invalid)),r.yb(4),r.Wb("disabled",!s.valid),r.yb(31),r.Wb("ngModel",e.name),r.yb(2),r.Wb("hidden",!(l.touched&&l.invalid)),r.yb(3),r.Wb("ngModel",e.email),r.yb(2),r.Wb("hidden",!(h.touched&&h.invalid)),r.yb(3),r.Wb("ngModel",e.mobile),r.yb(2),r.Wb("hidden",!(f.touched&&f.invalid)),r.yb(4),r.Wb("ngModel",e.isOwner),r.yb(5),r.Wb("disabled",!c.valid)}},directives:[zr,Gr,$_,a_,B_,Fv,J_,s_,W_,nw,iw,Dv,sw],styles:[".sidebar[_ngcontent-%COMP%]{height:100%;width:0;position:fixed;z-index:2;top:9vh;left:0;background-color:rgba(21,31,40,.85);overflow-x:hidden;padding-top:24px;transition:.5s}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px 8px 8px 32px;text-decoration:none;font-size:25px;color:#818181;display:block;transition:.2s ease-out}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#f1f1f1}.background-img[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(rgba(0,0,0,.4),rgba(0,0,0,.6)),url(room.57551888f3c7d9baf88c.jpg);height:100%;background-position:50%;background-repeat:no-repeat;background-size:cover}#main[_ngcontent-%COMP%]{transition:margin-left .5s}@media screen and (max-height:450px){.sidebar[_ngcontent-%COMP%]{padding-top:15px}.sidebar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:18px}}.header[_ngcontent-%COMP%]{background-color:rgba(21,31,40,.7);height:9vh}.login-block[_ngcontent-%COMP%]{margin:30px auto;min-height:93.6vh}.login-block[_ngcontent-%COMP%]   .auth-box[_ngcontent-%COMP%]{margin:20px auto 0;max-width:450px!important}.card[_ngcontent-%COMP%]{border-radius:5px;box-shadow:0 0 5px 0 rgba(43,43,43,.1),0 11px 6px -7px rgba(43,43,43,.1);border:none;margin-bottom:30px;transition:all .3s ease-in-out;background-color:#fff}.card[_ngcontent-%COMP%]   .card-block[_ngcontent-%COMP%]{padding:1.25rem}.f-80[_ngcontent-%COMP%]{font-size:80px}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25em}.form-material[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{display:inline-block;height:43px;width:100%;border-radius:0;font-size:16px;font-weight:400;padding:9px;background-color:initial;box-shadow:none;border:none;border-bottom:1px solid #ccc}.btn-primary[_ngcontent-%COMP%]{background-color:#4099ff;border-color:#4099ff;color:#fff;cursor:pointer;transition:all .3s ease-in}.btn[_ngcontent-%COMP%]{border-radius:2px;text-transform:capitalize;font-size:15px;padding:10px 19px;cursor:pointer}.m-b-20[_ngcontent-%COMP%]{margin-bottom:20px}.btn-md[_ngcontent-%COMP%]{padding:10px 16px;font-size:15px;line-height:23px}.heading[_ngcontent-%COMP%]{font-size:21px}#infoMessage[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red!important}.btn-google[_ngcontent-%COMP%]{color:#545454;background-color:#fff;box-shadow:0 1px 2px 1px #ddd}.or-container[_ngcontent-%COMP%]{align-items:center;color:#ccc;display:flex;margin:25px 0}.line-separator[_ngcontent-%COMP%]{background-color:#ccc;flex-grow:5;height:1px}.or-label[_ngcontent-%COMP%]{flex-grow:1;margin:0 15px;text-align:center}.profile-a[_ngcontent-%COMP%]{cursor:pointer}.invalid[_ngcontent-%COMP%]{color:red;font-size:small}"]}),t})();const bw=function(t){return["/house-details",t]};let mw=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}isDesktop(){return li.isDesktop}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Hr))},t.\u0275cmp=r.Db({type:t,selectors:[["app-house-card"]],inputs:{id:"id",image:"image",category:"category",country:"country",city:"city",roomsNumber:"roomsNumber",bathroomsNumber:"bathroomsNumber",price:"price",description:"description"},decls:37,vars:24,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12","mt-3"],[2,"text-decoration","none","color","black",3,"routerLink"],[1,"card",3,"hidden"],[1,"card-horizontal",2,"display","flex","flex","1 1 auto"],[1,"img-square-wrapper"],["height","180px","alt","Card image cap",1,"",3,"src"],[1,"card-body"],[1,"card-title"],[1,"container",2,"margin-left","-1em"],[1,"col-sm"],[1,"card-text"],[1,"card-text",2,"margin-top","0.5em"],[1,"card-footer"],[1,"text-muted",2,"font-size","medium"],[1,"card",2,"width","18rem","margin-left","1.5em",3,"hidden"],[1,"card-img-top",3,"src"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Mb(2,"div",2),r.Mb(3,"a",3),r.Mb(4,"div",4),r.Mb(5,"div",5),r.Mb(6,"div",6),r.Kb(7,"img",7),r.Lb(),r.Mb(8,"div",8),r.Mb(9,"h4",9),r.jc(10),r.Lb(),r.Mb(11,"div",10),r.Mb(12,"div",1),r.Mb(13,"div",11),r.Mb(14,"p",12),r.jc(15),r.Lb(),r.Lb(),r.Kb(16,"div",11),r.Mb(17,"div",11),r.Mb(18,"p",12),r.jc(19),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(20,"p",13),r.jc(21),r.Lb(),r.Lb(),r.Lb(),r.Mb(22,"div",14),r.Mb(23,"small",15),r.jc(24),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(25,"a",3),r.Mb(26,"div",16),r.Kb(27,"img",17),r.Mb(28,"div",8),r.Mb(29,"h5",9),r.jc(30),r.Lb(),r.Mb(31,"p",12),r.jc(32),r.Lb(),r.Mb(33,"p",12),r.jc(34),r.Lb(),r.Mb(35,"p",12),r.jc(36),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.yb(3),r.Wb("routerLink",r.Zb(20,bw,e.id)),r.yb(1),r.Wb("hidden",!e.isDesktop()),r.yb(3),r.Xb("src",e.image,r.dc),r.yb(3),r.kc(e.category),r.yb(5),r.mc("",e.city,", ",e.country,""),r.yb(4),r.mc("Rooms: ",e.roomsNumber,", Bathrooms: ",e.bathroomsNumber,""),r.yb(2),r.kc(e.description),r.yb(3),r.lc("$",e.price,""),r.yb(1),r.Wb("routerLink",r.Zb(22,bw,e.id)),r.yb(1),r.Wb("hidden",e.isDesktop()),r.yb(1),r.Xb("src",e.image,r.dc),r.yb(3),r.mc("",e.category," for $",e.price,""),r.yb(2),r.mc("",e.city,", ",e.country,""),r.yb(2),r.mc("Rooms: ",e.roomsNumber,", Bathrooms: ",e.bathroomsNumber,""),r.yb(2),r.kc(e.description))},directives:[zr],styles:[".card[_ngcontent-%COMP%]{display:block;transform:scale(1);transition:.3s ease-out}@media (hover:hover) and (pointer:fine){.card[_ngcontent-%COMP%]:hover{cursor:pointer;box-shadow:0 0 10px rgba(0,0,0,.2);transform:scale(1.005)}}"]}),t})();function yw(t,e){if(1&t&&(r.Mb(0,"div"),r.Mb(1,"div",5),r.Kb(2,"app-house-card",69),r.Kb(3,"app-house-card",70),r.Lb(),r.Lb()),2&t){const t=e.$implicit,n=r.Vb();r.yb(2),r.Wb("hidden",!n.isDesktop())("id",t.id)("category",n.getCategory(t.category))("country",t.country)("city",t.city)("roomsNumber",t.roomsNumber)("bathroomsNumber",t.bathroomsNumber)("price",t.price)("image",t.photos[0])("description",t.description),r.yb(1),r.Wb("hidden",n.isDesktop())("id",t.id)("category",n.getCategory(t.category))("country",t.country)("city",t.city)("roomsNumber",t.roomsNumber)("bathroomsNumber",t.bathroomsNumber)("price",t.price)("image",t.photos[0])("description",t.description)}}let vw=(()=>{class t{constructor(t){this.database=t,this.sortType=0,this.rooms_1=!1,this.rooms_2=!1,this.rooms_3=!1,this.rooms_4=!1,this.rooms_5=!1,this.bathrooms_1=!1,this.bathrooms_2=!1,this.bathrooms_3=!1,this.bathrooms_4=!1,this.bathrooms_5=!1}ngOnInit(){this.database.getHousesPromise().then(t=>{this.houses=new Array,null!=li.searchCity&&"0"!=li.searchCity?(li.houses.forEach(t=>{t.city==li.searchCity&&this.houses.push(t)}),this.text="Flats and houses in "+li.searchCity):this.houses=li.houses})}isDesktop(){return li.isDesktop}getCategory(t){return 1==t?"Flat":"House"}Sort(t){this.sortType=t.value.sortType,0==this.sortType?this.houses=li.houses:1==this.sortType?this.houses.sort((t,e)=>t.price>e.price?-1:e.price>t.price?1:0):2==this.sortType&&this.houses.sort((t,e)=>t.price>e.price?1:e.price>t.price?-1:0)}OnlyHouses(){this.houses.forEach(t=>{2!=t.category&&this.houses.splice(this.houses.indexOf(t),1)})}OnlyFlats(){this.houses.forEach(t=>{1!=t.category&&this.houses.splice(this.houses.indexOf(t),1)})}Filter(t){this.minPrice=t.value.minPrice,this.maxPrice=t.value.maxPrice,this.rooms_1=t.value.rooms_1,this.rooms_2=t.value.rooms_2,this.rooms_3=t.value.rooms_3,this.rooms_4=t.value.rooms_4,this.rooms_5=t.value.rooms_5,this.bathrooms_1=t.value.bathrooms_1,this.bathrooms_2=t.value.bathrooms_2,this.bathrooms_3=t.value.bathrooms_3,this.bathrooms_4=t.value.bathrooms_4,this.bathrooms_5=t.value.bathrooms_5,this.houses=new Array,this.houses=this.get_Array_After_Price(li.houses),this.houses=this.get_Array_After_Rooms(this.houses),this.houses=this.get_Array_After_Bathrooms(this.houses)}get_Array_After_Price(t){let e=new Array;return t.forEach(t=>{null!=this.minPrice&&null!=this.maxPrice?t.price>=this.minPrice&&t.price<=this.maxPrice&&e.push(t):e.push(t)}),e}get_Array_After_Rooms(t){let e=new Array;return t.forEach(t=>{this.rooms_1&&1==t.roomsNumber||this.rooms_2&&2==t.roomsNumber||this.rooms_3&&3==t.roomsNumber||this.rooms_4&&4==t.roomsNumber||this.rooms_5&&t.roomsNumber>=5?e.push(t):this.rooms_1||this.rooms_2||this.rooms_3||this.rooms_4||this.rooms_5||e.push(t)}),e}get_Array_After_Bathrooms(t){let e=new Array;return t.forEach(t=>{this.bathrooms_1&&1==t.bathroomsNumber||this.bathrooms_2&&2==t.bathroomsNumber||this.bathrooms_3&&3==t.bathroomsNumber||this.bathrooms_4&&4==t.bathroomsNumber||this.bathrooms_5&&t.bathroomsNumber>=5?e.push(t):this.bathrooms_1||this.bathrooms_2||this.bathrooms_3||this.bathrooms_4||this.bathrooms_5||e.push(t)}),e}Cancel(){this.houses=new Array,this.houses=li.houses,this.rooms_1=!1,this.rooms_2=!1,this.rooms_3=!1,this.rooms_4=!1,this.rooms_5=!1,this.bathrooms_1=!1,this.bathrooms_2=!1,this.bathrooms_3=!1,this.bathrooms_4=!1,this.bathrooms_5=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Pv))},t.\u0275cmp=r.Db({type:t,selectors:[["app-houses-for-rent"]],decls:139,vars:16,consts:[[1,"main-content"],[1,"bar",3,"hidden"],[3,"ngSubmit"],["SortForm","ngForm"],[2,"padding-top","1em","padding-left","1vh","max-width","30vh"],[1,"d-flex","justify-content-center"],["name","sortType",1,"form-control",2,"max-width","80%",3,"ngModel"],["sort_select","ngModel"],["value","0","selected","","disabled",""],["value","0"],["disabled",""],["value","1"],["value","2"],["type","submit",1,"btn","btn-medium","search-button",2,"margin-top","0.5em","margin-left","2em","max-width","80%"],[2,"width","38vh",3,"ngSubmit"],["FilterForm","ngForm"],[1,"d-flex","align-items-center",2,"max-width","100vh","padding-top","3em"],[1,"col-md-10"],[1,"card"],[1,"filter-group"],[1,"card-header"],["href","#","data-toggle","collapse","data-target","#collapse_aside1","data-abc","true","aria-expanded","false",1,"collapsed"],[1,"icon-control","fa","fa-chevron-down"],[1,"title"],["id","collapse_aside1",1,"filter-content","collapse"],[1,"card-body"],[1,"list-menu"],["data-abc","true",2,"cursor","pointer",3,"click"],["href","#","data-toggle","collapse","data-target","#collapse_aside2","data-abc","true","aria-expanded","false",1,"collapsed"],["id","collapse_aside2",1,"filter-content","collapse"],[1,"form-row"],[1,"form-group","col-md-6"],[1,"dollar"],["type","number","name","minPrice",1,"form-control",3,"ngModel"],["min_select","ngModel"],[1,"form-group","text-right","col-md-6"],["type","number","name","maxPrice",1,"form-control",3,"ngModel"],["max_select","ngModel"],["href","#","data-toggle","collapse","data-target","#collapse_aside3","data-abc","true","aria-expanded","false",1,"collapsed"],["id","collapse_aside3",1,"filter-content","collapse"],[1,"checkbox-btn"],["type","checkbox","name","rooms_1",1,"custom-checkbox",3,"ngModel"],["rooms_1_select","ngModel"],[1,"btn","btn-light"],["type","checkbox","name","rooms_2",3,"ngModel"],["rooms_2_select","ngModel"],["type","checkbox","name","rooms_3",3,"ngModel"],["rooms_3_select","ngModel"],["type","checkbox","name","rooms_4",3,"ngModel"],["rooms_4_select","ngModel"],["type","checkbox","name","rooms_5",3,"ngModel"],["rooms_5_select","ngModel"],["href","#","data-toggle","collapse","data-target","#collapse_aside4","data-abc","true","aria-expanded","false",1,"collapsed"],["id","collapse_aside4",1,"filter-content","collapse"],["type","checkbox","name","bathrooms_1",1,"custom-checkbox",3,"ngModel"],["bathrooms_1_select","ngModel"],["type","checkbox","name","bathrooms_2",3,"ngModel"],["bathrooms_2_select","ngModel"],["type","checkbox","name","bathrooms_3",3,"ngModel"],["bathrooms_3_select","ngModel"],["type","checkbox","name","bathrooms_4",3,"ngModel"],["bathrooms_4_select","ngModel"],["type","checkbox","name","bathrooms_5",3,"ngModel"],["bathrooms_5_select","ngModel"],["data-abc","true",1,"highlight-button","btn","btn-medium","button","xs-margin-bottom-five",3,"click"],[1,"filter-group",2,"margin-top","0.5em"],[2,"position","relative","margin-top","-1vh"],[1,"d-flex","justify-content-center",2,"margin-left","1em","padding-top","1em"],[4,"ngFor","ngForOf"],[2,"width","60%","max-width","60%",3,"hidden","id","category","country","city","roomsNumber","bathroomsNumber","price","image","description"],[2,"width","100%","max-width","100%",3,"hidden","id","category","country","city","roomsNumber","bathroomsNumber","price","image","description"]],template:function(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",0),r.Mb(1,"div",1),r.Mb(2,"form",2,3),r.Tb("ngSubmit",function(){r.cc(t);const n=r.bc(3);return e.Sort(n)}),r.Mb(4,"div",4),r.Mb(5,"div",5),r.Mb(6,"select",6,7),r.Mb(8,"option",8),r.jc(9,"Sort by price"),r.Lb(),r.Mb(10,"option",9),r.jc(11,"None"),r.Lb(),r.Mb(12,"option",10),r.jc(13,"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500"),r.Lb(),r.Mb(14,"option",11),r.jc(15,"From max to min"),r.Lb(),r.Mb(16,"option",12),r.jc(17,"From min to max"),r.Lb(),r.Lb(),r.Lb(),r.Mb(18,"div",5),r.Mb(19,"button",13),r.jc(20,"Sort"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(21,"form",14,15),r.Tb("ngSubmit",function(){r.cc(t);const n=r.bc(22);return e.Filter(n)}),r.Mb(23,"div",16),r.Mb(24,"div",17),r.Mb(25,"div",18),r.Mb(26,"article",19),r.Mb(27,"header",20),r.Mb(28,"a",21),r.Kb(29,"i",22),r.Mb(30,"h6",23),r.jc(31,"Categories "),r.Lb(),r.Lb(),r.Lb(),r.Mb(32,"div",24),r.Mb(33,"div",25),r.Mb(34,"ul",26),r.Mb(35,"li"),r.Mb(36,"a",27),r.Tb("click",function(){return e.OnlyHouses()}),r.jc(37,"Houses "),r.Lb(),r.Lb(),r.Mb(38,"li"),r.Mb(39,"a",27),r.Tb("click",function(){return e.OnlyFlats()}),r.jc(40,"Flats "),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(41,"article",19),r.Mb(42,"header",20),r.Mb(43,"a",28),r.Kb(44,"i",22),r.Mb(45,"h6",23),r.jc(46,"Price "),r.Lb(),r.Lb(),r.Lb(),r.Mb(47,"div",29),r.Mb(48,"div",25),r.Mb(49,"div",30),r.Mb(50,"div",31),r.Mb(51,"label"),r.jc(52,"Min"),r.Lb(),r.Mb(53,"div",32),r.Kb(54,"input",33,34),r.Lb(),r.Lb(),r.Mb(56,"div",35),r.Mb(57,"label"),r.jc(58,"Max"),r.Lb(),r.Mb(59,"div",32),r.Kb(60,"input",36,37),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(62,"article",19),r.Mb(63,"header",20),r.Mb(64,"a",38),r.Kb(65,"i",22),r.Mb(66,"h6",23),r.jc(67,"Rooms "),r.Lb(),r.Lb(),r.Lb(),r.Mb(68,"div",39),r.Mb(69,"div",25),r.Mb(70,"label",40),r.Kb(71,"input",41,42),r.Mb(73,"span",43),r.jc(74," 1 "),r.Lb(),r.Lb(),r.Mb(75,"label",40),r.Kb(76,"input",44,45),r.Mb(78,"span",43),r.jc(79," 2 "),r.Lb(),r.Lb(),r.Mb(80,"label",40),r.Kb(81,"input",46,47),r.Mb(83,"span",43),r.jc(84," 3 "),r.Lb(),r.Lb(),r.Mb(85,"label",40),r.Kb(86,"input",48,49),r.Mb(88,"span",43),r.jc(89," 4 "),r.Lb(),r.Lb(),r.Mb(90,"label",40),r.Kb(91,"input",50,51),r.Mb(93,"span",43),r.jc(94," 5+ "),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(95,"article",19),r.Mb(96,"header",20),r.Mb(97,"a",52),r.Kb(98,"i",22),r.Mb(99,"h6",23),r.jc(100,"Bathrooms "),r.Lb(),r.Lb(),r.Lb(),r.Mb(101,"div",53),r.Mb(102,"div",25),r.Mb(103,"label",40),r.Kb(104,"input",54,55),r.Mb(106,"span",43),r.jc(107," 1 "),r.Lb(),r.Lb(),r.Mb(108,"label",40),r.Kb(109,"input",56,57),r.Mb(111,"span",43),r.jc(112," 2 "),r.Lb(),r.Lb(),r.Mb(113,"label",40),r.Kb(114,"input",58,59),r.Mb(116,"span",43),r.jc(117," 3 "),r.Lb(),r.Lb(),r.Mb(118,"label",40),r.Kb(119,"input",60,61),r.Mb(121,"span",43),r.jc(122," 4 "),r.Lb(),r.Lb(),r.Mb(123,"label",40),r.Kb(124,"input",62,63),r.Mb(126,"span",43),r.jc(127," 5+ "),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(128,"article",19),r.Mb(129,"a",64),r.Tb("click",function(){r.cc(t);const n=r.bc(22);return e.Filter(n)}),r.jc(130,"Apply Now"),r.Lb(),r.Lb(),r.Mb(131,"article",65),r.Mb(132,"a",64),r.Tb("click",function(){return e.Cancel()}),r.jc(133,"Cancel"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(134,"div",66),r.Mb(135,"div",67),r.Mb(136,"h6"),r.jc(137),r.Lb(),r.Lb(),r.ic(138,yw,4,20,"div",68),r.Lb(),r.Lb()}2&t&&(r.yb(1),r.Wb("hidden",!e.isDesktop()),r.yb(5),r.Wb("ngModel",e.sortType),r.yb(48),r.Wb("ngModel",e.minPrice),r.yb(6),r.Wb("ngModel",e.maxPrice),r.yb(11),r.Wb("ngModel",e.rooms_1),r.yb(5),r.Wb("ngModel",e.rooms_2),r.yb(5),r.Wb("ngModel",e.rooms_3),r.yb(5),r.Wb("ngModel",e.rooms_4),r.yb(5),r.Wb("ngModel",e.rooms_5),r.yb(13),r.Wb("ngModel",e.bathrooms_1),r.yb(5),r.Wb("ngModel",e.bathrooms_2),r.yb(5),r.Wb("ngModel",e.bathrooms_3),r.yb(5),r.Wb("ngModel",e.bathrooms_4),r.yb(5),r.Wb("ngModel",e.bathrooms_5),r.yb(13),r.kc(e.text),r.yb(1),r.Wb("ngForOf",e.houses))},directives:[$_,a_,B_,m_,s_,W_,y_,O_,c_,Fv,Dv,k,mw],styles:['@import url("https://fonts.googleapis.com/css?family=Open+Sans&display=swap");.main-content[_ngcontent-%COMP%]{margin-top:1vh;min-height:92vh;background:#f4f6f0}.bar[_ngcontent-%COMP%]{position:absolute;left:1vh;top:10vh;z-index:1;width:40vh}.search-button[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.8)!important;color:#151f28;border-radius:0 5px 5px 0}.search-button[_ngcontent-%COMP%]:hover{background-color:#ff844c!important;color:#f4f6f0}body[_ngcontent-%COMP%]{background-color:#eee;font-family:Open Sans,serif;font-size:14px}.filter-group[_ngcontent-%COMP%]{border-bottom:1px solid #e4e4e4}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-clip:initial;border:1px solid rgba(0,0,0,.1);border-radius:.37rem}.card[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{background-color:#fff}.card-header[_ngcontent-%COMP%]{padding:.75rem 1.25rem;margin-bottom:0;border-bottom:1px solid rgba(0,0,0,.1)}.card-body[_ngcontent-%COMP%]{margin-top:-3vh}.filter-group[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{border-bottom:0}.icon-control[_ngcontent-%COMP%]{margin-top:6px;float:right;font-size:80px}.list-menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding-left:0}.list-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#151f28}a[_ngcontent-%COMP%]{text-decoration:none!important;background-color:initial}.checkbox-btn[_ngcontent-%COMP%]{position:relative}.checkbox-btn[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;z-index:-1;opacity:0}.checkbox-btn[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .btn[_ngcontent-%COMP%]{border-color:#ff844c;background-color:#ff844c}.btn-light[_ngcontent-%COMP%]{display:inline-block;font-weight:600;color:#343a40;text-align:center;vertical-align:middle;-webkit-user-select:none;user-select:none;background-color:#eee;border:1px solid #eee;padding:.45rem .85rem;font-size:10px;line-height:1.5;border-radius:.37rem}.btn-light[_ngcontent-%COMP%]:hover{background-color:#fff;border-color:#989898}.btn-medium[_ngcontent-%COMP%]{font-size:12px;padding:10px 22px;display:inline-block;margin-right:20px;letter-spacing:2px;border:1px solid #ff844c;width:100%}.highlight-button[_ngcontent-%COMP%]:hover{background-color:#ff844c;border:2px solid #ff844c;color:#fff}.custom-control[_ngcontent-%COMP%]{position:relative;display:block;min-height:1.5rem;padding-left:1.5rem}.dollar[_ngcontent-%COMP%]{display:inline-block;position:relative}.dollar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:15px}.dollar[_ngcontent-%COMP%]:before{position:absolute;content:"$";left:5px;top:2px}.container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:20px;margin-bottom:5px;cursor:pointer;font-size:16px;-webkit-user-select:none;user-select:none}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{position:absolute;top:5px;left:0;height:16px;width:16px;background-color:#eee}.container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#ff844c}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{left:6px;top:3px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;transform:rotate(45deg)}.title[_ngcontent-%COMP%]{color:#151f28;font-size:18px}']}),t})();function _w(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",48),r.Mb(1,"div",49),r.Kb(2,"img",50),r.Mb(3,"a",51),r.Tb("click",function(){r.cc(t);const n=e.$implicit;return r.Vb().removeImage(n)}),r.jc(4,"Delete"),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit;r.yb(2),r.Xb("src",t,r.dc)}}let ww=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.database=n,this.house=new di,this.isNewHouse=!0}ngOnInit(){li.person.isOwner||this.router.navigateByUrl("/"),this.route.params.subscribe(t=>{this.house=new di,t.id?(this.house=this.database.getHouse(t.id),this.isNewHouse=!1):this.isNewHouse=!0})}eulaCheck(){this.agrrEula=!this.agrrEula}onSelectFile(t){if(t.target.files&&t.target.files[0]){var e=Oi.a.storage().ref().child("images/"+li.person.id+"/"+Date.now()+"-"+t.target.files[0].name).put(t.target.files[0]);e.on("state_changed",t=>{},t=>{console.log(t)},()=>{e.snapshot.ref.getDownloadURL().then(t=>{this.house.photos.push(t),console.log(t)})})}}removeImage(t){let e;this.house.photos.forEach(n=>{n==t&&(e=this.house.photos.indexOf(t),this.house.photos.splice(e,1))})}addHouse(t){let e=document.getElementById("alert");t.invalid?(e.style.display="block",window.scrollTo(0,0)):(e.style.display="none",this.house.ownerId=li.person.id,this.house.category=t.value.category,this.house.price=t.value.price,this.house.country=t.value.country,this.house.city=t.value.city,this.house.postalCode=t.value.postalCode,this.house.roomsNumber=t.value.roomsNumber,this.house.bathroomsNumber=t.value.bathroomsNumber,this.house.description=t.value.description,this.isNewHouse?(this.house.id=li.person.id+"-"+Date.now(),this.database.saveHouse(this.house)):this.database.changeHouse(this.house),console.log(this.house),t.reset(),this.router.navigateByUrl("/"))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Hr),r.Jb(En),r.Jb(Pv))},t.\u0275cmp=r.Db({type:t,selectors:[["app-create-house"]],decls:100,vars:18,consts:[["xmlns","http://www.w3.org/1999/html",1,"main-content"],[1,"d-flex","justify-content-center",2,"padding","0.5em"],["id","alert",1,"alert"],["onclick","this.parentElement.style.display='none';",1,"closebtn"],[1,"d-flex","justify-content-center",2,"padding","2em 1em 1em","margin-top","1.5em"],[1,"main-form",3,"ngSubmit"],["houseForm","ngForm"],[1,"form-row","justify-content-center"],[1,""],[1,"form-row"],[1,"col-md-4","mb-3"],[1,"form-group"],["name","category","required","",1,"custom-select",3,"ngModel"],["category","ngModel"],["value","0","selected","","disabled",""],["value","1"],["value","2"],[1,"invalid",3,"hidden"],["type","number","min","1","value","1","name","roomsNumber","required","",1,"form-control",3,"ngModel"],["roomsNumber","ngModel"],["type","number","min","1","value","1","name","bathroomsNumber","required","",1,"form-control",3,"ngModel"],["bathroomsNumber","ngModel"],["type","text","placeholder","Country","name","country","required","",1,"form-control",3,"ngModel"],["country","ngModel"],[1,"col-md-6","mb-3"],["type","text","placeholder","City","name","city","required","",1,"form-control",3,"ngModel"],["city","ngModel"],[1,"col-md-2","mb-3"],["type","text","placeholder","Postal","name","postalCode","required","",1,"form-control",3,"ngModel"],["postalCode","ngModel"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],["type","number","placeholder","Price","min","1","step","0.1","name","price","required","",1,"form-control",3,"ngModel"],["price","ngModel"],[1,"col-md-8","mb-3"],[1,"custom-file"],["type","file",1,"custom-file-input",3,"change"],[1,"custom-file-label"],["rows","3","name","description",1,"form-control",2,"min-height","4em","max-height","12em",3,"ngModel"],[1,"form-check"],["type","checkbox","name","eula","required","",1,"form-check-input",2,"width","18px","height","18px",3,"checked","ngModel"],["eula","ngModel"],[1,"form-check-label","ml-1",3,"click"],["type","submit",1,"btn","btn-primary",2,"width","20em"],[1,"d-flex","justify-content-center",2,"padding","1em"],[1,"box","justify-content-center"],["class","","style","padding: 1em",4,"ngFor","ngForOf"],[1,"",2,"padding","1em"],[1,"card",2,"width","20em"],[1,"card-img-top",3,"src"],[1,"btn","btn-danger",3,"click"]],template:function(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",0),r.Mb(1,"div",1),r.Mb(2,"div",2),r.Mb(3,"span",3),r.jc(4,"\xd7"),r.Lb(),r.Mb(5,"strong"),r.jc(6,"Invalid input data! "),r.Lb(),r.jc(7," Please, check your data and agree to our terms and conditions. "),r.Lb(),r.Lb(),r.Mb(8,"div",4),r.Mb(9,"form",5,6),r.Tb("ngSubmit",function(){r.cc(t);const n=r.bc(10);return e.addHouse(n)}),r.Mb(11,"div",7),r.Mb(12,"h1",8),r.jc(13,"Make money on your house"),r.Lb(),r.Lb(),r.Mb(14,"div",9),r.Mb(15,"div",10),r.Mb(16,"label"),r.jc(17,"House/Flat type"),r.Lb(),r.Mb(18,"div",11),r.Mb(19,"select",12,13),r.Mb(21,"option",14),r.jc(22,"Select here"),r.Lb(),r.Mb(23,"option",15),r.jc(24,"Flat"),r.Lb(),r.Mb(25,"option",16),r.jc(26,"House"),r.Lb(),r.Lb(),r.Mb(27,"p",17),r.jc(28,"*Must be selected "),r.Lb(),r.Lb(),r.Lb(),r.Mb(29,"div",10),r.Mb(30,"label"),r.jc(31,"Rooms number"),r.Lb(),r.Kb(32,"input",18,19),r.Mb(34,"p",17),r.jc(35,"*Must be filed"),r.Lb(),r.Lb(),r.Mb(36,"div",10),r.Mb(37,"label"),r.jc(38,"Bathrooms number"),r.Lb(),r.Kb(39,"input",20,21),r.Mb(41,"p",17),r.jc(42,"*Must be filed"),r.Lb(),r.Lb(),r.Lb(),r.Mb(43,"div",9),r.Mb(44,"div",10),r.Mb(45,"label"),r.jc(46,"Country"),r.Lb(),r.Kb(47,"input",22,23),r.Mb(49,"p",17),r.jc(50,"*Must be filed"),r.Lb(),r.Lb(),r.Mb(51,"div",24),r.Mb(52,"label"),r.jc(53,"City"),r.Lb(),r.Kb(54,"input",25,26),r.Mb(56,"p",17),r.jc(57,"*Must be filed"),r.Lb(),r.Lb(),r.Mb(58,"div",27),r.Mb(59,"label"),r.jc(60,"Postal code"),r.Lb(),r.Kb(61,"input",28,29),r.Mb(63,"p",17),r.jc(64,"*Must be filed"),r.Lb(),r.Lb(),r.Lb(),r.Mb(65,"div",9),r.Mb(66,"div",10),r.Mb(67,"label"),r.jc(68,"Price"),r.Lb(),r.Mb(69,"div",30),r.Mb(70,"div",31),r.Mb(71,"span",32),r.jc(72,"$"),r.Lb(),r.Lb(),r.Kb(73,"input",33,34),r.Lb(),r.Mb(75,"p",17),r.jc(76,"*Must be filed"),r.Lb(),r.Lb(),r.Mb(77,"div",35),r.Mb(78,"label"),r.jc(79,"Select Photo"),r.Lb(),r.Mb(80,"div",36),r.Mb(81,"input",37),r.Tb("change",function(t){return e.onSelectFile(t)}),r.Lb(),r.Mb(82,"label",38),r.jc(83,"Choose file"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(84,"div",11),r.Mb(85,"label"),r.jc(86,"Enter description if you want"),r.Lb(),r.Kb(87,"textarea",39),r.Lb(),r.Mb(88,"div",11),r.Mb(89,"div",40),r.Kb(90,"input",41,42),r.Mb(92,"label",43),r.Tb("click",function(){return e.eulaCheck()}),r.jc(93,"Agree to terms and conditions"),r.Lb(),r.Lb(),r.Lb(),r.Mb(94,"div",7),r.Mb(95,"button",44),r.jc(96,"Create proposition"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(97,"div",45),r.Mb(98,"div",46),r.ic(99,_w,5,1,"div",47),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=r.bc(20),n=r.bc(33),i=r.bc(40),o=r.bc(48),s=r.bc(55),a=r.bc(62),u=r.bc(74);r.yb(19),r.Wb("ngModel",e.house.category),r.yb(8),r.Wb("hidden",!(t.touched&&"0"==t.value)),r.yb(5),r.Wb("ngModel",e.house.roomsNumber),r.yb(2),r.Wb("hidden",!(n.touched&&n.invalid)),r.yb(5),r.Wb("ngModel",e.house.bathroomsNumber),r.yb(2),r.Wb("hidden",!(i.touched&&i.invalid)),r.yb(6),r.Wb("ngModel",e.house.country),r.yb(2),r.Wb("hidden",!(o.touched&&o.invalid)),r.yb(5),r.Wb("ngModel",e.house.city),r.yb(2),r.Wb("hidden",!(s.touched&&s.invalid)),r.yb(5),r.Wb("ngModel",e.house.postalCode),r.yb(2),r.Wb("hidden",!(a.touched&&a.invalid)),r.yb(10),r.Wb("ngModel",e.house.price),r.yb(2),r.Wb("hidden",!(u.touched&&u.invalid)),r.yb(12),r.Wb("ngModel",e.house.description),r.yb(3),r.Wb("checked",!1)("ngModel",e.agrrEula),r.yb(9),r.Wb("ngForOf",e.house.photos)}},directives:[$_,a_,B_,m_,J_,s_,W_,y_,O_,c_,Fv,Z_,Dv,k],styles:[".main-content[_ngcontent-%COMP%]{min-height:92vh;background:rgba(244,246,240,.8)}.main-form[_ngcontent-%COMP%]{color:#151f28}.image-grid[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:1rem}.box[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.box[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1 1 160px}.invalid[_ngcontent-%COMP%]{color:red;font-size:small}.alert[_ngcontent-%COMP%]{padding:20px;background-color:#f44336;color:#fff;position:absolute;display:none}.closebtn[_ngcontent-%COMP%]{margin-left:15px;color:#fff;font-weight:700;float:right;font-size:22px;line-height:20px;cursor:pointer;transition:.3s}.closebtn[_ngcontent-%COMP%]:hover{color:#000}"]}),t})();const Ow=function(t){return["/create-house",t]};function Ew(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",3),r.Mb(1,"div",4),r.Mb(2,"div",5),r.jc(3),r.Lb(),r.Mb(4,"div",6),r.Mb(5,"h5",7),r.jc(6),r.Lb(),r.Mb(7,"div",8),r.Mb(8,"div",9),r.Mb(9,"div",10),r.Mb(10,"p",11),r.jc(11),r.Lb(),r.Lb(),r.Kb(12,"div",10),r.Mb(13,"div",10),r.Mb(14,"p",11),r.jc(15),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(16,"p",11),r.jc(17),r.Lb(),r.Mb(18,"div",12),r.Mb(19,"a",13),r.jc(20,"Edit"),r.Lb(),r.Mb(21,"a",14),r.Tb("click",function(){r.cc(t);const n=e.$implicit;return r.Vb().deleteAdvert(n.id)}),r.jc(22,"Delete"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit,n=r.Vb();r.yb(3),r.lc(" ",n.getCategory(t.category)," "),r.yb(3),r.lc("$",t.price,""),r.yb(5),r.mc("",t.city,", ",t.country,""),r.yb(4),r.mc("Rooms: ",t.roomsNumber,", Bathrooms: ",t.bathroomsNumber,""),r.yb(2),r.kc(t.description),r.yb(2),r.Wb("routerLink",r.Zb(8,Ow,t.id))}}let Cw=(()=>{class t{constructor(t){this.database=t}ngOnInit(){this.database.getHousesForOwner()}getHouses(){return li.houses}getCategory(t){return 1==t?"Flat":"House"}deleteAdvert(t){this.database.deleteHouse(t),this.database.getHousesForOwner()}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Pv))},t.\u0275cmp=r.Db({type:t,selectors:[["app-owner-houses-list"]],decls:5,vars:1,consts:[[1,"main-content"],[1,"d-flex","justify-content-center","pt-3"],["class","d-flex justify-content-center pt-4",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","pt-4"],[1,"card",2,"width","40em"],[1,"card-header"],[1,"card-body"],[1,"card-title"],[1,"container",2,"margin-left","-1em"],[1,"row"],[1,"col-sm"],[1,"card-text"],[1,"row","justify-content-end"],[1,"btn","btn-primary",2,"margin-right","1em",3,"routerLink"],[1,"btn","btn-danger",2,"margin-right","1em",3,"click"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Mb(2,"h3"),r.jc(3,"Your houses/flats:"),r.Lb(),r.Lb(),r.ic(4,Ew,23,10,"div",2),r.Lb()),2&t&&(r.yb(4),r.Wb("ngForOf",e.getHouses()))},directives:[k,zr],styles:[".main-content[_ngcontent-%COMP%]{min-height:92vh;background:#f4f6f0}"]}),t})(),xw={};var Sw=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(qy){o(qy)}}function a(t){try{u(r.throw(t))}catch(qy){o(qy)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})};class Tw{constructor(t){this.handleClick=()=>Sw(this,void 0,void 0,function*(){const t=this.config;if(!t)throw new Error("google-pay-button: Missing configuration");const e=this.createLoadPaymentDataRequest(t);try{const n=yield this.client.loadPaymentData(e);t.onLoadPaymentData&&t.onLoadPaymentData(n)}catch(n){"CANCELED"===n.statusCode?t.onCancel&&t.onCancel(n):t.onError?t.onError(n):console.error(n)}}),this.options=t}getElement(){return this.element}isGooglePayLoaded(){var t,e;return"google"in(window||global)&&!!(null===(e=null===(t=null===google||void 0===google?void 0:google.payments)||void 0===t?void 0:t.api)||void 0===e?void 0:e.PaymentsClient)}mount(t){return Sw(this,void 0,void 0,function*(){this.isGooglePayLoaded()||(yield function(t){const e=xw[t];if(e)return e;const n=new Promise((e,n)=>{const r=document.createElement("script");r.src=t,r.async=!0;const i=()=>{e()},o=()=>{r.removeEventListener("load",i),r.removeEventListener("error",o),delete xw[t],r.remove(),n(new Error("Unable to load script "+t))};r.addEventListener("load",i),r.addEventListener("error",o),document.body.appendChild(r)});return xw[t]=n,n}("https://pay.google.com/gp/p/js/pay.js")),this.element=t,t&&(this.appendStyles(),this.config&&this.updateElement())})}unmount(){this.element=void 0}configure(t){let e=void 0;return this.config=t,this.oldInvalidationValues&&!this.isClientInvalidated(t)||(e=this.updateElement()),this.oldInvalidationValues=this.getInvalidationValues(t),null!=e?e:Promise.resolve()}createClientOptions(t){const e={environment:t.environment,merchantInfo:this.createMerchantInfo(t)};return(t.onPaymentDataChanged||t.onPaymentAuthorized)&&(e.paymentDataCallbacks={},t.onPaymentDataChanged&&(e.paymentDataCallbacks.onPaymentDataChanged=e=>t.onPaymentDataChanged(e)||{}),t.onPaymentAuthorized&&(e.paymentDataCallbacks.onPaymentAuthorized=e=>t.onPaymentAuthorized(e)||{})),e}createIsReadyToPayRequest(t){const e=t.paymentRequest;return{apiVersion:e.apiVersion,apiVersionMinor:e.apiVersionMinor,allowedPaymentMethods:e.allowedPaymentMethods,existingPaymentMethodRequired:t.existingPaymentMethodRequired}}createLoadPaymentDataRequest(t){return Object.assign(Object.assign({},t.paymentRequest),{merchantInfo:this.createMerchantInfo(t)})}createMerchantInfo(t){const e=Object.assign({},t.paymentRequest.merchantInfo);return e.softwareInfo||(e.softwareInfo={id:this.options.softwareInfoId,version:this.options.softwareInfoVersion}),e}isMounted(){return null!=this.element&&!1!==this.element.isConnected}removeButton(){if(this.element instanceof ShadowRoot||this.element instanceof Element)for(const t of Array.from(this.element.children))"STYLE"!==t.tagName&&t.remove()}updateElement(){var t;return Sw(this,void 0,void 0,function*(){if(!this.isMounted())return;const e=this.element;if(!this.config)throw new Error("google-pay-button: Missing configuration");this.removeButton(),this.client=new google.payments.api.PaymentsClient(this.createClientOptions(this.config));const n={buttonType:this.config.buttonType,buttonColor:this.config.buttonColor,buttonSizeMode:this.config.buttonSizeMode,buttonLocale:this.config.buttonLocale,onClick:this.handleClick},r=null===(t=this.element)||void 0===t?void 0:t.getRootNode();r instanceof ShadowRoot&&(n.buttonRootNode=r);const i=this.client.createButton(n);this.setClassName(e,[e.className,"not-ready"]),e.appendChild(i);let o,s=!1;try{o=yield this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config)),s=o.result&&!this.config.existingPaymentMethodRequired||o.result&&o.paymentMethodPresent&&this.config.existingPaymentMethodRequired||!1}catch(a){this.config.onError?this.config.onError(a):console.error(a)}if(this.isMounted()){if(s){try{this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config))}catch(a){console.log("Error with prefetch",a)}this.setClassName(e,(e.className||"").split(" ").filter(t=>t&&"not-ready"!==t))}if((this.isReadyToPay!==(null==o?void 0:o.result)||this.paymentMethodPresent!==(null==o?void 0:o.paymentMethodPresent))&&(this.isReadyToPay=!!(null==o?void 0:o.result),this.paymentMethodPresent=null==o?void 0:o.paymentMethodPresent,this.config.onReadyToPayChange)){const t={isButtonVisible:s,isReadyToPay:this.isReadyToPay};this.paymentMethodPresent&&(t.paymentMethodPresent=this.paymentMethodPresent),this.config.onReadyToPayChange(t)}}})}setClassName(t,e){const n=e.filter(t=>t).join(" ");n?t.className=n:t.removeAttribute("class")}appendStyles(){var t,e,n;if("undefined"==typeof document)return;const r=null===(t=this.element)||void 0===t?void 0:t.getRootNode(),i=`default-google-style-${this.options.cssSelector.replace(/[^\w-]+/g,"")}-${null===(e=this.config)||void 0===e?void 0:e.buttonLocale}`;if(r&&!(null===(n=r.getElementById)||void 0===n?void 0:n.call(r,i))){const t=document.createElement("style");t.id=i,t.type="text/css",t.innerHTML=`\n          ${this.options.cssSelector} {\n            display: inline-block;\n          }\n          ${this.options.cssSelector}.not-ready {\n            width: 0;\n            height: 0;\n            overflow: hidden;\n          }\n        `,r instanceof Document&&r.head?r.head.appendChild(t):r.appendChild(t)}}isClientInvalidated(t){return!this.oldInvalidationValues||this.getInvalidationValues(t).some((t,e)=>t!==this.oldInvalidationValues[e])}getInvalidationValues(t){var e,n;return[t.environment,t.existingPaymentMethodRequired,!!t.onPaymentDataChanged,!!t.onPaymentAuthorized,t.buttonColor,t.buttonType,t.buttonLocale,t.buttonSizeMode,t.paymentRequest.merchantInfo.merchantId,t.paymentRequest.merchantInfo.merchantName,null===(e=t.paymentRequest.merchantInfo.softwareInfo)||void 0===e?void 0:e.id,null===(n=t.paymentRequest.merchantInfo.softwareInfo)||void 0===n?void 0:n.version]}}let Iw=(()=>{class t{constructor(t){this.elementRef=t,this.manager=new Tw({cssSelector:"google-pay-button",softwareInfoId:"@google-pay/button-angular",softwareInfoVersion:"2.3.0"}),this.initializeButton=function(t,e=0){let n;return function(...r){return window.clearTimeout(n),new Promise(i=>{n=window.setTimeout(()=>{const e=(n=void 0,t(...r));i(e)},e)})}}(()=>{this.assertRequiredProperty("paymentRequest")&&this.assertRequiredProperty("environment")&&this.manager.configure({paymentRequest:this.paymentRequest,environment:this.environment,existingPaymentMethodRequired:this.existingPaymentMethodRequired,onPaymentDataChanged:this.paymentDataChangedCallback,onPaymentAuthorized:this.paymentAuthorizedCallback,buttonColor:this.buttonColor,buttonType:this.buttonType,buttonSizeMode:this.buttonSizeMode,buttonLocale:this.buttonLocale,onReadyToPayChange:t=>{this.readyToPayChangeCallback&&this.readyToPayChangeCallback(t),this.dispatch("readytopaychange",t)},onCancel:t=>{this.cancelCallback&&this.cancelCallback(t),this.dispatch("cancel",t)},onError:t=>{var e;this.errorCallback&&(null===(e=this.errorCallback)||void 0===e||e.call(this,t)),this.elementRef.nativeElement.dispatchEvent(new ErrorEvent("error",{error:t}))},onLoadPaymentData:t=>{this.loadPaymentDataCallback&&this.loadPaymentDataCallback(t),this.dispatch("loadpaymentdata",t)}})})}get isReadyToPay(){return this.manager.isReadyToPay}ngOnInit(){return this.manager.mount(this.elementRef.nativeElement)}ngOnChanges(){return this.initializeButton()}assertRequiredProperty(t){return null!=this[t]||(this.throwError(Error("Required property not set: "+t)),!1)}throwError(t){throw t}dispatch(t,e){this.elementRef.nativeElement.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!1,detail:e}))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(r.l))},t.\u0275dir=r.Eb({type:t,selectors:[["google-pay-button"]],inputs:{paymentRequest:"paymentRequest",environment:"environment",existingPaymentMethodRequired:"existingPaymentMethodRequired",buttonColor:"buttonColor",buttonType:"buttonType",buttonSizeMode:"buttonSizeMode",buttonLocale:"buttonLocale",paymentDataChangedCallback:"paymentDataChangedCallback",paymentAuthorizedCallback:"paymentAuthorizedCallback",readyToPayChangeCallback:"readyToPayChangeCallback",loadPaymentDataCallback:"loadPaymentDataCallback",cancelCallback:"cancelCallback",errorCallback:"errorCallback"},features:[r.wb]}),t})(),jw=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[]]}),t})();const kw=["payPalButtonContainer"];let Aw=(()=>{class t{constructor(t){this.zone=t}registerScript(t,e,n){const r=window[e];if(r)return void this.zone.run(()=>{n(r)});const i=document.createElement("script");i.id=this.getElemId(e),i.innerHTML="",i.onload=()=>{this.zone.run(()=>{n(window[e])})},i.src=t,i.async=!0,i.defer=!0,document.getElementsByTagName("head")[0].appendChild(i)}cleanup(t){const e=document.getElementById(this.getElemId(t));e&&e.remove()}getElemId(t){return"ngx-paypal-script-elem-"+t}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.z))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Pw=(()=>{class t{constructor(t){this.scriptService=t,this.paypalWindowName="paypal"}registerPayPalScript(t,e){this.scriptService.registerScript(this.getUrlForConfig(t),this.paypalWindowName,e)}destroyPayPalScript(){this.scriptService.cleanup(this.paypalWindowName)}getUrlForConfig(t){const e=[{name:"client-id",value:t.clientId}];return t.currency&&e.push({name:"currency",value:t.currency}),t.commit&&e.push({name:"commit",value:t.commit}),t.vault&&e.push({name:"vault",value:t.vault}),t.extraParams&&e.push(...t.extraParams),"https://www.paypal.com/sdk/js"+this.getQueryString(e)}getQueryString(t){let e="";for(let n=0;n<t.length;n++){const r=t[n];e+=0===n?"?":"&",e+=`${r.name}=${r.value}`}return e}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Aw))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac}),t})(),Mw=(()=>{class t{constructor(t,e,n){this.paypalScriptService=t,this.cdr=e,this.ngZone=n,this.registerScript=!0,this.scriptLoaded=new r.n,this.ngUnsubscribe=new pt.a,this.initializePayPal=!0}set payPalButtonContainer(t){this.payPalButtonContainerElem=t}ngOnChanges(t){this.payPalButtonContainerId||(this.payPalButtonContainerId=this.generateElementId());const e=this.config;t.config.isFirstChange()&&e&&this.registerScript&&this.initPayPalScript(e,t=>{this.payPal=t,this.doPayPalCheck()}),t.config.isFirstChange()||this.reinitialize(e)}ngOnDestroy(){this.paypalScriptService.destroyPayPalScript(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngAfterViewInit(){this.doPayPalCheck()}customInit(t){this.payPal=t,this.doPayPalCheck()}reinitialize(t){if(this.config=t,this.payPal=void 0,this.paypalScriptService.destroyPayPalScript(),this.payPalButtonContainerId=this.generateElementId(),this.initializePayPal=!0,this.payPalButtonContainerElem)for(;this.payPalButtonContainerElem.nativeElement.firstChild;)this.payPalButtonContainerElem.nativeElement.removeChild(this.payPalButtonContainerElem.nativeElement.firstChild);this.cdr.detectChanges(),this.config&&(this.payPal?this.doPayPalCheck():this.initPayPalScript(this.config,t=>{this.payPal=t,this.doPayPalCheck()}))}doPayPalCheck(){this.initializePayPal&&this.config&&this.payPal&&this.payPalButtonContainerElem&&this.payPalButtonContainerElem.nativeElement.id&&(this.initializePayPal=!1,this.initPayPal(this.config,this.payPal))}initPayPalScript(t,e){this.paypalScriptService.registerPayPalScript({clientId:t.clientId,commit:t.advanced&&t.advanced.commit?t.advanced.commit:void 0,currency:t.currency,vault:t.vault,extraParams:t.advanced&&t.advanced.extraQueryParams?t.advanced.extraQueryParams:[]},t=>{this.scriptLoaded.next(t),e(t)})}generateElementId(){return"ngx-captcha-id-"+(new Date).valueOf()}initPayPal(t,e){this.ngZone.runOutsideAngular(()=>{const n=Object.assign(Object.assign(Object.assign({style:t.style,onApprove:(e,n)=>this.ngZone.run(()=>{if(t.onApprove&&t.onApprove(e,n),t.authorizeOnServer)return t.authorizeOnServer(e,n);const r=t.onClientAuthorization;r&&n.order.capture().then(t=>{this.ngZone.run(()=>{r(t)})})}),onError:e=>{this.ngZone.run(()=>{t.onError&&t.onError(e)})},onCancel:(e,n)=>{this.ngZone.run(()=>{t.onCancel&&t.onCancel(e,n)})},onClick:(e,n)=>{this.ngZone.run(()=>{t.onClick&&t.onClick(e,n)})},onInit:(e,n)=>{this.ngZone.run(()=>{t.onInit&&t.onInit(e,n)})}},(t.createOrderOnClient||t.createOrderOnServer)&&{createOrder:(e,n)=>this.ngZone.run(()=>{if(t.createOrderOnClient&&t.createOrderOnServer)throw Error("Both 'createOrderOnClient' and 'createOrderOnServer' are defined.\n                    Please choose one or the other.");if(!t.createOrderOnClient&&!t.createOrderOnServer)throw Error("Neither 'createOrderOnClient' or 'createOrderOnServer' are defined.\n                    Please define one of these to create order.");if(t.createOrderOnClient)return n.order.create(t.createOrderOnClient(e));if(t.createOrderOnServer)return t.createOrderOnServer(e);throw Error("Invalid state for 'createOrder'.")})}),t.createSubscription&&{createSubscription:(e,n)=>this.ngZone.run(()=>{if(t.createSubscription)return t.createSubscription(e,n)})}),t.onShippingChange&&{onShippingChange:(e,n)=>this.ngZone.run(()=>{if(t.onShippingChange)return t.onShippingChange(e,n)})});e.Buttons(n).render("#"+this.payPalButtonContainerId)})}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Pw),r.Jb(r.h),r.Jb(r.z))},t.\u0275cmp=r.Db({type:t,selectors:[["ngx-paypal"]],viewQuery:function(t,e){if(1&t&&r.nc(kw,!0),2&t){let t;r.ac(t=r.Ub())&&(e.payPalButtonContainer=t.first)}},inputs:{registerScript:"registerScript",config:"config"},outputs:{scriptLoaded:"scriptLoaded"},features:[r.wb],decls:2,vars:1,consts:[[3,"id"],["payPalButtonContainer",""]],template:function(t,e){1&t&&r.Kb(0,"div",0,1),2&t&&r.Wb("id",e.payPalButtonContainerId)},encapsulation:2,changeDetection:0}),t})(),Nw=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Aw,Pw],imports:[[P]]}),t})();function Lw(t,e){if(1&t&&(r.Mb(0,"div",40),r.Mb(1,"div",41),r.Kb(2,"img",42),r.Lb(),r.Lb()),2&t){const t=e.$implicit,n=r.Vb();r.yb(2),r.gc(n.getPreparedSize()),r.Xb("src",t,r.dc)}}const Rw=[{path:"",component:gw,children:[{path:"",component:dw},{path:"houses-for-rent",component:vw},{path:"my-advertisements",component:Cw},{path:"create-house",component:ww},{path:"create-house/:id",component:ww},{path:"house-details/:id",component:(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.database=n,this.house=new di,this.owner=new fi,this.months=1,this.total=this.house.price*this.months,this.slideIndex=0,this.showSuccess=!1}ngOnInit(){this.route.params.subscribe(t=>{this.house=new di,t.id?(this.house=this.database.getHouse(t.id),this.database.getOwner(this.house.ownerId).then(t=>{this.owner=t,this.total=this.house.price*this.months})):this.router.navigateByUrl("/")}),this.initPayPalConfig(),this.initGooglePayConfig()}ngAfterViewInit(){this.plusSlides(1)}plusSlides(t){this.showSlides(this.slideIndex+=t)}showSlides(t){let e,n=document.getElementsByClassName("mySlides");for(t>n.length&&(this.slideIndex=1),t<1&&(this.slideIndex=n.length),e=0;e<n.length;e++)n[e].style.display="none";n[this.slideIndex-1].style.display="block"}getHouseCategory(){let t="Error of loading page, please go back to the main page";return 1==this.house.category?t="Flat":2==this.house.category&&(t="House"),null!=this.house.id&&(t=t+" in "+this.house.city),t}getCt(){return 1==this.house.category?"Flat":"House"}getMargin(){return li.isDesktop?"margin-left: -20%":""}getPreparedSize(){return li.isDesktop?"max-width: 110vh; max-height: 60vh;":"max-width: 99%; max-height: 30vh;"}countTotal(){this.total=this.house.price*this.months}initGooglePayConfig(){this.googlePayConfig={apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["VISA","MASTERCARD"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"allpayments",gatewayMerchantId:"exampleGatewayMerchantId"}}}],merchantInfo:{merchantId:"BCR2DN6TV7BM3M3V",merchantName:"Rently"},transactionInfo:{totalPriceStatus:"FINAL",totalPriceLabel:"Total",totalPrice:(this.months*this.house.price).toString(),currencyCode:"USD",countryCode:"US"}}}onLoadPaymentData(t){console.log("load payment data",t.detail)}initPayPalConfig(){this.payPalConfig={currency:"USD",clientId:"sb",createOrderOnClient:t=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"USD",value:this.total.toString(),breakdown:{item_total:{currency_code:"USD",value:this.total.toString()}}},items:[{name:"Months of rent",quantity:this.months.toString(),category:"DIGITAL_GOODS",unit_amount:{currency_code:"USD",value:this.house.price.toString()}}]}]}),advanced:{commit:"true"},style:{label:"paypal",layout:"vertical"},onApprove:(t,e)=>{console.log("onApprove - transaction was approved, but not authorized",t,e),e.order.get().then(t=>{console.log("onApprove - you can get full order details inside onApprove: ",t)})},onClientAuthorization:t=>{console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",t),this.showSuccess=!0},onCancel:(t,e)=>{console.log("OnCancel",t,e)},onError:t=>{console.log("OnError",t)},onClick:(t,e)=>{console.log("onClick",t,e)}}}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(Hr),r.Jb(En),r.Jb(Pv))},t.\u0275cmp=r.Db({type:t,selectors:[["app-house-details"]],decls:114,vars:20,consts:[[1,"main-content"],[1,"d-flex","justify-content-center","pt-2"],[1,"container","pt-2"],[1,"row"],[1,"col-lg-11"],[1,"slideshow-container"],["class","mySlides",4,"ngFor","ngForOf"],[1,"prev",3,"click"],[1,"next",3,"click"],[1,"col-md-auto"],[1,"d-flex","align-items-center"],[1,"table","borderless",2,"max-width","40vh","font-size","large"],[2,"color","black",3,"href"],[1,"table","borderless",2,"max-width","40vh","margin-top","2vh","font-size","large"],[2,"margin-top","-10px"],["id","months_select",1,"custom-select","mr-sm-1",3,"ngModel","ngModelChange"],["selected","","value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","8"],["value","12"],[1,"d-flex","justify-content-center",2,"margin-top","-3vh"],["type","button","data-toggle","modal","data-target","#RentModal",1,"btn","btn-lg","btn-primary",2,"font-size","large","min-width","20vh"],[1,"page-data"],[2,"font-size","medium"],["id","RentModal","tabindex","-1","role","dialog","aria-labelledby","RentTitle","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","RentTitle",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"d-flex","justify-content-center",2,"margin-bottom","2vh"],["environment","TEST","buttonType","buy","buttonColor","white",2,"width","30vh",3,"paymentRequest","loadpaymentdata"],[1,"d-flex","justify-content-center",2,"margin-bottom","1vh"],[2,"width","30vh",3,"config"],[1,"mySlides"],[1,"d-flex","justify-content-center"],[3,"src"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Mb(1,"div",1),r.Mb(2,"h4"),r.jc(3),r.Lb(),r.Lb(),r.Mb(4,"div",2),r.Mb(5,"div",3),r.Mb(6,"div",4),r.Mb(7,"div",5),r.ic(8,Lw,3,4,"div",6),r.Mb(9,"a",7),r.Tb("click",function(){return e.plusSlides(-1)}),r.jc(10,"\u276e"),r.Lb(),r.Mb(11,"a",8),r.Tb("click",function(){return e.plusSlides(1)}),r.jc(12,"\u276f"),r.Lb(),r.Lb(),r.Lb(),r.Mb(13,"div",9),r.Mb(14,"div",10),r.Mb(15,"table",11),r.Mb(16,"tbody"),r.Mb(17,"tr"),r.Mb(18,"td"),r.Mb(19,"b"),r.jc(20,"Category:"),r.Lb(),r.Lb(),r.Mb(21,"td"),r.jc(22),r.Lb(),r.Lb(),r.Mb(23,"tr"),r.Mb(24,"td"),r.Mb(25,"b"),r.jc(26,"Country:"),r.Lb(),r.Lb(),r.Mb(27,"td"),r.jc(28),r.Lb(),r.Lb(),r.Mb(29,"tr"),r.Mb(30,"td"),r.Mb(31,"b"),r.jc(32,"City:"),r.Lb(),r.Lb(),r.Mb(33,"td"),r.jc(34),r.Lb(),r.Lb(),r.Mb(35,"tr"),r.Mb(36,"td"),r.Mb(37,"b"),r.jc(38,"Rooms:"),r.Lb(),r.Lb(),r.Mb(39,"td"),r.jc(40),r.Lb(),r.Lb(),r.Mb(41,"tr"),r.Mb(42,"td"),r.Mb(43,"b"),r.jc(44,"Bathrooms:"),r.Lb(),r.Lb(),r.Mb(45,"td"),r.jc(46),r.Lb(),r.Lb(),r.Mb(47,"tr"),r.Mb(48,"td"),r.Mb(49,"b"),r.jc(50,"Price:"),r.Lb(),r.Lb(),r.Mb(51,"td"),r.jc(52),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(53,"h5"),r.jc(54),r.Lb(),r.Mb(55,"h6"),r.jc(56,"Mobile: "),r.Mb(57,"a",12),r.jc(58),r.Lb(),r.Lb(),r.Mb(59,"div",10),r.Mb(60,"table",13),r.Mb(61,"tbody"),r.Mb(62,"tr"),r.Mb(63,"td"),r.Mb(64,"b"),r.jc(65,"Months:"),r.Lb(),r.Lb(),r.Mb(66,"td",14),r.Mb(67,"select",15),r.Tb("ngModelChange",function(t){return e.months=t})("ngModelChange",function(){return e.countTotal()}),r.Mb(68,"option",16),r.jc(69,"One"),r.Lb(),r.Mb(70,"option",17),r.jc(71,"Two"),r.Lb(),r.Mb(72,"option",18),r.jc(73,"Three"),r.Lb(),r.Mb(74,"option",19),r.jc(75,"Four"),r.Lb(),r.Mb(76,"option",20),r.jc(77,"Five"),r.Lb(),r.Mb(78,"option",21),r.jc(79,"Six"),r.Lb(),r.Mb(80,"option",22),r.jc(81,"Eight"),r.Lb(),r.Mb(82,"option",23),r.jc(83,"Twelve"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(84,"tr"),r.Mb(85,"td"),r.Mb(86,"b"),r.jc(87,"Total:"),r.Lb(),r.Lb(),r.Mb(88,"td"),r.Mb(89,"p"),r.jc(90),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(91,"div",24),r.Mb(92,"button",25),r.jc(93,"Rent"),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(94,"div",26),r.Mb(95,"p",27),r.jc(96),r.Lb(),r.Lb(),r.Lb(),r.Mb(97,"div",28),r.Mb(98,"div",29),r.Mb(99,"div",30),r.Mb(100,"div",31),r.Mb(101,"h5",32),r.jc(102,"Place Order"),r.Lb(),r.Mb(103,"button",33),r.Mb(104,"span",34),r.jc(105,"\xd7"),r.Lb(),r.Lb(),r.Lb(),r.Mb(106,"div",35),r.Mb(107,"div",36),r.Mb(108,"h5"),r.jc(109),r.Lb(),r.Lb(),r.Mb(110,"div",36),r.Mb(111,"google-pay-button",37),r.Tb("loadpaymentdata",function(t){return e.onLoadPaymentData(t)}),r.Lb(),r.Lb(),r.Mb(112,"div",38),r.Kb(113,"ngx-paypal",39),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.yb(3),r.kc(e.getHouseCategory()),r.yb(3),r.gc(e.getMargin()),r.yb(2),r.Wb("ngForOf",e.house.photos),r.yb(14),r.kc(e.getCt()),r.yb(6),r.kc(e.house.country),r.yb(6),r.kc(e.house.city),r.yb(6),r.kc(e.house.roomsNumber),r.yb(6),r.kc(e.house.bathroomsNumber),r.yb(6),r.lc("$",e.house.price,""),r.yb(2),r.lc("Owner: ",e.owner.name,""),r.yb(3),r.Yb("href","tel:",e.owner.mobileNumber,"",r.dc),r.yb(1),r.kc(e.owner.mobileNumber),r.yb(9),r.Wb("ngModel",e.months),r.yb(23),r.lc("$",e.total,""),r.yb(6),r.kc(e.house.description),r.yb(13),r.lc("$",e.total," to pay. Pay with:"),r.yb(2),r.Wb("paymentRequest",e.googlePayConfig),r.yb(2),r.Wb("config",e.payPalConfig))},directives:[k,m_,s_,W_,y_,O_,Iw,Mw],styles:[".main-content[_ngcontent-%COMP%]{min-height:91vh;background:rgba(244,246,240,.7)}.mySlides[_ngcontent-%COMP%]{display:none}img[_ngcontent-%COMP%]{vertical-align:middle;horiz-align:center}.slideshow-container[_ngcontent-%COMP%]{max-width:120vh;position:relative;margin:auto}.next[_ngcontent-%COMP%], .prev[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;width:auto;padding:16px;margin-top:-22px;color:#151f28;text-decoration:none;font-weight:700;font-size:18px;transition:.6s ease;border-radius:0 3px 3px 0;-webkit-user-select:none;user-select:none}.next[_ngcontent-%COMP%]{right:0;border-radius:3px 0 0 3px}.next[_ngcontent-%COMP%]:hover, .prev[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;color:#000}.page-data[_ngcontent-%COMP%]{padding:2em}.borderless[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .borderless[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none}"]}),t})()}]}];let Dw=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[ei.forRoot(Rw)],ei]}),t})(),Vw=(()=>{class t{constructor(){this.title="rently-front"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Db({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Kb(0,"router-outlet")},directives:[Gr],styles:[""]}),t})();const Uw=new r.q("AdsenseConfig");let Fw=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:Uw,useValue:e}]}}}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[P]]}),t})();class qw{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Hw(t,this.dueTime,this.scheduler))}}class Hw extends vt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(zw,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function zw(t){t.debouncedNext()}var Bw="firebasestorage.googleapis.com",Gw=function(t){function e(n,r){var i=t.call(this,Qw(n),"Firebase Storage: "+r+" ("+Qw(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(Iu.c)(e,t),e.prototype._codeEquals=function(t){return Qw(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(xi.c);function Qw(t){return"storage/"+t}function Ww(){return new Gw("unknown","An unknown error occurred, please check the error payload for server response.")}function $w(){return new Gw("canceled","User canceled the upload/download.")}function Kw(){return new Gw("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Yw(t){return new Gw("invalid-argument",t)}function Xw(){return new Gw("app-deleted","The Firebase app was deleted.")}function Jw(t){return new Gw("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zw(t,e){return new Gw("invalid-format","String does not match format '"+t+"': "+e)}function tO(t){throw new Gw("internal-error","Internal error: "+t)}var eO={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},nO=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function rO(t,e){switch(t){case eO.RAW:return new nO(iO(e));case eO.BASE64:case eO.BASE64URL:return new nO(oO(t,e));case eO.DATA_URL:return new nO((n=new sO(e)).base64?oO(eO.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(qy){throw Zw(eO.DATA_URL,"Malformed data URL.")}return iO(e)}(n.rest),new sO(e).contentType)}var n;throw Ww()}function iO(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function oO(t,e){switch(t){case eO.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Zw(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case eO.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Zw(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(qy){throw Zw(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var sO=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Zw(eO.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),aO={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function uO(t){switch(t){case"running":case"pausing":case"canceling":return aO.RUNNING;case"paused":return aO.PAUSED;case"success":return aO.SUCCESS;case"canceled":return aO.CANCELED;case"error":default:return aO.ERROR}}var cO=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),lO=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=cO.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=cO.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=cO.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw tO("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw tO("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw tO("cannot .getStatus() before sending");try{return this.xhr_.status}catch(qy){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw tO("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),hO=function(){function t(){}return t.prototype.createXhrIo=function(){return new lO},t}();function fO(t){return"string"==typeof t||t instanceof String}function dO(t){return pO()&&t instanceof Blob}function pO(){return"undefined"!=typeof Blob}function gO(t,e,n,r){if(r<e)throw Yw("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Yw("Invalid value for '"+t+"'. Expected "+n+" or less.")}function bO(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function mO(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=bO();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(pO())return new Blob(t);throw new Gw("unsupported-environment","This browser doesn't seem to support creating Blobs")}var yO=function(){function t(t,e){var n=0,r="";dO(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(dO(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(pO()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(mO.apply(null,r))}var i=e.map(function(t){return fO(t)?rO(eO.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),vO=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(qy){return new t(e,"")}if(""===n.path)return n;throw new Gw("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=Bw.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<a.length;u++){var c=a[u],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new Gw("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function _O(t){var e,n;try{e=JSON.parse(t)}catch(qy){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function wO(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function OO(t){return"https://"+Bw+"/v0"+t}function EO(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function CO(t,e){return e}var xO=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||CO}}(),SO=null;function TO(){if(SO)return SO;var t=[];t.push(new xO("bucket")),t.push(new xO("generation")),t.push(new xO("metageneration")),t.push(new xO("name","fullPath",!0));var e=new xO("name");e.xform=function(t,e){return function(t){return!fO(t)||t.length<2?t:wO(t)}(e)},t.push(e);var n=new xO("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new xO("timeCreated")),t.push(new xO("updated")),t.push(new xO("md5Hash",null,!0)),t.push(new xO("cacheControl",null,!0)),t.push(new xO("contentDisposition",null,!0)),t.push(new xO("contentEncoding",null,!0)),t.push(new xO("contentLanguage",null,!0)),t.push(new xO("contentType",null,!0)),t.push(new xO("metadata","customMetadata",!0)),SO=t}function IO(t,e,n){var r=_O(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new vO(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function jO(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var kO=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function AO(t){if(!t)throw Ww()}function PO(t,e){return function(n,r){var i=IO(t,r,e);return AO(null!==i),i}}function MO(t){return function(e,n){var r;return(r=401===e.getStatus()?new Gw("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Gw("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Gw("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function NO(t){var e=MO(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Gw("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function LO(t,e,n){var r=OO(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new kO(r,"GET",PO(t,n),i);return o.errorHandler=NO(e),o}function RO(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var DO=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function VO(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(qy){AO(!1)}return AO(!!n&&-1!==(e||["active"]).indexOf(n)),n}var UO=262144,FO=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function qO(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var HO=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=TO(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=RO(e,r,i),a={name:s.fullPath},u=OO(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=jO(s,n),h=new kO(u,"POST",function(t){var e;VO(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(qy){AO(!1)}return AO(fO(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=MO(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new kO(n,"POST",function(t){var e=VO(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(qy){AO(!1)}n||AO(!1);var i=Number(n);return AO(!isNaN(i)),new DO(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=MO(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=UO*this._chunkMultiplier,n=new DO(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var u=new DO(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Gw("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw Kw();var p=new kO(n,"POST",function(t,n){var i,s=VO(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?PO(e,o)(t,n):null,new DO(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=a||null,p.errorHandler=MO(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(qy){return t._error=qy,void t._transition("error")}var s=t._ref.storage._makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){UO*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=LO(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=RO(e,r,i),c=jO(u,n),l=yO.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw Kw();var h={name:u.fullPath},f=OO(o),d=t.maxUploadRetryTime,p=new kO(f,"POST",PO(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=MO(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=$w(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=uO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new FO(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(uO(this._state)){case aO.SUCCESS:qO(this._resolve.bind(null,this.snapshot))();break;case aO.CANCELED:case aO.ERROR:qO(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(uO(this._state)){case aO.RUNNING:case aO.PAUSED:t.next&&qO(t.next.bind(t,this.snapshot))();break;case aO.SUCCESS:t.complete&&qO(t.complete.bind(t))();break;case aO.CANCELED:case aO.ERROR:t.error&&qO(t.error.bind(t,this._error))();break;default:t.error&&qO(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),zO=function(){function t(t,e){this._service=t,this._location=e instanceof vO?e:vO.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new vO(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return wO(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new vO(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw Jw(t)},t}();function BO(t){var e={prefixes:[],items:[]};return GO(t,e).then(function(){return e})}function GO(t,e,n){return Object(Iu.b)(this,void 0,void 0,function(){var r,i,o;return Object(Iu.d)(this,function(s){switch(s.label){case 0:return[4,QO(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,GO(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function QO(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r,i;return Object(Iu.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&gO("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=OO(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new kO(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=_O(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new vO(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new vO(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return AO(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=MO(e),u}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}})})}function WO(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new vO(t._location.bucket,n);return new zO(t.storage,r)}var $O=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),KO=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new $O(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new $O(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new $O(t,i,i._ref))}:{next:e.next?function(t){return e.next(new $O(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),YO=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new XO(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new XO(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),XO=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(WO(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new KO(function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new HO(t,new yO(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=eO.RAW),this._throwIfRoot("putString");var r=rO(e,t),i=Object(Iu.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new KO(new HO(this._delegate,new yO(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return BO(this._delegate).then(function(e){return new YO(e,t.storage)})},t.prototype.list=function(t){var e=this;return QO(this._delegate,t).then(function(t){return new YO(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(Iu.b)(this,void 0,void 0,function(){var e,n;return Object(Iu.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=LO(t.storage,t._location,TO()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(Iu.b)(this,void 0,void 0,function(){var n,r;return Object(Iu.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=OO(e.fullServerUrl()),o=jO(n,r),s=t.maxOperationRetryTime,a=new kO(i,"PATCH",PO(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=NO(e),a}(t.storage,t._location,e,TO()),[2,t.storage._makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(Iu.b)(this,void 0,void 0,function(){var e,n;return Object(Iu.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=OO(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new kO(r,"GET",function(t,e){return function(n,r){var i=IO(t,r,e);return AO(null!==i),function(t,e){var n=_O(e);if(null===n)return null;if(!fO(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return OO("/b/"+i(t.bucket)+"/o/"+i(n))+EO({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=NO(e),o}(t.storage,t._location,TO()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new Gw("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(Iu.b)(this,void 0,void 0,function(){var e,n;return Object(Iu.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=OO(e.fullServerUrl()),r=new kO(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=NO(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw Jw(t)},t}(),JO=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),ZO=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(qy){o(qy)}else null!==s?((r=Ww()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?Xw():$w():new Gw("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new tE(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new tE(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===cO.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new tE(s,n))}else{var a=n.getErrorCode()===cO.ABORT;e(!1,new tE(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Iu.g)([null,t],e));else{var r;u()||s?l.call.apply(l,Object(Iu.g)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),tE=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function eE(t){return/^[A-Za-z]+:\/\//.test(t)}function nE(t,e){if(t instanceof sE){var n=t;if(null==n._bucket)throw new Gw("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new zO(n,n._bucket);return null!=e?nE(r,e):r}if(void 0!==e){if(e.includes(".."))throw Yw('`path` param cannot contain ".."');return WO(t,e)}return t}function rE(t,e){if(e&&eE(e)){if(t instanceof sE)return new zO(t,e);throw Yw("To use ref(service, url), the first argument must be a Storage instance.")}return nE(t,e)}var iE,oE,sE=function(){function t(t,e,n,r,i){var o,s;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?vO.makeFromBucketSpec(r):null==(s=null==(o=this.app.options)?void 0:o.storageBucket)?null:vO.makeFromBucketSpec(s)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){gO("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){gO("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(Iu.b)(this,void 0,void 0,function(){var t,e;return Object(Iu.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new zO(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new JO(Xw());var r=function(t,e,n,r,i){var o=EO(t.urlParams),s=t.url+o,a=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(a,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(a,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(a,i),new ZO(s,t.method,a,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),aE=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(eE(t))throw Yw("ref() expected a child path but got a URL, use refFromURL instead.");return new XO(rE(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!eE(t))throw Yw("refFromURL() expected a full URL but got a child path, use ref() instead.");try{vO.makeFromUrl(t)}catch(qy){throw Yw("refFromUrl() expected a valid full URL but got an invalid one.")}return new XO(rE(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function uE(t){const e=function(t){return new Et.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=pi.a){return n=>n.lift(new qw(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(Nt.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function cE(t,e,n){return{getDownloadURL:()=>Object(dt.a)(void 0).pipe(Object(_i.b)(e.outsideAngular),Rt(()=>t.getDownloadURL()),n),getMetadata:()=>Object(dt.a)(void 0).pipe(Object(_i.b)(e.outsideAngular),Rt(()=>t.getMetadata()),n),delete:()=>Object(ft.a)(t.delete()),child:r=>cE(t.child(r),e,n),updateMetadata:e=>Object(ft.a)(t.updateMetadata(e)),put:(e,n)=>uE(t.put(e,n)),putString:(e,n,r)=>uE(t.putString(e,n,r)),listAll:()=>Object(ft.a)(t.listAll())}}oE={TaskState:aO,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:eO,Storage:sE,Reference:XO},(iE=Ei.a).INTERNAL.registerComponent(new By.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new aE(n,new sE(n,r,new hO,e,Ei.a.SDK_VERSION))},"PUBLIC").setServiceProps(oE).setMultipleInstances(!0)),iE.registerVersion("@firebase/storage","0.4.3");const lE=new r.q("angularfire2.storageBucket"),hE=new r.q("angularfire2.storage.maxUploadRetryTime"),fE=new r.q("angularfire2.storage.maxOperationRetryTime");let dE=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new wi.d(i),this.keepUnstableUntilFirst=Object(wi.h)(this.schedulers);const a=Object(wi.g)(t,i,e);this.storage=Object(wi.f)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return cE(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return cE(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return cE(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(wi.c),r.Qb(wi.b,8),r.Qb(lE,8),r.Qb(r.B),r.Qb(r.z),r.Qb(hE,8),r.Qb(fE,8))},t.\u0275prov=Object(r.Fb)({factory:function(){return new t(Object(r.Qb)(wi.c),Object(r.Qb)(wi.b,8),Object(r.Qb)(lE,8),Object(r.Qb)(r.B),Object(r.Qb)(r.z),Object(r.Qb)(hE,8),Object(r.Qb)(fE,8))},token:t,providedIn:"any"}),t})(),pE=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)}}),t})(),gE=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[dE],imports:[pE]}),t})(),bE=(()=>{class t{}return t.\u0275mod=r.Hb({type:t,bootstrap:[Vw]}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},providers:[Av],imports:[[ht,Dw,wi.a.initializeApp(i),av,Ev,gE,cw,lw,Fw.forRoot({adClient:"ca-pub-7793855420321475",adSlot:void 0}),jw,Nw]]}),t})();Object(r.S)(),ct().bootstrapModule(bE).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);